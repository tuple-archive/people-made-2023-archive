/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/formie-form-base.js":
/*!************************************!*\
  !*** ./src/js/formie-form-base.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FormieFormBase\": () => (/* binding */ FormieFormBase)\n/* harmony export */ });\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/utils */ \"./src/js/utils/utils.js\");\n/* harmony import */ var _formie_form_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formie-form-theme */ \"./src/js/formie-form-theme.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\nvar FormieFormBase = /*#__PURE__*/function () {\n  function FormieFormBase($form) {\n    var _this = this;\n\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, FormieFormBase);\n\n    this.$form = $form;\n    this.config = config;\n    this.settings = config.settings;\n    this.listeners = {};\n\n    if (!this.$form) {\n      return;\n    }\n\n    this.$form.form = this;\n\n    if (this.settings.outputJsTheme) {\n      this.formTheme = new _formie_form_theme__WEBPACK_IMPORTED_MODULE_1__.FormieFormTheme(this.$form, this.config);\n    } // Add helper classes to fields when their inputs are focused, have values etc.\n\n\n    this.registerFieldEvents(this.$form); // Hijack the form's submit handler, in case we need to do something\n\n    this.addEventListener(this.$form, 'submit', function (e) {\n      e.preventDefault();\n\n      var beforeSubmitEvent = _this.eventObject('onBeforeFormieSubmit', {\n        submitHandler: _this\n      });\n\n      if (!_this.$form.dispatchEvent(beforeSubmitEvent)) {\n        return;\n      } // Add a little delay for UX\n\n\n      setTimeout(function () {\n        // Call the validation hooks\n        if (!_this.validate() || !_this.afterValidate()) {\n          return;\n        } // Trigger Captchas\n\n\n        if (!_this.validateCaptchas()) {\n          return;\n        } // Trigger Payment Integrations\n\n\n        if (!_this.validatePayment()) {\n          return;\n        } // Proceed with submitting the form, which raises other validation events\n\n\n        _this.submitForm();\n      }, 300);\n    }, false);\n  }\n\n  _createClass(FormieFormBase, [{\n    key: \"validate\",\n    value: function validate() {\n      // Create an event for front-end validation (our own JS)\n      var validateEvent = this.eventObject('onFormieValidate', {\n        submitHandler: this\n      });\n      return this.$form.dispatchEvent(validateEvent);\n    }\n  }, {\n    key: \"afterValidate\",\n    value: function afterValidate() {\n      // Create an event for after validation. This is mostly for third-parties.\n      var afterValidateEvent = this.eventObject('onAfterFormieValidate', {\n        submitHandler: this\n      });\n      return this.$form.dispatchEvent(afterValidateEvent);\n    }\n  }, {\n    key: \"validateCaptchas\",\n    value: function validateCaptchas() {\n      // Create an event for captchas, separate to validation\n      var validateEvent = this.eventObject('onFormieCaptchaValidate', {\n        submitHandler: this\n      });\n      return this.$form.dispatchEvent(validateEvent);\n    }\n  }, {\n    key: \"validatePayment\",\n    value: function validatePayment() {\n      // Create an event for payments, separate to validation\n      var validateEvent = this.eventObject('onFormiePaymentValidate', {\n        submitHandler: this\n      });\n      return this.$form.dispatchEvent(validateEvent);\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm() {\n      var submitEvent = this.eventObject('onFormieSubmit', {\n        submitHandler: this\n      });\n\n      if (!this.$form.dispatchEvent(submitEvent)) {\n        return;\n      }\n\n      if (this.settings.submitMethod === 'ajax') {\n        this.formAfterSubmit();\n      } else {\n        this.$form.submit();\n      }\n    }\n  }, {\n    key: \"formAfterSubmit\",\n    value: function formAfterSubmit() {\n      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.$form.dispatchEvent(new CustomEvent('onAfterFormieSubmit', {\n        bubbles: true,\n        detail: data\n      }));\n    }\n  }, {\n    key: \"formSubmitError\",\n    value: function formSubmitError() {\n      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.$form.dispatchEvent(new CustomEvent('onFormieSubmitError', {\n        bubbles: true,\n        detail: data\n      }));\n    }\n  }, {\n    key: \"registerFieldEvents\",\n    value: function registerFieldEvents($element) {\n      var _this2 = this;\n\n      var $wrappers = $element.querySelectorAll('[data-field-type]');\n      $wrappers.forEach(function ($wrapper) {\n        var $input = $wrapper.querySelector('input, select');\n\n        if ($input) {\n          _this2.addEventListener($input, 'input', function (event) {\n            $wrapper.dispatchEvent(new CustomEvent('input', {\n              bubbles: false,\n              detail: {\n                input: event.target\n              }\n            }));\n          });\n\n          _this2.addEventListener($input, 'focus', function (event) {\n            $wrapper.dispatchEvent(new CustomEvent('focus', {\n              bubbles: false,\n              detail: {\n                input: event.target\n              }\n            }));\n          });\n\n          _this2.addEventListener($input, 'blur', function (event) {\n            $wrapper.dispatchEvent(new CustomEvent('blur', {\n              bubbles: false,\n              detail: {\n                input: event.target\n              }\n            }));\n          });\n\n          $wrapper.dispatchEvent(new CustomEvent('init', {\n            bubbles: false,\n            detail: {\n              input: $input\n            }\n          }));\n        }\n      });\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(element, event, func) {\n      this.listeners[event] = {\n        element: element,\n        func: func\n      };\n      element.addEventListener(event.split('.')[0], this.listeners[event].func);\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(event) {\n      var eventInfo = this.listeners[event] || {};\n\n      if (eventInfo && eventInfo.element && eventInfo.func) {\n        eventInfo.element.removeEventListener(event.split('.')[0], eventInfo.func);\n        delete this.listeners[event];\n      }\n    }\n  }, {\n    key: \"eventObject\",\n    value: function eventObject(name, detail) {\n      return new CustomEvent(name, {\n        bubbles: true,\n        cancelable: true,\n        detail: detail\n      });\n    }\n  }, {\n    key: \"getClasses\",\n    value: function getClasses(key) {\n      var classes = this.settings.classes || {};\n      return classes[key];\n    }\n  }]);\n\n  return FormieFormBase;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUsvQyxRQUFMLENBQWMrQyxPQUFkLElBQXlCLEVBQXpDO01BRUEsT0FBT0EsT0FBTyxDQUFDRCxHQUFELENBQWQ7SUFDSDtFQWhNTDs7RUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2Zvcm1pZS1mb3JtLWJhc2UuanM/MGYwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0IH0gZnJvbSAnLi91dGlscy91dGlscyc7XG5cbmltcG9ydCB7IEZvcm1pZUZvcm1UaGVtZSB9IGZyb20gJy4vZm9ybWllLWZvcm0tdGhlbWUnO1xuXG5leHBvcnQgY2xhc3MgRm9ybWllRm9ybUJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCRmb3JtLCBjb25maWcgPSB7fSkge1xuICAgICAgICB0aGlzLiRmb3JtID0gJGZvcm07XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gY29uZmlnLnNldHRpbmdzO1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuXG4gICAgICAgIGlmICghdGhpcy4kZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kZm9ybS5mb3JtID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5vdXRwdXRKc1RoZW1lKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm1UaGVtZSA9IG5ldyBGb3JtaWVGb3JtVGhlbWUodGhpcy4kZm9ybSwgdGhpcy5jb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGhlbHBlciBjbGFzc2VzIHRvIGZpZWxkcyB3aGVuIHRoZWlyIGlucHV0cyBhcmUgZm9jdXNlZCwgaGF2ZSB2YWx1ZXMgZXRjLlxuICAgICAgICB0aGlzLnJlZ2lzdGVyRmllbGRFdmVudHModGhpcy4kZm9ybSk7XG5cbiAgICAgICAgLy8gSGlqYWNrIHRoZSBmb3JtJ3Mgc3VibWl0IGhhbmRsZXIsIGluIGNhc2Ugd2UgbmVlZCB0byBkbyBzb21ldGhpbmdcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHRoaXMuJGZvcm0sICdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBjb25zdCBiZWZvcmVTdWJtaXRFdmVudCA9IHRoaXMuZXZlbnRPYmplY3QoJ29uQmVmb3JlRm9ybWllU3VibWl0Jywge1xuICAgICAgICAgICAgICAgIHN1Ym1pdEhhbmRsZXI6IHRoaXMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLiRmb3JtLmRpc3BhdGNoRXZlbnQoYmVmb3JlU3VibWl0RXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgYSBsaXR0bGUgZGVsYXkgZm9yIFVYXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSB2YWxpZGF0aW9uIGhvb2tzXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlKCkgfHwgIXRoaXMuYWZ0ZXJWYWxpZGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIENhcHRjaGFzXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlQ2FwdGNoYXMoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBQYXltZW50IEludGVncmF0aW9uc1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZVBheW1lbnQoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUHJvY2VlZCB3aXRoIHN1Ym1pdHRpbmcgdGhlIGZvcm0sIHdoaWNoIHJhaXNlcyBvdGhlciB2YWxpZGF0aW9uIGV2ZW50c1xuICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0Rm9ybSgpO1xuICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIHZhbGlkYXRlKCkge1xuICAgICAgICAvLyBDcmVhdGUgYW4gZXZlbnQgZm9yIGZyb250LWVuZCB2YWxpZGF0aW9uIChvdXIgb3duIEpTKVxuICAgICAgICBjb25zdCB2YWxpZGF0ZUV2ZW50ID0gdGhpcy5ldmVudE9iamVjdCgnb25Gb3JtaWVWYWxpZGF0ZScsIHtcbiAgICAgICAgICAgIHN1Ym1pdEhhbmRsZXI6IHRoaXMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLiRmb3JtLmRpc3BhdGNoRXZlbnQodmFsaWRhdGVFdmVudCk7XG4gICAgfVxuXG4gICAgYWZ0ZXJWYWxpZGF0ZSgpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGFuIGV2ZW50IGZvciBhZnRlciB2YWxpZGF0aW9uLiBUaGlzIGlzIG1vc3RseSBmb3IgdGhpcmQtcGFydGllcy5cbiAgICAgICAgY29uc3QgYWZ0ZXJWYWxpZGF0ZUV2ZW50ID0gdGhpcy5ldmVudE9iamVjdCgnb25BZnRlckZvcm1pZVZhbGlkYXRlJywge1xuICAgICAgICAgICAgc3VibWl0SGFuZGxlcjogdGhpcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuJGZvcm0uZGlzcGF0Y2hFdmVudChhZnRlclZhbGlkYXRlRXZlbnQpO1xuICAgIH1cblxuICAgIHZhbGlkYXRlQ2FwdGNoYXMoKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhbiBldmVudCBmb3IgY2FwdGNoYXMsIHNlcGFyYXRlIHRvIHZhbGlkYXRpb25cbiAgICAgICAgY29uc3QgdmFsaWRhdGVFdmVudCA9IHRoaXMuZXZlbnRPYmplY3QoJ29uRm9ybWllQ2FwdGNoYVZhbGlkYXRlJywge1xuICAgICAgICAgICAgc3VibWl0SGFuZGxlcjogdGhpcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuJGZvcm0uZGlzcGF0Y2hFdmVudCh2YWxpZGF0ZUV2ZW50KTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZVBheW1lbnQoKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhbiBldmVudCBmb3IgcGF5bWVudHMsIHNlcGFyYXRlIHRvIHZhbGlkYXRpb25cbiAgICAgICAgY29uc3QgdmFsaWRhdGVFdmVudCA9IHRoaXMuZXZlbnRPYmplY3QoJ29uRm9ybWllUGF5bWVudFZhbGlkYXRlJywge1xuICAgICAgICAgICAgc3VibWl0SGFuZGxlcjogdGhpcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuJGZvcm0uZGlzcGF0Y2hFdmVudCh2YWxpZGF0ZUV2ZW50KTtcbiAgICB9XG5cbiAgICBzdWJtaXRGb3JtKCkge1xuICAgICAgICBjb25zdCBzdWJtaXRFdmVudCA9IHRoaXMuZXZlbnRPYmplY3QoJ29uRm9ybWllU3VibWl0Jywge1xuICAgICAgICAgICAgc3VibWl0SGFuZGxlcjogdGhpcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLiRmb3JtLmRpc3BhdGNoRXZlbnQoc3VibWl0RXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zdWJtaXRNZXRob2QgPT09ICdhamF4Jykge1xuICAgICAgICAgICAgdGhpcy5mb3JtQWZ0ZXJTdWJtaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJGZvcm0uc3VibWl0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3JtQWZ0ZXJTdWJtaXQoZGF0YSA9IHt9KSB7XG4gICAgICAgIHRoaXMuJGZvcm0uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ29uQWZ0ZXJGb3JtaWVTdWJtaXQnLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiBkYXRhLFxuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgZm9ybVN1Ym1pdEVycm9yKGRhdGEgPSB7fSkge1xuICAgICAgICB0aGlzLiRmb3JtLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdvbkZvcm1pZVN1Ym1pdEVycm9yJywge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGRldGFpbDogZGF0YSxcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyRmllbGRFdmVudHMoJGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgJHdyYXBwZXJzID0gJGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmllbGQtdHlwZV0nKTtcblxuICAgICAgICAkd3JhcHBlcnMuZm9yRWFjaCgoJHdyYXBwZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0ICRpbnB1dCA9ICR3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0LCBzZWxlY3QnKTtcblxuICAgICAgICAgICAgaWYgKCRpbnB1dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigkaW5wdXQsICdpbnB1dCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkd3JhcHBlci5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnaW5wdXQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJGlucHV0LCAnZm9jdXMnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgJHdyYXBwZXIuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2ZvY3VzJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCRpbnB1dCwgJ2JsdXInLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgJHdyYXBwZXIuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2JsdXInLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkd3JhcHBlci5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnaW5pdCcsIHtcbiAgICAgICAgICAgICAgICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICRpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWxlbWVudCwgZXZlbnQsIGZ1bmMpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnRdID0geyBlbGVtZW50LCBmdW5jIH07XG5cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LnNwbGl0KCcuJylbMF0sIHRoaXMubGlzdGVuZXJzW2V2ZW50XS5mdW5jKTtcbiAgICB9XG5cbiAgICByZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGV2ZW50SW5mbyA9IHRoaXMubGlzdGVuZXJzW2V2ZW50XSB8fCB7fTtcblxuICAgICAgICBpZiAoZXZlbnRJbmZvICYmIGV2ZW50SW5mby5lbGVtZW50ICYmIGV2ZW50SW5mby5mdW5jKSB7XG4gICAgICAgICAgICBldmVudEluZm8uZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LnNwbGl0KCcuJylbMF0sIGV2ZW50SW5mby5mdW5jKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc1tldmVudF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBldmVudE9iamVjdChuYW1lLCBkZXRhaWwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDdXN0b21FdmVudChuYW1lLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGRldGFpbCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0Q2xhc3NlcyhrZXkpIHtcbiAgICAgICAgY29uc3QgY2xhc3NlcyA9IHRoaXMuc2V0dGluZ3MuY2xhc3NlcyB8fCB7fTtcblxuICAgICAgICByZXR1cm4gY2xhc3Nlc1trZXldO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJ0IiwiRm9ybWllRm9ybVRoZW1lIiwiRm9ybWllRm9ybUJhc2UiLCIkZm9ybSIsImNvbmZpZyIsInNldHRpbmdzIiwibGlzdGVuZXJzIiwiZm9ybSIsIm91dHB1dEpzVGhlbWUiLCJmb3JtVGhlbWUiLCJyZWdpc3RlckZpZWxkRXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImJlZm9yZVN1Ym1pdEV2ZW50IiwiZXZlbnRPYmplY3QiLCJzdWJtaXRIYW5kbGVyIiwiZGlzcGF0Y2hFdmVudCIsInNldFRpbWVvdXQiLCJ2YWxpZGF0ZSIsImFmdGVyVmFsaWRhdGUiLCJ2YWxpZGF0ZUNhcHRjaGFzIiwidmFsaWRhdGVQYXltZW50Iiwic3VibWl0Rm9ybSIsInZhbGlkYXRlRXZlbnQiLCJhZnRlclZhbGlkYXRlRXZlbnQiLCJzdWJtaXRFdmVudCIsInN1Ym1pdE1ldGhvZCIsImZvcm1BZnRlclN1Ym1pdCIsInN1Ym1pdCIsImRhdGEiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJkZXRhaWwiLCIkZWxlbWVudCIsIiR3cmFwcGVycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiJHdyYXBwZXIiLCIkaW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwiZXZlbnQiLCJpbnB1dCIsInRhcmdldCIsImVsZW1lbnQiLCJmdW5jIiwic3BsaXQiLCJldmVudEluZm8iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibmFtZSIsImNhbmNlbGFibGUiLCJrZXkiLCJjbGFzc2VzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/formie-form-base.js\n");

/***/ }),

/***/ "./src/js/formie-form-theme.js":
/*!*************************************!*\
  !*** ./src/js/formie-form-theme.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FormieFormTheme\": () => (/* binding */ FormieFormTheme)\n/* harmony export */ });\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/utils */ \"./src/js/utils/utils.js\");\n/* harmony import */ var _utils_bouncer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/bouncer */ \"./src/js/utils/bouncer.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\nvar FormieFormTheme = /*#__PURE__*/function () {\n  function FormieFormTheme($form) {\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, FormieFormTheme);\n\n    this.$form = $form;\n    this.config = config;\n    this.settings = config.settings;\n    this.validationOnSubmit = !!this.settings.validationOnSubmit;\n    this.validationOnFocus = !!this.settings.validationOnFocus;\n    this.setCurrentPage(this.settings.currentPageId);\n\n    if (!this.$form) {\n      return;\n    }\n\n    this.$form.formTheme = this;\n    this.form = this.$form.form; // Setup classes according to theme config\n\n    this.loadingClass = this.form.getClasses('loading');\n    this.tabErrorClass = this.form.getClasses('tabError');\n    this.tabActiveClass = this.form.getClasses('tabActive');\n    this.errorMessageClass = this.form.getClasses('errorMessage');\n    this.successMessageClass = this.form.getClasses('successMessage');\n    this.alertClass = this.form.getClasses('alert');\n    this.alertErrorClass = this.form.getClasses('alertError');\n    this.alertSuccessClass = this.form.getClasses('alertSuccess');\n    this.tabClass = this.form.getClasses('tab');\n    this.initValidator(); // Check if this is a success page and if we need to hide the notice\n    // This is for non-ajax forms, where the page has reloaded\n\n    this.hideSuccess(); // Hijack the form's submit handler, in case we need to do something\n\n    this.addSubmitEventListener(); // Save the form's current state so we can tell if its changed later on\n\n    this.updateFormHash(); // Listen to form changes if the user tries to reload\n\n    if (this.settings.enableUnloadWarning) {\n      this.addFormUnloadEventListener();\n    } // Listen to tabs being clicked for ajax-enabled forms\n\n\n    if (this.settings.submitMethod === 'ajax') {\n      this.formTabEventListener();\n    }\n  }\n\n  _createClass(FormieFormTheme, [{\n    key: \"initValidator\",\n    value: function initValidator() {\n      var _this = this;\n\n      // Kick off validation - use this even if disabling client-side validation\n      // so we can use a nice API handle server-side errprs\n      var validatorSettings = {\n        fieldClass: 'fui-error',\n        errorClass: this.form.getClasses('fieldError'),\n        fieldPrefix: 'fui-field-',\n        errorPrefix: 'fui-error-',\n        messageAfterField: true,\n        messageCustom: 'data-fui-message',\n        messageTarget: 'data-fui-target',\n        validateOnBlur: this.validationOnFocus,\n        // Call validation on-demand\n        validateOnSubmit: false,\n        disableSubmit: false,\n        customValidations: {},\n        messages: {\n          missingValue: {\n            checkbox: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('This field is required.'),\n            radio: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please select a value.'),\n            select: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please select a value.'),\n            'select-multiple': (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please select at least one value.'),\n            \"default\": (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please fill out this field.')\n          },\n          patternMismatch: {\n            email: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please enter a valid email address.'),\n            url: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please enter a URL.'),\n            number: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please enter a number'),\n            color: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please match the following format: #rrggbb'),\n            date: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please use the YYYY-MM-DD format'),\n            time: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please use the 24-hour time format. Ex. 23:00'),\n            month: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please use the YYYY-MM format'),\n            \"default\": (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please match the requested format.')\n          },\n          outOfRange: {\n            over: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please select a value that is no more than {max}.'),\n            under: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please select a value that is no less than {min}.')\n          },\n          wrongLength: {\n            over: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please shorten this text to no more than {maxLength} characters. You are currently using {length} characters.'),\n            under: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Please lengthen this text to {minLength} characters or more. You are currently using {length} characters.')\n          },\n          fallback: (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('There was an error with this field.')\n        }\n      }; // Allow other modules to modify our validator settings (for custom rules and messages)\n\n      var registerFormieValidation = new CustomEvent('registerFormieValidation', {\n        bubbles: true,\n        detail: {\n          validatorSettings: validatorSettings\n        }\n      }); // Give a small amount of time for other JS scripts to register validations. These are lazy-loaded.\n      // Maybe re-think this so we don't have to deal with event listener registration before/after dispatch?\n\n      setTimeout(function () {\n        _this.$form.dispatchEvent(registerFormieValidation);\n\n        _this.validator = new _utils_bouncer__WEBPACK_IMPORTED_MODULE_1__.Bouncer(_this.$form, registerFormieValidation.detail.validatorSettings);\n      }, 500); // After we clear any error, validate the fielset again. Mostly so we can remove global errors\n\n      this.form.addEventListener(this.$form, 'bouncerRemoveError', function (e) {\n        // Prevent an infinite loop (check behaviour with an Agree field)\n        // https://github.com/verbb/formie/issues/905\n        if (!_this.submitDebounce) {\n          _this.validate(false);\n        }\n      }); // Override error messages defined in DOM - Bouncer only uses these as a last resort\n      // In future updates, we can probably remove this\n\n      this.form.addEventListener(this.$form, 'bouncerShowError', function (e) {\n        var message = null;\n        var $field = e.target;\n        var $fieldContainer = $field.closest('[data-field-type]'); // Get the error message as defined on the input element. Use the parent to find the element\n        // just to cater for some edge-cases where there might be multiple inputs (Datepicker).\n\n        var $message = $field.parentNode.querySelector('[data-fui-message]');\n\n        if ($message) {\n          message = $message.getAttribute('data-fui-message');\n        } // If there's a server error, it takes priority.\n\n\n        if (e.detail && e.detail.errors && e.detail.errors.serverMessage) {\n          message = e.detail.errors.serverMessage;\n        } // Check if we need to move the error out of the .fui-input-container node.\n        // Only the input itself should be in here.\n\n\n        var $errorToMove = $field.parentNode.querySelector('[data-error-message]');\n\n        if ($errorToMove && $errorToMove.parentNode.parentNode) {\n          $errorToMove.parentNode.parentNode.appendChild($errorToMove);\n        } // The error has been moved, find it again\n\n\n        if ($fieldContainer) {\n          var $error = $fieldContainer.querySelector('[data-error-message]');\n\n          if ($error && message) {\n            $error.textContent = message;\n          }\n        }\n      }, false);\n    }\n  }, {\n    key: \"addSubmitEventListener\",\n    value: function addSubmitEventListener() {\n      var _this2 = this;\n\n      var $submitBtns = this.$form.querySelectorAll('[type=\"submit\"]'); // Forms can have multiple submit buttons, and its easier to assign the currently clicked one\n      // than tracking it through the submit handler.\n\n      $submitBtns.forEach(function ($submitBtn) {\n        _this2.form.addEventListener($submitBtn, 'click', function (e) {\n          _this2.$submitBtn = e.target; // Store for later if we're using text spinner\n\n          _this2.originalButtonText = _this2.$submitBtn.textContent.trim();\n          var submitAction = _this2.$submitBtn.getAttribute('data-submit-action') || 'submit'; // Each submit button can do different things, to store that\n\n          _this2.updateSubmitAction(submitAction);\n        });\n      });\n      this.form.addEventListener(this.$form, 'onBeforeFormieSubmit', this.onBeforeSubmit.bind(this));\n      this.form.addEventListener(this.$form, 'onFormieValidate', this.onValidate.bind(this));\n      this.form.addEventListener(this.$form, 'onFormieSubmit', this.onSubmit.bind(this));\n      this.form.addEventListener(this.$form, 'onFormieSubmitError', this.onSubmitError.bind(this));\n    }\n  }, {\n    key: \"onBeforeSubmit\",\n    value: function onBeforeSubmit(e) {\n      this.beforeSubmit(); // Save for later to trigger real submit\n\n      this.submitHandler = e.detail.submitHandler;\n    }\n  }, {\n    key: \"onValidate\",\n    value: function onValidate(e) {\n      // If invalid, we only want to stop if we're submitting.\n      if (!this.validate()) {\n        this.onFormError(); // Set a flag on the event, so other listeners can potentially do something\n\n        e.detail.invalid = true;\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      // Stop base behaviour of just submitting the form\n      e.preventDefault(); // Either staight submit, or use Ajax\n\n      if (this.settings.submitMethod === 'ajax') {\n        this.ajaxSubmit();\n      } else {\n        // Before a server-side submit, refresh the saved hash immediately. Otherwise, the native submit\n        // handler - which technically unloads the page - will trigger the changed alert.\n        // But trigger an alert if we're going back, and back-submission data isn't set\n        if (!this.settings.enableBackSubmission && this.form.submitAction === 'back') {// Don't reset the hash, trigger a warning if content has changed, because we're not submitting\n        } else {\n          this.updateFormHash();\n        } // Triger any JS events for this page, only if submitting (not going back/saving)\n\n\n        if (this.form.submitAction === 'submit') {\n          this.triggerJsEvents();\n        }\n\n        this.$form.submit();\n      }\n    }\n  }, {\n    key: \"onSubmitError\",\n    value: function onSubmitError(e) {\n      this.onFormError();\n    }\n  }, {\n    key: \"addFormUnloadEventListener\",\n    value: function addFormUnloadEventListener() {\n      var _this3 = this;\n\n      this.form.addEventListener(window, 'beforeunload', function (e) {\n        if (_this3.savedFormHash !== _this3.hashForm()) {\n          e.preventDefault();\n          return e.returnValue = (0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Are you sure you want to leave?');\n        }\n      });\n    }\n  }, {\n    key: \"formTabEventListener\",\n    value: function formTabEventListener() {\n      var _this4 = this;\n\n      var $tabs = this.$form.querySelectorAll('[data-fui-page-tab-anchor]');\n      $tabs.forEach(function ($tab) {\n        _this4.form.addEventListener($tab, 'click', function (e) {\n          e.preventDefault();\n          var pageIndex = e.target.getAttribute('data-fui-page-index');\n          var pageId = e.target.getAttribute('data-fui-page-id');\n\n          _this4.togglePage({\n            nextPageIndex: pageIndex,\n            nextPageId: pageId,\n            totalPages: _this4.settings.pages.length\n          }); // Ensure we still update the current page server-side\n\n\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', e.target.getAttribute('href'), true);\n          xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.setRequestHeader('Cache-Control', 'no-cache');\n          xhr.send();\n        });\n      });\n    }\n  }, {\n    key: \"hashForm\",\n    value: function hashForm() {\n      var hash = {};\n      var formData = new FormData(this.$form); // Exlcude some params from the hash, that are programatically changed\n\n      var excludedItems = ['g-recaptcha-response', 'h-captcha-response', 'CRAFT_CSRF_TOKEN', '__JSCHK', 'submitAction'];\n\n      var _iterator = _createForOfIteratorHelper(formData.entries()),\n          _step;\n\n      try {\n        var _loop = function _loop() {\n          var pair = _step.value;\n          var isExcluded = excludedItems.filter(function (item) {\n            return pair[0].startsWith(item);\n          });\n\n          if (!isExcluded.length) {\n            // eslint-disable-next-line\n            hash[pair[0]] = pair[1];\n          }\n        };\n\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return JSON.stringify(hash);\n    }\n  }, {\n    key: \"updateFormHash\",\n    value: function updateFormHash() {\n      this.savedFormHash = this.hashForm();\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      var _this5 = this;\n\n      var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (!this.validationOnSubmit) {\n        return true;\n      } // Only validate on submit actions\n\n\n      if (this.form.submitAction !== 'submit') {\n        return true;\n      }\n\n      var $fieldset = this.$form;\n\n      if (this.$currentPage) {\n        $fieldset = this.$currentPage;\n      }\n\n      var invalidFields = this.validator.validateAll($fieldset); // If there are errors, focus on the first one\n\n      if (invalidFields.length > 0 && focus) {\n        invalidFields[0].focus();\n      } // Remove any global errors if none - just in case\n\n\n      if (invalidFields.length === 0) {\n        this.removeFormAlert();\n      } // Set the debounce after a little bit, to prevent an infinite loop, as this method\n      // is called on `bouncerRemoveError`.\n\n\n      this.submitDebounce = true;\n      setTimeout(function () {\n        _this5.submitDebounce = false;\n      }, 500);\n      return !invalidFields.length;\n    }\n  }, {\n    key: \"hideSuccess\",\n    value: function hideSuccess() {\n      var $successMessage = this.$form.parentNode.querySelector(\".\".concat(this.successMessageClass));\n\n      if ($successMessage && this.settings.submitActionMessageTimeout) {\n        var timeout = parseInt(this.settings.submitActionMessageTimeout, 10) * 1000;\n        setTimeout(function () {\n          $successMessage.remove();\n        }, timeout);\n      }\n    }\n  }, {\n    key: \"addLoading\",\n    value: function addLoading() {\n      if (this.$submitBtn) {\n        // Always disable the button\n        this.$submitBtn.setAttribute('disabled', true);\n\n        if (this.settings.loadingIndicator === 'spinner') {\n          this.$submitBtn.classList.add(this.loadingClass);\n        }\n\n        if (this.settings.loadingIndicator === 'text') {\n          this.$submitBtn.textContent = this.settings.loadingIndicatorText;\n        }\n      }\n    }\n  }, {\n    key: \"removeLoading\",\n    value: function removeLoading() {\n      if (this.$submitBtn) {\n        // Always enable the button\n        this.$submitBtn.removeAttribute('disabled');\n\n        if (this.settings.loadingIndicator === 'spinner') {\n          this.$submitBtn.classList.remove(this.loadingClass);\n        }\n\n        if (this.settings.loadingIndicator === 'text') {\n          this.$submitBtn.textContent = this.originalButtonText;\n        }\n      }\n    }\n  }, {\n    key: \"onFormError\",\n    value: function onFormError(errorMessage) {\n      if (errorMessage) {\n        this.showFormAlert(errorMessage, 'error');\n      } else {\n        this.showFormAlert(this.settings.errorMessage, 'error');\n      }\n\n      this.removeLoading();\n    }\n  }, {\n    key: \"showFormAlert\",\n    value: function showFormAlert(text, type) {\n      var $alert = this.$form.parentNode.querySelector('[role=\"alert\"]'); // Strip <p> tags\n\n      text = text.replace(/<p[^>]*>/g, '').replace(/<\\/p>/g, '');\n\n      if ($alert) {\n        // We have to cater for HTML entities - quick-n-dirty\n        if ($alert.innerHTML !== this.decodeHtml(text)) {\n          $alert.innerHTML = \"\".concat($alert.innerHTML, \"<br>\").concat(text);\n        }\n      } else {\n        $alert = document.createElement('div');\n        $alert.className = this.alertClass;\n        $alert.setAttribute('role', 'alert');\n        $alert.innerHTML = text; // For error notices, we have potential special handling on position\n\n        if (type == 'error') {\n          $alert.className += \" \".concat(this.alertErrorClass, \" \").concat(this.alertClass, \"-\").concat(this.settings.errorMessagePosition);\n\n          if (this.settings.errorMessagePosition == 'bottom-form') {\n            this.$submitBtn.parentNode.parentNode.insertBefore($alert, this.$submitBtn.parentNode);\n          } else if (this.settings.errorMessagePosition == 'top-form') {\n            this.$form.parentNode.insertBefore($alert, this.$form);\n          }\n        } else {\n          $alert.className += \" \".concat(this.alertSuccessClass, \" \").concat(this.alertClass, \"-\").concat(this.settings.submitActionMessagePosition);\n\n          if (this.settings.submitActionMessagePosition == 'bottom-form') {\n            // An even further special case when hiding the form!\n            if (this.settings.submitActionFormHide) {\n              this.$form.parentNode.insertBefore($alert, this.$form);\n            } else if (this.$submitBtn.parentNode) {\n              // Check if there's a submit button still. Might've been removed for multi-page, ajax.\n              this.$submitBtn.parentNode.parentNode.insertBefore($alert, this.$submitBtn.parentNode);\n            } else {\n              this.$form.parentNode.insertBefore($alert, this.$form.nextSibling);\n            }\n          } else if (this.settings.submitActionMessagePosition == 'top-form') {\n            this.$form.parentNode.insertBefore($alert, this.$form);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"showTabErrors\",\n    value: function showTabErrors(errors) {\n      var _this6 = this;\n\n      Object.keys(errors).forEach(function (pageId, index) {\n        var $tab = _this6.$form.parentNode.querySelector(\"[data-fui-page-id=\\\"\".concat(pageId, \"\\\"]\"));\n\n        if ($tab) {\n          $tab.parentNode.classList.add(_this6.tabErrorClass);\n        }\n      });\n    }\n  }, {\n    key: \"decodeHtml\",\n    value: function decodeHtml(html) {\n      var txt = document.createElement('textarea');\n      txt.innerHTML = html;\n      return txt.value;\n    }\n  }, {\n    key: \"removeFormAlert\",\n    value: function removeFormAlert() {\n      var $alert = this.$form.parentNode.querySelector(\".\".concat(this.alertClass));\n\n      if ($alert) {\n        $alert.remove();\n      }\n    }\n  }, {\n    key: \"removeTabErrors\",\n    value: function removeTabErrors() {\n      var _this7 = this;\n\n      var $tabs = this.$form.parentNode.querySelectorAll('[data-fui-page-tab]');\n      $tabs.forEach(function ($tab) {\n        $tab.classList.remove(_this7.tabErrorClass);\n      });\n    }\n  }, {\n    key: \"beforeSubmit\",\n    value: function beforeSubmit() {\n      var _this8 = this;\n\n      // Remove all validation errors\n      Array.prototype.filter.call(this.$form.querySelectorAll('input, select, textarea'), function ($field) {\n        _this8.validator.removeError($field);\n      });\n      this.removeFormAlert();\n      this.removeTabErrors(); // Don't set a loading if we're going back and the unload warning appears, because there's no way to re-enable\n      // the button after the user cancels the unload event\n\n      if (!this.settings.enableBackSubmission && this.form.submitAction === 'back') {// Do nothing\n      } else {\n        this.addLoading();\n      }\n    }\n  }, {\n    key: \"ajaxSubmit\",\n    value: function ajaxSubmit() {\n      var _this9 = this;\n\n      var formData = new FormData(this.$form);\n      var method = this.$form.getAttribute('method');\n      var action = this.$form.getAttribute('action');\n      var xhr = new XMLHttpRequest();\n      xhr.open(method ? method : 'POST', action ? action : window.location.href, true);\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.setRequestHeader('Cache-Control', 'no-cache');\n      xhr.timeout = (this.settings.ajaxTimeout || 10) * 1000;\n      this.beforeSubmit();\n\n      xhr.ontimeout = function () {\n        _this9.onAjaxError((0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('The request timed out.'));\n      };\n\n      xhr.onerror = function (e) {\n        _this9.onAjaxError((0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('The request encountered a network error. Please try again.'));\n      };\n\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          try {\n            var response = JSON.parse(xhr.responseText);\n\n            if (response.errors) {\n              _this9.onAjaxError(response.errorMessage, response);\n            } else {\n              _this9.onAjaxSuccess(response);\n            }\n          } catch (e) {\n            _this9.onAjaxError((0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.t)('Unable to parse response `{e}`.', {\n              e: e\n            }));\n          }\n        } else {\n          _this9.onAjaxError(\"\".concat(xhr.status, \": \").concat(xhr.statusText));\n        }\n      };\n\n      xhr.send(formData);\n    }\n  }, {\n    key: \"afterAjaxSubmit\",\n    value: function afterAjaxSubmit(data) {\n      var _this10 = this;\n\n      // Reset the submit action, immediately, whether fail or success\n      this.updateSubmitAction('submit');\n      this.updateSubmissionInput(data); // Check if there's any events in the response back, and fire them\n\n      if (data.events && Array.isArray(data.events)) {\n        // An error message may be shown in some cases (for 3D secure) so remove the form-global level error notice.\n        this.removeFormAlert();\n        data.events.forEach(function (eventData) {\n          _this10.$form.dispatchEvent(new CustomEvent(eventData.event, {\n            bubbles: true,\n            detail: {\n              data: eventData.data\n            }\n          }));\n        });\n      }\n    }\n  }, {\n    key: \"onAjaxError\",\n    value: function onAjaxError(errorMessage) {\n      var _this11 = this;\n\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var errors = data.errors || {};\n      var pageFieldErrors = data.pageFieldErrors || {}; // Show an error message at the top of the form\n\n      this.onFormError(errorMessage); // Update the page tabs (if any) to show error state\n\n      this.showTabErrors(pageFieldErrors); // Fire a fail event\n\n      this.submitHandler.formSubmitError(); // Fire cleanup methods after _any_ ajax call\n\n      this.afterAjaxSubmit(data); // Show server-side errors for each field\n\n      Object.keys(errors).forEach(function (handle, index) {\n        var _errors$handle = _slicedToArray(errors[handle], 1),\n            error = _errors$handle[0];\n\n        var selector = handle.split('.');\n        selector = selector.join('][');\n\n        var $field = _this11.$form.querySelector(\"[name=\\\"fields[\".concat(selector, \"]\\\"]\")); // Check for multiple fields\n\n\n        if (!$field) {\n          $field = _this11.$form.querySelector(\"[name=\\\"fields[\".concat(selector, \"][]\\\"]\"));\n        } // Handle Repeater/Groups - a little more complicated to translate `group[0].field.handle`\n\n\n        if (!$field && handle.includes('[')) {\n          var blockIndex = handle.match(/\\[(.*?)\\]/)[1] || null;\n          var regexString = \"fields[\".concat(handle.replace(/\\./g, '][').replace(']]', ']').replace(/\\[.*?\\]/, '][rows][.*][fields]'), \"]\");\n          regexString = regexString.replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]');\n\n          var $targets = _this11.querySelectorAllRegex(new RegExp(regexString), 'name');\n\n          if ($targets.length && $targets[blockIndex]) {\n            $field = $targets[blockIndex];\n          }\n        }\n\n        if ($field) {\n          _this11.validator.showError($field, {\n            serverMessage: error\n          }); // Focus on the first error\n\n\n          if (index === 0) {\n            $field.focus();\n          }\n        }\n      }); // Go to the first page with an error, for good UX\n\n      this.togglePage(data, false);\n    }\n  }, {\n    key: \"onAjaxSuccess\",\n    value: function onAjaxSuccess(data) {\n      // Fire the event, because we've overridden the handler\n      this.submitHandler.formAfterSubmit(data); // Fire cleanup methods after _any_ ajax call\n\n      this.afterAjaxSubmit(data); // Reset the form hash, as all has been saved\n\n      this.updateFormHash(); // Triger any JS events for this page, right away before navigating away\n\n      if (this.form.submitAction === 'submit') {\n        this.triggerJsEvents();\n      } // Check if we need to proceed to the next page\n\n\n      if (data.nextPageId) {\n        this.removeLoading();\n        this.togglePage(data);\n        return;\n      } // If we're redirecting away, do it immediately for nicer UX\n\n\n      if (data.redirectUrl) {\n        if (this.settings.submitActionTab === 'new-tab') {\n          // Reset values if in a new tab. No need when in the same tab.\n          this.$form.reset();\n          window.open(data.redirectUrl, '_blank');\n        } else {\n          window.location.href = data.redirectUrl;\n        }\n\n        return;\n      } // Delay this a little, in case we're redirecting away - better UX to just keep it loading\n\n\n      this.removeLoading(); // For multi-page ajax forms, deal with them a little differently.\n\n      if (data.totalPages > 1) {\n        // If we have a success message at the top, go to the first page\n        if (this.settings.submitActionMessagePosition == 'top-form') {\n          this.togglePage({\n            nextPageIndex: 0,\n            nextPageId: this.settings.pages[0].id,\n            totalPages: this.settings.pages.length\n          });\n        } else {\n          // Otherwise, we want to hide the buttons because we have to stay on the last page\n          // to show the success message at the bottom of the form. Otherwise, showing it on the\n          // first page of an empty form is just plain weird UX.\n          if (this.$submitBtn) {\n            this.$submitBtn.remove();\n          } // Remove the back button - not great UX to go back to a finished form\n          // Remember, its the button and the hidden input\n\n\n          var $backButtonInputs = this.$form.querySelectorAll('[data-submit-action=\"back\"]');\n          $backButtonInputs.forEach(function ($backButtonInput) {\n            $backButtonInput.remove();\n          });\n        }\n      }\n\n      if (this.settings.submitAction === 'message') {\n        // Allow the submit action message to be sent from the response, or fallback to static.\n        var submitActionMessage = data.submitActionMessage || this.settings.submitActionMessage;\n        this.showFormAlert(submitActionMessage, 'success'); // Check if we need to remove the success message\n\n        this.hideSuccess();\n\n        if (this.settings.submitActionFormHide) {\n          this.$form.style.display = 'none';\n        } // Smooth-scroll to the top of the form.\n\n\n        if (this.settings.scrollToTop) {\n          this.scrollToForm();\n        }\n      } // Reset values regardless, for the moment\n\n\n      this.$form.reset(); // Remove the submission ID input in case we want to go again\n\n      this.removeHiddenInput('submissionId'); // Reset the form hash, as all has been saved\n\n      this.updateFormHash();\n    }\n  }, {\n    key: \"updateSubmitAction\",\n    value: function updateSubmitAction(action) {\n      // All buttons should have a `[data-submit-action]` but just for backward-compatibility\n      // assume when not present, we're submitting\n      if (!action) {\n        action = 'submit';\n      } // Update the submit action on the form while we're at it. Store on the `$form`\n      // for each of lookup on event hooks like captchas.\n\n\n      this.form.submitAction = action;\n      this.updateOrCreateHiddenInput('submitAction', action);\n    }\n  }, {\n    key: \"updateSubmissionInput\",\n    value: function updateSubmissionInput(data) {\n      if (!data.submissionId || !data.nextPageId) {\n        return;\n      } // Add the hidden submission input, if it doesn't exist\n\n\n      this.updateOrCreateHiddenInput('submissionId', data.submissionId);\n    }\n  }, {\n    key: \"updateOrCreateHiddenInput\",\n    value: function updateOrCreateHiddenInput(name, value) {\n      var $input = this.$form.querySelector(\"[name=\\\"\".concat(name, \"\\\"][type=\\\"hidden\\\"]\"));\n\n      if (!$input) {\n        $input = document.createElement('input');\n        $input.setAttribute('type', 'hidden');\n        $input.setAttribute('name', name);\n        this.$form.appendChild($input);\n      }\n\n      $input.setAttribute('value', value);\n    }\n  }, {\n    key: \"removeHiddenInput\",\n    value: function removeHiddenInput(name) {\n      var $input = this.$form.querySelector(\"[name=\\\"\".concat(name, \"\\\"][type=\\\"hidden\\\"]\"));\n\n      if ($input) {\n        $input.parentNode.removeChild($input);\n      }\n    }\n  }, {\n    key: \"togglePage\",\n    value: function togglePage(data) {\n      var _this12 = this;\n\n      var scrollToTop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      // Trigger an event when a page is toggled\n      this.$form.dispatchEvent(new CustomEvent('onFormiePageToggle', {\n        bubbles: true,\n        detail: {\n          data: data\n        }\n      })); // Hide all pages\n\n      var $allPages = this.$form.querySelectorAll('[data-fui-page]');\n\n      if (data.nextPageId) {\n        $allPages.forEach(function ($page) {\n          // Show the current page\n          if ($page.id === \"\".concat(_this12.getPageId(data.nextPageId))) {\n            $page.removeAttribute('data-fui-page-hidden');\n          } else {\n            $page.setAttribute('data-fui-page-hidden', true);\n          }\n        });\n      } // Update tabs and progress bar if we're using them\n\n\n      var $progress = this.$form.querySelector('[data-fui-progress-bar]');\n\n      if ($progress && data.nextPageIndex) {\n        var pageIndex = parseInt(data.nextPageIndex, 10) + 1;\n        var progress = Math.round(pageIndex / data.totalPages * 100);\n        $progress.style.width = \"\".concat(progress, \"%\");\n        $progress.setAttribute('aria-valuenow', progress);\n        $progress.textContent = \"\".concat(progress, \"%\");\n      }\n\n      var $tabs = this.$form.querySelectorAll('[data-fui-page-tab]');\n\n      if (data.nextPageId) {\n        $tabs.forEach(function ($tab) {\n          // Show the current page\n          if ($tab.id === \"\".concat(_this12.tabClass, \"-\").concat(data.nextPageId)) {\n            $tab.classList.add(_this12.tabActiveClass);\n          } else {\n            $tab.classList.remove(_this12.tabActiveClass);\n          }\n        }); // Update the current page\n\n        this.setCurrentPage(data.nextPageId);\n      } // Smooth-scroll to the top of the form.\n\n\n      if (this.settings.scrollToTop) {\n        this.scrollToForm();\n      }\n    }\n  }, {\n    key: \"setCurrentPage\",\n    value: function setCurrentPage(pageId) {\n      this.settings.currentPageId = pageId;\n      this.$currentPage = this.$form.querySelector(\"#\".concat(this.getPageId(pageId)));\n    }\n  }, {\n    key: \"getCurrentPage\",\n    value: function getCurrentPage() {\n      var _this13 = this;\n\n      return this.settings.pages.find(function (page) {\n        return page.id == _this13.settings.currentPageId;\n      });\n    }\n  }, {\n    key: \"getCurrentPageIndex\",\n    value: function getCurrentPageIndex() {\n      var currentPage = this.getCurrentPage();\n\n      if (currentPage) {\n        return this.settings.pages.indexOf(currentPage);\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getPageId\",\n    value: function getPageId(pageId) {\n      return \"\".concat(this.config.formHashId, \"-p-\").concat(pageId);\n    }\n  }, {\n    key: \"scrollToForm\",\n    value: function scrollToForm() {\n      // Check for scroll-padding-top or `scroll-margin-top`\n      var extraPadding = (document.documentElement.style['scroll-padding-top'] || '0px').replace('px', '');\n      var extraMargin = (document.documentElement.style['scroll-margin-top'] || '0px').replace('px', ''); // Because the form can be hidden, use the parent wrapper\n\n      window.scrollTo({\n        top: this.$form.parentNode.getBoundingClientRect().top + window.pageYOffset - 100 - extraPadding - extraMargin,\n        behavior: 'smooth'\n      });\n    }\n  }, {\n    key: \"triggerJsEvents\",\n    value: function triggerJsEvents() {\n      var currentPage = this.getCurrentPage(); // Find any JS events for the current page and fire\n\n      if (currentPage && currentPage.settings.enableJsEvents) {\n        var payload = {};\n        currentPage.settings.jsGtmEventOptions.forEach(function (option) {\n          payload[option.label] = option.value;\n        }); // Push to the datalayer\n\n        window.dataLayer = window.dataLayer || [];\n        window.dataLayer.push(payload);\n      }\n    }\n  }, {\n    key: \"querySelectorAllRegex\",\n    value: function querySelectorAllRegex(regex, attributeToSearch) {\n      var output = [];\n\n      var _iterator2 = _createForOfIteratorHelper(this.$form.querySelectorAll(\"[\".concat(attributeToSearch, \"]\"))),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var element = _step2.value;\n\n          if (regex.test(element.getAttribute(attributeToSearch))) {\n            output.push(element);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return output;\n    }\n  }]);\n\n  return FormieFormTheme;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SjtFQTUxQkw7SUFBQTtJQUFBLE9BODFCSSwrQkFBc0JNLEtBQXRCLEVBQTZCQyxpQkFBN0IsRUFBZ0Q7TUFDNUMsSUFBTUMsTUFBTSxHQUFHLEVBQWY7O01BRDRDLDRDQUd0QixLQUFLN1EsS0FBTCxDQUFXb0YsZ0JBQVgsWUFBZ0N3TCxpQkFBaEMsT0FIc0I7TUFBQTs7TUFBQTtRQUc1Qyx1REFBNkU7VUFBQSxJQUFsRUUsT0FBa0U7O1VBQ3pFLElBQUlILEtBQUssQ0FBQ0ksSUFBTixDQUFXRCxPQUFPLENBQUNsTSxZQUFSLENBQXFCZ00saUJBQXJCLENBQVgsQ0FBSixFQUF5RDtZQUNyREMsTUFBTSxDQUFDSCxJQUFQLENBQVlJLE9BQVo7VUFDSDtRQUNKO01BUDJDO1FBQUE7TUFBQTtRQUFBO01BQUE7O01BUzVDLE9BQU9ELE1BQVA7SUFDSDtFQXgyQkw7O0VBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9mb3JtaWUtZm9ybS10aGVtZS5qcz8wYWIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHQgfSBmcm9tICcuL3V0aWxzL3V0aWxzJztcbmltcG9ydCB7IEJvdW5jZXIgfSBmcm9tICcuL3V0aWxzL2JvdW5jZXInO1xuXG5leHBvcnQgY2xhc3MgRm9ybWllRm9ybVRoZW1lIHtcbiAgICBjb25zdHJ1Y3RvcigkZm9ybSwgY29uZmlnID0ge30pIHtcbiAgICAgICAgdGhpcy4kZm9ybSA9ICRmb3JtO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IGNvbmZpZy5zZXR0aW5ncztcbiAgICAgICAgdGhpcy52YWxpZGF0aW9uT25TdWJtaXQgPSAhIXRoaXMuc2V0dGluZ3MudmFsaWRhdGlvbk9uU3VibWl0O1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25PbkZvY3VzID0gISF0aGlzLnNldHRpbmdzLnZhbGlkYXRpb25PbkZvY3VzO1xuXG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFBhZ2UodGhpcy5zZXR0aW5ncy5jdXJyZW50UGFnZUlkKTtcblxuICAgICAgICBpZiAoIXRoaXMuJGZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJGZvcm0uZm9ybVRoZW1lID0gdGhpcztcbiAgICAgICAgdGhpcy5mb3JtID0gdGhpcy4kZm9ybS5mb3JtO1xuXG4gICAgICAgIC8vIFNldHVwIGNsYXNzZXMgYWNjb3JkaW5nIHRvIHRoZW1lIGNvbmZpZ1xuICAgICAgICB0aGlzLmxvYWRpbmdDbGFzcyA9IHRoaXMuZm9ybS5nZXRDbGFzc2VzKCdsb2FkaW5nJyk7XG4gICAgICAgIHRoaXMudGFiRXJyb3JDbGFzcyA9IHRoaXMuZm9ybS5nZXRDbGFzc2VzKCd0YWJFcnJvcicpO1xuICAgICAgICB0aGlzLnRhYkFjdGl2ZUNsYXNzID0gdGhpcy5mb3JtLmdldENsYXNzZXMoJ3RhYkFjdGl2ZScpO1xuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZUNsYXNzID0gdGhpcy5mb3JtLmdldENsYXNzZXMoJ2Vycm9yTWVzc2FnZScpO1xuICAgICAgICB0aGlzLnN1Y2Nlc3NNZXNzYWdlQ2xhc3MgPSB0aGlzLmZvcm0uZ2V0Q2xhc3Nlcygnc3VjY2Vzc01lc3NhZ2UnKTtcbiAgICAgICAgdGhpcy5hbGVydENsYXNzID0gdGhpcy5mb3JtLmdldENsYXNzZXMoJ2FsZXJ0Jyk7XG4gICAgICAgIHRoaXMuYWxlcnRFcnJvckNsYXNzID0gdGhpcy5mb3JtLmdldENsYXNzZXMoJ2FsZXJ0RXJyb3InKTtcbiAgICAgICAgdGhpcy5hbGVydFN1Y2Nlc3NDbGFzcyA9IHRoaXMuZm9ybS5nZXRDbGFzc2VzKCdhbGVydFN1Y2Nlc3MnKTtcbiAgICAgICAgdGhpcy50YWJDbGFzcyA9IHRoaXMuZm9ybS5nZXRDbGFzc2VzKCd0YWInKTtcblxuICAgICAgICB0aGlzLmluaXRWYWxpZGF0b3IoKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgc3VjY2VzcyBwYWdlIGFuZCBpZiB3ZSBuZWVkIHRvIGhpZGUgdGhlIG5vdGljZVxuICAgICAgICAvLyBUaGlzIGlzIGZvciBub24tYWpheCBmb3Jtcywgd2hlcmUgdGhlIHBhZ2UgaGFzIHJlbG9hZGVkXG4gICAgICAgIHRoaXMuaGlkZVN1Y2Nlc3MoKTtcblxuICAgICAgICAvLyBIaWphY2sgdGhlIGZvcm0ncyBzdWJtaXQgaGFuZGxlciwgaW4gY2FzZSB3ZSBuZWVkIHRvIGRvIHNvbWV0aGluZ1xuICAgICAgICB0aGlzLmFkZFN1Ym1pdEV2ZW50TGlzdGVuZXIoKTtcblxuICAgICAgICAvLyBTYXZlIHRoZSBmb3JtJ3MgY3VycmVudCBzdGF0ZSBzbyB3ZSBjYW4gdGVsbCBpZiBpdHMgY2hhbmdlZCBsYXRlciBvblxuICAgICAgICB0aGlzLnVwZGF0ZUZvcm1IYXNoKCk7XG5cbiAgICAgICAgLy8gTGlzdGVuIHRvIGZvcm0gY2hhbmdlcyBpZiB0aGUgdXNlciB0cmllcyB0byByZWxvYWRcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlVW5sb2FkV2FybmluZykge1xuICAgICAgICAgICAgdGhpcy5hZGRGb3JtVW5sb2FkRXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTGlzdGVuIHRvIHRhYnMgYmVpbmcgY2xpY2tlZCBmb3IgYWpheC1lbmFibGVkIGZvcm1zXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnN1Ym1pdE1ldGhvZCA9PT0gJ2FqYXgnKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm1UYWJFdmVudExpc3RlbmVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0VmFsaWRhdG9yKCkge1xuICAgICAgICAvLyBLaWNrIG9mZiB2YWxpZGF0aW9uIC0gdXNlIHRoaXMgZXZlbiBpZiBkaXNhYmxpbmcgY2xpZW50LXNpZGUgdmFsaWRhdGlvblxuICAgICAgICAvLyBzbyB3ZSBjYW4gdXNlIGEgbmljZSBBUEkgaGFuZGxlIHNlcnZlci1zaWRlIGVycnByc1xuICAgICAgICBjb25zdCB2YWxpZGF0b3JTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIGZpZWxkQ2xhc3M6ICdmdWktZXJyb3InLFxuICAgICAgICAgICAgZXJyb3JDbGFzczogdGhpcy5mb3JtLmdldENsYXNzZXMoJ2ZpZWxkRXJyb3InKSxcbiAgICAgICAgICAgIGZpZWxkUHJlZml4OiAnZnVpLWZpZWxkLScsXG4gICAgICAgICAgICBlcnJvclByZWZpeDogJ2Z1aS1lcnJvci0nLFxuICAgICAgICAgICAgbWVzc2FnZUFmdGVyRmllbGQ6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlQ3VzdG9tOiAnZGF0YS1mdWktbWVzc2FnZScsXG4gICAgICAgICAgICBtZXNzYWdlVGFyZ2V0OiAnZGF0YS1mdWktdGFyZ2V0JyxcbiAgICAgICAgICAgIHZhbGlkYXRlT25CbHVyOiB0aGlzLnZhbGlkYXRpb25PbkZvY3VzLFxuXG4gICAgICAgICAgICAvLyBDYWxsIHZhbGlkYXRpb24gb24tZGVtYW5kXG4gICAgICAgICAgICB2YWxpZGF0ZU9uU3VibWl0OiBmYWxzZSxcbiAgICAgICAgICAgIGRpc2FibGVTdWJtaXQ6IGZhbHNlLFxuXG4gICAgICAgICAgICBjdXN0b21WYWxpZGF0aW9uczoge30sXG5cbiAgICAgICAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgICAgICAgICAgbWlzc2luZ1ZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94OiB0KCdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLicpLFxuICAgICAgICAgICAgICAgICAgICByYWRpbzogdCgnUGxlYXNlIHNlbGVjdCBhIHZhbHVlLicpLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHQoJ1BsZWFzZSBzZWxlY3QgYSB2YWx1ZS4nKSxcbiAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdC1tdWx0aXBsZSc6IHQoJ1BsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIHZhbHVlLicpLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB0KCdQbGVhc2UgZmlsbCBvdXQgdGhpcyBmaWVsZC4nKSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcGF0dGVybk1pc21hdGNoOiB7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0KCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLicpLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHQoJ1BsZWFzZSBlbnRlciBhIFVSTC4nKSxcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiB0KCdQbGVhc2UgZW50ZXIgYSBudW1iZXInKSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHQoJ1BsZWFzZSBtYXRjaCB0aGUgZm9sbG93aW5nIGZvcm1hdDogI3JyZ2diYicpLFxuICAgICAgICAgICAgICAgICAgICBkYXRlOiB0KCdQbGVhc2UgdXNlIHRoZSBZWVlZLU1NLUREIGZvcm1hdCcpLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiB0KCdQbGVhc2UgdXNlIHRoZSAyNC1ob3VyIHRpbWUgZm9ybWF0LiBFeC4gMjM6MDAnKSxcbiAgICAgICAgICAgICAgICAgICAgbW9udGg6IHQoJ1BsZWFzZSB1c2UgdGhlIFlZWVktTU0gZm9ybWF0JyksXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHQoJ1BsZWFzZSBtYXRjaCB0aGUgcmVxdWVzdGVkIGZvcm1hdC4nKSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgb3V0T2ZSYW5nZToge1xuICAgICAgICAgICAgICAgICAgICBvdmVyOiB0KCdQbGVhc2Ugc2VsZWN0IGEgdmFsdWUgdGhhdCBpcyBubyBtb3JlIHRoYW4ge21heH0uJyksXG4gICAgICAgICAgICAgICAgICAgIHVuZGVyOiB0KCdQbGVhc2Ugc2VsZWN0IGEgdmFsdWUgdGhhdCBpcyBubyBsZXNzIHRoYW4ge21pbn0uJyksXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHdyb25nTGVuZ3RoOiB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXI6IHQoJ1BsZWFzZSBzaG9ydGVuIHRoaXMgdGV4dCB0byBubyBtb3JlIHRoYW4ge21heExlbmd0aH0gY2hhcmFjdGVycy4gWW91IGFyZSBjdXJyZW50bHkgdXNpbmcge2xlbmd0aH0gY2hhcmFjdGVycy4nKSxcbiAgICAgICAgICAgICAgICAgICAgdW5kZXI6IHQoJ1BsZWFzZSBsZW5ndGhlbiB0aGlzIHRleHQgdG8ge21pbkxlbmd0aH0gY2hhcmFjdGVycyBvciBtb3JlLiBZb3UgYXJlIGN1cnJlbnRseSB1c2luZyB7bGVuZ3RofSBjaGFyYWN0ZXJzLicpLFxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBmYWxsYmFjazogdCgnVGhlcmUgd2FzIGFuIGVycm9yIHdpdGggdGhpcyBmaWVsZC4nKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQWxsb3cgb3RoZXIgbW9kdWxlcyB0byBtb2RpZnkgb3VyIHZhbGlkYXRvciBzZXR0aW5ncyAoZm9yIGN1c3RvbSBydWxlcyBhbmQgbWVzc2FnZXMpXG4gICAgICAgIGNvbnN0IHJlZ2lzdGVyRm9ybWllVmFsaWRhdGlvbiA9IG5ldyBDdXN0b21FdmVudCgncmVnaXN0ZXJGb3JtaWVWYWxpZGF0aW9uJywge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRvclNldHRpbmdzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gR2l2ZSBhIHNtYWxsIGFtb3VudCBvZiB0aW1lIGZvciBvdGhlciBKUyBzY3JpcHRzIHRvIHJlZ2lzdGVyIHZhbGlkYXRpb25zLiBUaGVzZSBhcmUgbGF6eS1sb2FkZWQuXG4gICAgICAgIC8vIE1heWJlIHJlLXRoaW5rIHRoaXMgc28gd2UgZG9uJ3QgaGF2ZSB0byBkZWFsIHdpdGggZXZlbnQgbGlzdGVuZXIgcmVnaXN0cmF0aW9uIGJlZm9yZS9hZnRlciBkaXNwYXRjaD9cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiRmb3JtLmRpc3BhdGNoRXZlbnQocmVnaXN0ZXJGb3JtaWVWYWxpZGF0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy52YWxpZGF0b3IgPSBuZXcgQm91bmNlcih0aGlzLiRmb3JtLCByZWdpc3RlckZvcm1pZVZhbGlkYXRpb24uZGV0YWlsLnZhbGlkYXRvclNldHRpbmdzKTtcbiAgICAgICAgfSwgNTAwKTtcblxuICAgICAgICAvLyBBZnRlciB3ZSBjbGVhciBhbnkgZXJyb3IsIHZhbGlkYXRlIHRoZSBmaWVsc2V0IGFnYWluLiBNb3N0bHkgc28gd2UgY2FuIHJlbW92ZSBnbG9iYWwgZXJyb3JzXG4gICAgICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKHRoaXMuJGZvcm0sICdib3VuY2VyUmVtb3ZlRXJyb3InLCAoZSkgPT4ge1xuICAgICAgICAgICAgLy8gUHJldmVudCBhbiBpbmZpbml0ZSBsb29wIChjaGVjayBiZWhhdmlvdXIgd2l0aCBhbiBBZ3JlZSBmaWVsZClcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJiYi9mb3JtaWUvaXNzdWVzLzkwNVxuICAgICAgICAgICAgaWYgKCF0aGlzLnN1Ym1pdERlYm91bmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE92ZXJyaWRlIGVycm9yIG1lc3NhZ2VzIGRlZmluZWQgaW4gRE9NIC0gQm91bmNlciBvbmx5IHVzZXMgdGhlc2UgYXMgYSBsYXN0IHJlc29ydFxuICAgICAgICAvLyBJbiBmdXR1cmUgdXBkYXRlcywgd2UgY2FuIHByb2JhYmx5IHJlbW92ZSB0aGlzXG4gICAgICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKHRoaXMuJGZvcm0sICdib3VuY2VyU2hvd0Vycm9yJywgKGUpID0+IHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0ICRmaWVsZCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgY29uc3QgJGZpZWxkQ29udGFpbmVyID0gJGZpZWxkLmNsb3Nlc3QoJ1tkYXRhLWZpZWxkLXR5cGVdJyk7XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgZXJyb3IgbWVzc2FnZSBhcyBkZWZpbmVkIG9uIHRoZSBpbnB1dCBlbGVtZW50LiBVc2UgdGhlIHBhcmVudCB0byBmaW5kIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAvLyBqdXN0IHRvIGNhdGVyIGZvciBzb21lIGVkZ2UtY2FzZXMgd2hlcmUgdGhlcmUgbWlnaHQgYmUgbXVsdGlwbGUgaW5wdXRzIChEYXRlcGlja2VyKS5cbiAgICAgICAgICAgIGNvbnN0ICRtZXNzYWdlID0gJGZpZWxkLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignW2RhdGEtZnVpLW1lc3NhZ2VdJyk7XG5cbiAgICAgICAgICAgIGlmICgkbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAkbWVzc2FnZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZnVpLW1lc3NhZ2UnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHNlcnZlciBlcnJvciwgaXQgdGFrZXMgcHJpb3JpdHkuXG4gICAgICAgICAgICBpZiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwuZXJyb3JzICYmIGUuZGV0YWlsLmVycm9ycy5zZXJ2ZXJNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGUuZGV0YWlsLmVycm9ycy5zZXJ2ZXJNZXNzYWdlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIG1vdmUgdGhlIGVycm9yIG91dCBvZiB0aGUgLmZ1aS1pbnB1dC1jb250YWluZXIgbm9kZS5cbiAgICAgICAgICAgIC8vIE9ubHkgdGhlIGlucHV0IGl0c2VsZiBzaG91bGQgYmUgaW4gaGVyZS5cbiAgICAgICAgICAgIGNvbnN0ICRlcnJvclRvTW92ZSA9ICRmaWVsZC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWVycm9yLW1lc3NhZ2VdJyk7XG5cbiAgICAgICAgICAgIGlmICgkZXJyb3JUb01vdmUgJiYgJGVycm9yVG9Nb3ZlLnBhcmVudE5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICRlcnJvclRvTW92ZS5wYXJlbnROb2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoJGVycm9yVG9Nb3ZlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVGhlIGVycm9yIGhhcyBiZWVuIG1vdmVkLCBmaW5kIGl0IGFnYWluXG4gICAgICAgICAgICBpZiAoJGZpZWxkQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJGVycm9yID0gJGZpZWxkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWVycm9yLW1lc3NhZ2VdJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJGVycm9yICYmIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJGVycm9yLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBhZGRTdWJtaXRFdmVudExpc3RlbmVyKCkge1xuICAgICAgICBjb25zdCAkc3VibWl0QnRucyA9IHRoaXMuJGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW3R5cGU9XCJzdWJtaXRcIl0nKTtcblxuICAgICAgICAvLyBGb3JtcyBjYW4gaGF2ZSBtdWx0aXBsZSBzdWJtaXQgYnV0dG9ucywgYW5kIGl0cyBlYXNpZXIgdG8gYXNzaWduIHRoZSBjdXJyZW50bHkgY2xpY2tlZCBvbmVcbiAgICAgICAgLy8gdGhhbiB0cmFja2luZyBpdCB0aHJvdWdoIHRoZSBzdWJtaXQgaGFuZGxlci5cbiAgICAgICAgJHN1Ym1pdEJ0bnMuZm9yRWFjaCgoJHN1Ym1pdEJ0bikgPT4ge1xuICAgICAgICAgICAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJHN1Ym1pdEJ0biwgJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiRzdWJtaXRCdG4gPSBlLnRhcmdldDtcblxuICAgICAgICAgICAgICAgIC8vIFN0b3JlIGZvciBsYXRlciBpZiB3ZSdyZSB1c2luZyB0ZXh0IHNwaW5uZXJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsQnV0dG9uVGV4dCA9IHRoaXMuJHN1Ym1pdEJ0bi50ZXh0Q29udGVudC50cmltKCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdWJtaXRBY3Rpb24gPSB0aGlzLiRzdWJtaXRCdG4uZ2V0QXR0cmlidXRlKCdkYXRhLXN1Ym1pdC1hY3Rpb24nKSB8fCAnc3VibWl0JztcblxuICAgICAgICAgICAgICAgIC8vIEVhY2ggc3VibWl0IGJ1dHRvbiBjYW4gZG8gZGlmZmVyZW50IHRoaW5ncywgdG8gc3RvcmUgdGhhdFxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3VibWl0QWN0aW9uKHN1Ym1pdEFjdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIodGhpcy4kZm9ybSwgJ29uQmVmb3JlRm9ybWllU3VibWl0JywgdGhpcy5vbkJlZm9yZVN1Ym1pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIodGhpcy4kZm9ybSwgJ29uRm9ybWllVmFsaWRhdGUnLCB0aGlzLm9uVmFsaWRhdGUuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKHRoaXMuJGZvcm0sICdvbkZvcm1pZVN1Ym1pdCcsIHRoaXMub25TdWJtaXQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKHRoaXMuJGZvcm0sICdvbkZvcm1pZVN1Ym1pdEVycm9yJywgdGhpcy5vblN1Ym1pdEVycm9yLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIG9uQmVmb3JlU3VibWl0KGUpIHtcbiAgICAgICAgdGhpcy5iZWZvcmVTdWJtaXQoKTtcblxuICAgICAgICAvLyBTYXZlIGZvciBsYXRlciB0byB0cmlnZ2VyIHJlYWwgc3VibWl0XG4gICAgICAgIHRoaXMuc3VibWl0SGFuZGxlciA9IGUuZGV0YWlsLnN1Ym1pdEhhbmRsZXI7XG4gICAgfVxuXG4gICAgb25WYWxpZGF0ZShlKSB7XG4gICAgICAgIC8vIElmIGludmFsaWQsIHdlIG9ubHkgd2FudCB0byBzdG9wIGlmIHdlJ3JlIHN1Ym1pdHRpbmcuXG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLm9uRm9ybUVycm9yKCk7XG5cbiAgICAgICAgICAgIC8vIFNldCBhIGZsYWcgb24gdGhlIGV2ZW50LCBzbyBvdGhlciBsaXN0ZW5lcnMgY2FuIHBvdGVudGlhbGx5IGRvIHNvbWV0aGluZ1xuICAgICAgICAgICAgZS5kZXRhaWwuaW52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU3VibWl0KGUpIHtcbiAgICAgICAgLy8gU3RvcCBiYXNlIGJlaGF2aW91ciBvZiBqdXN0IHN1Ym1pdHRpbmcgdGhlIGZvcm1cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIC8vIEVpdGhlciBzdGFpZ2h0IHN1Ym1pdCwgb3IgdXNlIEFqYXhcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc3VibWl0TWV0aG9kID09PSAnYWpheCcpIHtcbiAgICAgICAgICAgIHRoaXMuYWpheFN1Ym1pdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQmVmb3JlIGEgc2VydmVyLXNpZGUgc3VibWl0LCByZWZyZXNoIHRoZSBzYXZlZCBoYXNoIGltbWVkaWF0ZWx5LiBPdGhlcndpc2UsIHRoZSBuYXRpdmUgc3VibWl0XG4gICAgICAgICAgICAvLyBoYW5kbGVyIC0gd2hpY2ggdGVjaG5pY2FsbHkgdW5sb2FkcyB0aGUgcGFnZSAtIHdpbGwgdHJpZ2dlciB0aGUgY2hhbmdlZCBhbGVydC5cbiAgICAgICAgICAgIC8vIEJ1dCB0cmlnZ2VyIGFuIGFsZXJ0IGlmIHdlJ3JlIGdvaW5nIGJhY2ssIGFuZCBiYWNrLXN1Ym1pc3Npb24gZGF0YSBpc24ndCBzZXRcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5lbmFibGVCYWNrU3VibWlzc2lvbiAmJiB0aGlzLmZvcm0uc3VibWl0QWN0aW9uID09PSAnYmFjaycpIHtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCByZXNldCB0aGUgaGFzaCwgdHJpZ2dlciBhIHdhcm5pbmcgaWYgY29udGVudCBoYXMgY2hhbmdlZCwgYmVjYXVzZSB3ZSdyZSBub3Qgc3VibWl0dGluZ1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZvcm1IYXNoKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRyaWdlciBhbnkgSlMgZXZlbnRzIGZvciB0aGlzIHBhZ2UsIG9ubHkgaWYgc3VibWl0dGluZyAobm90IGdvaW5nIGJhY2svc2F2aW5nKVxuICAgICAgICAgICAgaWYgKHRoaXMuZm9ybS5zdWJtaXRBY3Rpb24gPT09ICdzdWJtaXQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VySnNFdmVudHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kZm9ybS5zdWJtaXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU3VibWl0RXJyb3IoZSkge1xuICAgICAgICB0aGlzLm9uRm9ybUVycm9yKCk7XG4gICAgfVxuXG4gICAgYWRkRm9ybVVubG9hZEV2ZW50TGlzdGVuZXIoKSB7XG4gICAgICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKHdpbmRvdywgJ2JlZm9yZXVubG9hZCcsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zYXZlZEZvcm1IYXNoICE9PSB0aGlzLmhhc2hGb3JtKCkpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZS5yZXR1cm5WYWx1ZSA9IHQoJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZT8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9ybVRhYkV2ZW50TGlzdGVuZXIoKSB7XG4gICAgICAgIGNvbnN0ICR0YWJzID0gdGhpcy4kZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mdWktcGFnZS10YWItYW5jaG9yXScpO1xuXG4gICAgICAgICR0YWJzLmZvckVhY2goKCR0YWIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKCR0YWIsICdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWZ1aS1wYWdlLWluZGV4Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZUlkID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWZ1aS1wYWdlLWlkJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVBhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBuZXh0UGFnZUluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG5leHRQYWdlSWQ6IHBhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxQYWdlczogdGhpcy5zZXR0aW5ncy5wYWdlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgd2Ugc3RpbGwgdXBkYXRlIHRoZSBjdXJyZW50IHBhZ2Ugc2VydmVyLXNpZGVcbiAgICAgICAgICAgICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICB4aHIub3BlbignR0VUJywgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJyksIHRydWUpO1xuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdYLVJlcXVlc3RlZC1XaXRoJywgJ1hNTEh0dHBSZXF1ZXN0Jyk7XG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAnbm8tY2FjaGUnKTtcbiAgICAgICAgICAgICAgICB4aHIuc2VuZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhc2hGb3JtKCkge1xuICAgICAgICBjb25zdCBoYXNoID0ge307XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHRoaXMuJGZvcm0pO1xuXG4gICAgICAgIC8vIEV4bGN1ZGUgc29tZSBwYXJhbXMgZnJvbSB0aGUgaGFzaCwgdGhhdCBhcmUgcHJvZ3JhbWF0aWNhbGx5IGNoYW5nZWRcbiAgICAgICAgY29uc3QgZXhjbHVkZWRJdGVtcyA9IFsnZy1yZWNhcHRjaGEtcmVzcG9uc2UnLCAnaC1jYXB0Y2hhLXJlc3BvbnNlJywgJ0NSQUZUX0NTUkZfVE9LRU4nLCAnX19KU0NISycsICdzdWJtaXRBY3Rpb24nXTtcblxuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgZm9ybURhdGEuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBpc0V4Y2x1ZGVkID0gZXhjbHVkZWRJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IHsgcmV0dXJuIHBhaXJbMF0uc3RhcnRzV2l0aChpdGVtKTsgfSk7XG5cbiAgICAgICAgICAgIGlmICghaXNFeGNsdWRlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICBoYXNoW3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShoYXNoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVGb3JtSGFzaCgpIHtcbiAgICAgICAgdGhpcy5zYXZlZEZvcm1IYXNoID0gdGhpcy5oYXNoRm9ybSgpO1xuICAgIH1cblxuICAgIHZhbGlkYXRlKGZvY3VzID0gdHJ1ZSkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGlvbk9uU3VibWl0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9ubHkgdmFsaWRhdGUgb24gc3VibWl0IGFjdGlvbnNcbiAgICAgICAgaWYgKHRoaXMuZm9ybS5zdWJtaXRBY3Rpb24gIT09ICdzdWJtaXQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCAkZmllbGRzZXQgPSB0aGlzLiRmb3JtO1xuXG4gICAgICAgIGlmICh0aGlzLiRjdXJyZW50UGFnZSkge1xuICAgICAgICAgICAgJGZpZWxkc2V0ID0gdGhpcy4kY3VycmVudFBhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnZhbGlkRmllbGRzID0gdGhpcy52YWxpZGF0b3IudmFsaWRhdGVBbGwoJGZpZWxkc2V0KTtcblxuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgZXJyb3JzLCBmb2N1cyBvbiB0aGUgZmlyc3Qgb25lXG4gICAgICAgIGlmIChpbnZhbGlkRmllbGRzLmxlbmd0aCA+IDAgJiYgZm9jdXMpIHtcbiAgICAgICAgICAgIGludmFsaWRGaWVsZHNbMF0uZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSBhbnkgZ2xvYmFsIGVycm9ycyBpZiBub25lIC0ganVzdCBpbiBjYXNlXG4gICAgICAgIGlmIChpbnZhbGlkRmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVGb3JtQWxlcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgZGVib3VuY2UgYWZ0ZXIgYSBsaXR0bGUgYml0LCB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3AsIGFzIHRoaXMgbWV0aG9kXG4gICAgICAgIC8vIGlzIGNhbGxlZCBvbiBgYm91bmNlclJlbW92ZUVycm9yYC5cbiAgICAgICAgdGhpcy5zdWJtaXREZWJvdW5jZSA9IHRydWU7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN1Ym1pdERlYm91bmNlID0gZmFsc2U7XG4gICAgICAgIH0sIDUwMCk7XG5cbiAgICAgICAgcmV0dXJuICFpbnZhbGlkRmllbGRzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBoaWRlU3VjY2VzcygpIHtcbiAgICAgICAgY29uc3QgJHN1Y2Nlc3NNZXNzYWdlID0gdGhpcy4kZm9ybS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuc3VjY2Vzc01lc3NhZ2VDbGFzc31gKTtcblxuICAgICAgICBpZiAoJHN1Y2Nlc3NNZXNzYWdlICYmIHRoaXMuc2V0dGluZ3Muc3VibWl0QWN0aW9uTWVzc2FnZVRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBwYXJzZUludCh0aGlzLnNldHRpbmdzLnN1Ym1pdEFjdGlvbk1lc3NhZ2VUaW1lb3V0LCAxMCkgKiAxMDAwO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAkc3VjY2Vzc01lc3NhZ2UucmVtb3ZlKCk7XG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZExvYWRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLiRzdWJtaXRCdG4pIHtcbiAgICAgICAgICAgIC8vIEFsd2F5cyBkaXNhYmxlIHRoZSBidXR0b25cbiAgICAgICAgICAgIHRoaXMuJHN1Ym1pdEJ0bi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvYWRpbmdJbmRpY2F0b3IgPT09ICdzcGlubmVyJykge1xuICAgICAgICAgICAgICAgIHRoaXMuJHN1Ym1pdEJ0bi5jbGFzc0xpc3QuYWRkKHRoaXMubG9hZGluZ0NsYXNzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubG9hZGluZ0luZGljYXRvciA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kc3VibWl0QnRuLnRleHRDb250ZW50ID0gdGhpcy5zZXR0aW5ncy5sb2FkaW5nSW5kaWNhdG9yVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUxvYWRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLiRzdWJtaXRCdG4pIHtcbiAgICAgICAgICAgIC8vIEFsd2F5cyBlbmFibGUgdGhlIGJ1dHRvblxuICAgICAgICAgICAgdGhpcy4kc3VibWl0QnRuLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubG9hZGluZ0luZGljYXRvciA9PT0gJ3NwaW5uZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kc3VibWl0QnRuLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5sb2FkaW5nQ2xhc3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5sb2FkaW5nSW5kaWNhdG9yID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRzdWJtaXRCdG4udGV4dENvbnRlbnQgPSB0aGlzLm9yaWdpbmFsQnV0dG9uVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRm9ybUVycm9yKGVycm9yTWVzc2FnZSkge1xuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dGb3JtQWxlcnQoZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0Zvcm1BbGVydCh0aGlzLnNldHRpbmdzLmVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbW92ZUxvYWRpbmcoKTtcbiAgICB9XG5cbiAgICBzaG93Rm9ybUFsZXJ0KHRleHQsIHR5cGUpIHtcbiAgICAgICAgbGV0ICRhbGVydCA9IHRoaXMuJGZvcm0ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdbcm9sZT1cImFsZXJ0XCJdJyk7XG5cbiAgICAgICAgLy8gU3RyaXAgPHA+IHRhZ3NcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvPHBbXj5dKj4vZywgJycpLnJlcGxhY2UoLzxcXC9wPi9nLCAnJyk7XG5cbiAgICAgICAgaWYgKCRhbGVydCkge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSB0byBjYXRlciBmb3IgSFRNTCBlbnRpdGllcyAtIHF1aWNrLW4tZGlydHlcbiAgICAgICAgICAgIGlmICgkYWxlcnQuaW5uZXJIVE1MICE9PSB0aGlzLmRlY29kZUh0bWwodGV4dCkpIHtcbiAgICAgICAgICAgICAgICAkYWxlcnQuaW5uZXJIVE1MID0gYCR7JGFsZXJ0LmlubmVySFRNTH08YnI+JHt0ZXh0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkYWxlcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICRhbGVydC5jbGFzc05hbWUgPSB0aGlzLmFsZXJ0Q2xhc3M7XG4gICAgICAgICAgICAkYWxlcnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2FsZXJ0Jyk7XG4gICAgICAgICAgICAkYWxlcnQuaW5uZXJIVE1MID0gdGV4dDtcblxuICAgICAgICAgICAgLy8gRm9yIGVycm9yIG5vdGljZXMsIHdlIGhhdmUgcG90ZW50aWFsIHNwZWNpYWwgaGFuZGxpbmcgb24gcG9zaXRpb25cbiAgICAgICAgICAgIGlmICh0eXBlID09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAkYWxlcnQuY2xhc3NOYW1lICs9IGAgJHt0aGlzLmFsZXJ0RXJyb3JDbGFzc30gJHt0aGlzLmFsZXJ0Q2xhc3N9LSR7dGhpcy5zZXR0aW5ncy5lcnJvck1lc3NhZ2VQb3NpdGlvbn1gO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZXJyb3JNZXNzYWdlUG9zaXRpb24gPT0gJ2JvdHRvbS1mb3JtJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdWJtaXRCdG4ucGFyZW50Tm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSgkYWxlcnQsIHRoaXMuJHN1Ym1pdEJ0bi5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuZXJyb3JNZXNzYWdlUG9zaXRpb24gPT0gJ3RvcC1mb3JtJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRmb3JtLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCRhbGVydCwgdGhpcy4kZm9ybSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkYWxlcnQuY2xhc3NOYW1lICs9IGAgJHt0aGlzLmFsZXJ0U3VjY2Vzc0NsYXNzfSAke3RoaXMuYWxlcnRDbGFzc30tJHt0aGlzLnNldHRpbmdzLnN1Ym1pdEFjdGlvbk1lc3NhZ2VQb3NpdGlvbn1gO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc3VibWl0QWN0aW9uTWVzc2FnZVBvc2l0aW9uID09ICdib3R0b20tZm9ybScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQW4gZXZlbiBmdXJ0aGVyIHNwZWNpYWwgY2FzZSB3aGVuIGhpZGluZyB0aGUgZm9ybSFcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc3VibWl0QWN0aW9uRm9ybUhpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGZvcm0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoJGFsZXJ0LCB0aGlzLiRmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRzdWJtaXRCdG4ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIHN1Ym1pdCBidXR0b24gc3RpbGwuIE1pZ2h0J3ZlIGJlZW4gcmVtb3ZlZCBmb3IgbXVsdGktcGFnZSwgYWpheC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN1Ym1pdEJ0bi5wYXJlbnROb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCRhbGVydCwgdGhpcy4kc3VibWl0QnRuLnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZm9ybS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSgkYWxlcnQsIHRoaXMuJGZvcm0ubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNldHRpbmdzLnN1Ym1pdEFjdGlvbk1lc3NhZ2VQb3NpdGlvbiA9PSAndG9wLWZvcm0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGZvcm0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoJGFsZXJ0LCB0aGlzLiRmb3JtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93VGFiRXJyb3JzKGVycm9ycykge1xuICAgICAgICBPYmplY3Qua2V5cyhlcnJvcnMpLmZvckVhY2goKHBhZ2VJZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0ICR0YWIgPSB0aGlzLiRmb3JtLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihgW2RhdGEtZnVpLXBhZ2UtaWQ9XCIke3BhZ2VJZH1cIl1gKTtcblxuICAgICAgICAgICAgaWYgKCR0YWIpIHtcbiAgICAgICAgICAgICAgICAkdGFiLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCh0aGlzLnRhYkVycm9yQ2xhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkZWNvZGVIdG1sKGh0bWwpIHtcbiAgICAgICAgY29uc3QgdHh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgdHh0LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIHJldHVybiB0eHQudmFsdWU7XG4gICAgfVxuXG4gICAgcmVtb3ZlRm9ybUFsZXJ0KCkge1xuICAgICAgICBjb25zdCAkYWxlcnQgPSB0aGlzLiRmb3JtLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5hbGVydENsYXNzfWApO1xuXG4gICAgICAgIGlmICgkYWxlcnQpIHtcbiAgICAgICAgICAgICRhbGVydC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZVRhYkVycm9ycygpIHtcbiAgICAgICAgY29uc3QgJHRhYnMgPSB0aGlzLiRmb3JtLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZnVpLXBhZ2UtdGFiXScpO1xuXG4gICAgICAgICR0YWJzLmZvckVhY2goKCR0YWIpID0+IHtcbiAgICAgICAgICAgICR0YWIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnRhYkVycm9yQ2xhc3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBiZWZvcmVTdWJtaXQoKSB7XG4gICAgICAgIC8vIFJlbW92ZSBhbGwgdmFsaWRhdGlvbiBlcnJvcnNcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKHRoaXMuJGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEnKSwgKCgkZmllbGQpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdG9yLnJlbW92ZUVycm9yKCRmaWVsZCk7XG4gICAgICAgIH0pKTtcblxuICAgICAgICB0aGlzLnJlbW92ZUZvcm1BbGVydCgpO1xuICAgICAgICB0aGlzLnJlbW92ZVRhYkVycm9ycygpO1xuXG4gICAgICAgIC8vIERvbid0IHNldCBhIGxvYWRpbmcgaWYgd2UncmUgZ29pbmcgYmFjayBhbmQgdGhlIHVubG9hZCB3YXJuaW5nIGFwcGVhcnMsIGJlY2F1c2UgdGhlcmUncyBubyB3YXkgdG8gcmUtZW5hYmxlXG4gICAgICAgIC8vIHRoZSBidXR0b24gYWZ0ZXIgdGhlIHVzZXIgY2FuY2VscyB0aGUgdW5sb2FkIGV2ZW50XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5lbmFibGVCYWNrU3VibWlzc2lvbiAmJiB0aGlzLmZvcm0uc3VibWl0QWN0aW9uID09PSAnYmFjaycpIHtcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTG9hZGluZygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWpheFN1Ym1pdCgpIHtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGhpcy4kZm9ybSk7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMuJGZvcm0uZ2V0QXR0cmlidXRlKCdtZXRob2QnKTtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy4kZm9ybS5nZXRBdHRyaWJ1dGUoJ2FjdGlvbicpO1xuXG4gICAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbihtZXRob2QgPyBtZXRob2QgOiAnUE9TVCcsIGFjdGlvbiA/IGFjdGlvbiA6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLCB0cnVlKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1gtUmVxdWVzdGVkLVdpdGgnLCAnWE1MSHR0cFJlcXVlc3QnKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ25vLWNhY2hlJyk7XG4gICAgICAgIHhoci50aW1lb3V0ID0gKHRoaXMuc2V0dGluZ3MuYWpheFRpbWVvdXQgfHwgMTApICogMTAwMDtcblxuICAgICAgICB0aGlzLmJlZm9yZVN1Ym1pdCgpO1xuXG4gICAgICAgIHhoci5vbnRpbWVvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQWpheEVycm9yKHQoJ1RoZSByZXF1ZXN0IHRpbWVkIG91dC4nKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgeGhyLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkFqYXhFcnJvcih0KCdUaGUgcmVxdWVzdCBlbmNvdW50ZXJlZCBhIG5ldHdvcmsgZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4uJykpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQWpheEVycm9yKHJlc3BvbnNlLmVycm9yTWVzc2FnZSwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkFqYXhTdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkFqYXhFcnJvcih0KCdVbmFibGUgdG8gcGFyc2UgcmVzcG9uc2UgYHtlfWAuJywgeyBlIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub25BamF4RXJyb3IoYCR7eGhyLnN0YXR1c306ICR7eGhyLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgeGhyLnNlbmQoZm9ybURhdGEpO1xuICAgIH1cblxuICAgIGFmdGVyQWpheFN1Ym1pdChkYXRhKSB7XG4gICAgICAgIC8vIFJlc2V0IHRoZSBzdWJtaXQgYWN0aW9uLCBpbW1lZGlhdGVseSwgd2hldGhlciBmYWlsIG9yIHN1Y2Nlc3NcbiAgICAgICAgdGhpcy51cGRhdGVTdWJtaXRBY3Rpb24oJ3N1Ym1pdCcpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlU3VibWlzc2lvbklucHV0KGRhdGEpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYW55IGV2ZW50cyBpbiB0aGUgcmVzcG9uc2UgYmFjaywgYW5kIGZpcmUgdGhlbVxuICAgICAgICBpZiAoZGF0YS5ldmVudHMgJiYgQXJyYXkuaXNBcnJheShkYXRhLmV2ZW50cykpIHtcbiAgICAgICAgICAgIC8vIEFuIGVycm9yIG1lc3NhZ2UgbWF5IGJlIHNob3duIGluIHNvbWUgY2FzZXMgKGZvciAzRCBzZWN1cmUpIHNvIHJlbW92ZSB0aGUgZm9ybS1nbG9iYWwgbGV2ZWwgZXJyb3Igbm90aWNlLlxuICAgICAgICAgICAgdGhpcy5yZW1vdmVGb3JtQWxlcnQoKTtcblxuICAgICAgICAgICAgZGF0YS5ldmVudHMuZm9yRWFjaCgoZXZlbnREYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZm9ybS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChldmVudERhdGEuZXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBldmVudERhdGEuZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQWpheEVycm9yKGVycm9yTWVzc2FnZSwgZGF0YSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IGRhdGEuZXJyb3JzIHx8IHt9O1xuICAgICAgICBjb25zdCBwYWdlRmllbGRFcnJvcnMgPSBkYXRhLnBhZ2VGaWVsZEVycm9ycyB8fCB7fTtcblxuICAgICAgICAvLyBTaG93IGFuIGVycm9yIG1lc3NhZ2UgYXQgdGhlIHRvcCBvZiB0aGUgZm9ybVxuICAgICAgICB0aGlzLm9uRm9ybUVycm9yKGVycm9yTWVzc2FnZSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBwYWdlIHRhYnMgKGlmIGFueSkgdG8gc2hvdyBlcnJvciBzdGF0ZVxuICAgICAgICB0aGlzLnNob3dUYWJFcnJvcnMocGFnZUZpZWxkRXJyb3JzKTtcblxuICAgICAgICAvLyBGaXJlIGEgZmFpbCBldmVudFxuICAgICAgICB0aGlzLnN1Ym1pdEhhbmRsZXIuZm9ybVN1Ym1pdEVycm9yKCk7XG5cbiAgICAgICAgLy8gRmlyZSBjbGVhbnVwIG1ldGhvZHMgYWZ0ZXIgX2FueV8gYWpheCBjYWxsXG4gICAgICAgIHRoaXMuYWZ0ZXJBamF4U3VibWl0KGRhdGEpO1xuXG4gICAgICAgIC8vIFNob3cgc2VydmVyLXNpZGUgZXJyb3JzIGZvciBlYWNoIGZpZWxkXG4gICAgICAgIE9iamVjdC5rZXlzKGVycm9ycykuZm9yRWFjaCgoaGFuZGxlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW2Vycm9yXSA9IGVycm9yc1toYW5kbGVdO1xuICAgICAgICAgICAgbGV0IHNlbGVjdG9yID0gaGFuZGxlLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLmpvaW4oJ11bJyk7XG5cbiAgICAgICAgICAgIGxldCAkZmllbGQgPSB0aGlzLiRmb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiZmllbGRzWyR7c2VsZWN0b3J9XVwiXWApO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgbXVsdGlwbGUgZmllbGRzXG4gICAgICAgICAgICBpZiAoISRmaWVsZCkge1xuICAgICAgICAgICAgICAgICRmaWVsZCA9IHRoaXMuJGZvcm0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCJmaWVsZHNbJHtzZWxlY3Rvcn1dW11cIl1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGFuZGxlIFJlcGVhdGVyL0dyb3VwcyAtIGEgbGl0dGxlIG1vcmUgY29tcGxpY2F0ZWQgdG8gdHJhbnNsYXRlIGBncm91cFswXS5maWVsZC5oYW5kbGVgXG4gICAgICAgICAgICBpZiAoISRmaWVsZCAmJiBoYW5kbGUuaW5jbHVkZXMoJ1snKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrSW5kZXggPSBoYW5kbGUubWF0Y2goL1xcWyguKj8pXFxdLylbMV0gfHwgbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgcmVnZXhTdHJpbmcgPSBgZmllbGRzWyR7aGFuZGxlLnJlcGxhY2UoL1xcLi9nLCAnXVsnKS5yZXBsYWNlKCddXScsICddJykucmVwbGFjZSgvXFxbLio/XFxdLywgJ11bcm93c11bLipdW2ZpZWxkc10nKX1dYDtcbiAgICAgICAgICAgICAgICByZWdleFN0cmluZyA9IHJlZ2V4U3RyaW5nLnJlcGxhY2UoL1xcWy9nLCAnXFxcXFsnKS5yZXBsYWNlKC9cXF0vZywgJ1xcXFxdJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCAkdGFyZ2V0cyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbFJlZ2V4KG5ldyBSZWdFeHAocmVnZXhTdHJpbmcpLCAnbmFtZScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCR0YXJnZXRzLmxlbmd0aCAmJiAkdGFyZ2V0c1tibG9ja0luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAkZmllbGQgPSAkdGFyZ2V0c1tibG9ja0luZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgkZmllbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRvci5zaG93RXJyb3IoJGZpZWxkLCB7IHNlcnZlck1lc3NhZ2U6IGVycm9yIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRm9jdXMgb24gdGhlIGZpcnN0IGVycm9yXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICRmaWVsZC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gR28gdG8gdGhlIGZpcnN0IHBhZ2Ugd2l0aCBhbiBlcnJvciwgZm9yIGdvb2QgVVhcbiAgICAgICAgdGhpcy50b2dnbGVQYWdlKGRhdGEsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBvbkFqYXhTdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgLy8gRmlyZSB0aGUgZXZlbnQsIGJlY2F1c2Ugd2UndmUgb3ZlcnJpZGRlbiB0aGUgaGFuZGxlclxuICAgICAgICB0aGlzLnN1Ym1pdEhhbmRsZXIuZm9ybUFmdGVyU3VibWl0KGRhdGEpO1xuXG4gICAgICAgIC8vIEZpcmUgY2xlYW51cCBtZXRob2RzIGFmdGVyIF9hbnlfIGFqYXggY2FsbFxuICAgICAgICB0aGlzLmFmdGVyQWpheFN1Ym1pdChkYXRhKTtcblxuICAgICAgICAvLyBSZXNldCB0aGUgZm9ybSBoYXNoLCBhcyBhbGwgaGFzIGJlZW4gc2F2ZWRcbiAgICAgICAgdGhpcy51cGRhdGVGb3JtSGFzaCgpO1xuXG4gICAgICAgIC8vIFRyaWdlciBhbnkgSlMgZXZlbnRzIGZvciB0aGlzIHBhZ2UsIHJpZ2h0IGF3YXkgYmVmb3JlIG5hdmlnYXRpbmcgYXdheVxuICAgICAgICBpZiAodGhpcy5mb3JtLnN1Ym1pdEFjdGlvbiA9PT0gJ3N1Ym1pdCcpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckpzRXZlbnRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIHByb2NlZWQgdG8gdGhlIG5leHQgcGFnZVxuICAgICAgICBpZiAoZGF0YS5uZXh0UGFnZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxvYWRpbmcoKTtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYWdlKGRhdGEpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSdyZSByZWRpcmVjdGluZyBhd2F5LCBkbyBpdCBpbW1lZGlhdGVseSBmb3IgbmljZXIgVVhcbiAgICAgICAgaWYgKGRhdGEucmVkaXJlY3RVcmwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnN1Ym1pdEFjdGlvblRhYiA9PT0gJ25ldy10YWInKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgdmFsdWVzIGlmIGluIGEgbmV3IHRhYi4gTm8gbmVlZCB3aGVuIGluIHRoZSBzYW1lIHRhYi5cbiAgICAgICAgICAgICAgICB0aGlzLiRmb3JtLnJlc2V0KCk7XG5cbiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihkYXRhLnJlZGlyZWN0VXJsLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS5yZWRpcmVjdFVybDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVsYXkgdGhpcyBhIGxpdHRsZSwgaW4gY2FzZSB3ZSdyZSByZWRpcmVjdGluZyBhd2F5IC0gYmV0dGVyIFVYIHRvIGp1c3Qga2VlcCBpdCBsb2FkaW5nXG4gICAgICAgIHRoaXMucmVtb3ZlTG9hZGluZygpO1xuXG4gICAgICAgIC8vIEZvciBtdWx0aS1wYWdlIGFqYXggZm9ybXMsIGRlYWwgd2l0aCB0aGVtIGEgbGl0dGxlIGRpZmZlcmVudGx5LlxuICAgICAgICBpZiAoZGF0YS50b3RhbFBhZ2VzID4gMSkge1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHN1Y2Nlc3MgbWVzc2FnZSBhdCB0aGUgdG9wLCBnbyB0byB0aGUgZmlyc3QgcGFnZVxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc3VibWl0QWN0aW9uTWVzc2FnZVBvc2l0aW9uID09ICd0b3AtZm9ybScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVBhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBuZXh0UGFnZUluZGV4OiAwLFxuICAgICAgICAgICAgICAgICAgICBuZXh0UGFnZUlkOiB0aGlzLnNldHRpbmdzLnBhZ2VzWzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzOiB0aGlzLnNldHRpbmdzLnBhZ2VzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB3YW50IHRvIGhpZGUgdGhlIGJ1dHRvbnMgYmVjYXVzZSB3ZSBoYXZlIHRvIHN0YXkgb24gdGhlIGxhc3QgcGFnZVxuICAgICAgICAgICAgICAgIC8vIHRvIHNob3cgdGhlIHN1Y2Nlc3MgbWVzc2FnZSBhdCB0aGUgYm90dG9tIG9mIHRoZSBmb3JtLiBPdGhlcndpc2UsIHNob3dpbmcgaXQgb24gdGhlXG4gICAgICAgICAgICAgICAgLy8gZmlyc3QgcGFnZSBvZiBhbiBlbXB0eSBmb3JtIGlzIGp1c3QgcGxhaW4gd2VpcmQgVVguXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJHN1Ym1pdEJ0bikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdWJtaXRCdG4ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBiYWNrIGJ1dHRvbiAtIG5vdCBncmVhdCBVWCB0byBnbyBiYWNrIHRvIGEgZmluaXNoZWQgZm9ybVxuICAgICAgICAgICAgICAgIC8vIFJlbWVtYmVyLCBpdHMgdGhlIGJ1dHRvbiBhbmQgdGhlIGhpZGRlbiBpbnB1dFxuICAgICAgICAgICAgICAgIGNvbnN0ICRiYWNrQnV0dG9uSW5wdXRzID0gdGhpcy4kZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zdWJtaXQtYWN0aW9uPVwiYmFja1wiXScpO1xuXG4gICAgICAgICAgICAgICAgJGJhY2tCdXR0b25JbnB1dHMuZm9yRWFjaCgoJGJhY2tCdXR0b25JbnB1dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkYmFja0J1dHRvbklucHV0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc3VibWl0QWN0aW9uID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgIC8vIEFsbG93IHRoZSBzdWJtaXQgYWN0aW9uIG1lc3NhZ2UgdG8gYmUgc2VudCBmcm9tIHRoZSByZXNwb25zZSwgb3IgZmFsbGJhY2sgdG8gc3RhdGljLlxuICAgICAgICAgICAgY29uc3Qgc3VibWl0QWN0aW9uTWVzc2FnZSA9IGRhdGEuc3VibWl0QWN0aW9uTWVzc2FnZSB8fCB0aGlzLnNldHRpbmdzLnN1Ym1pdEFjdGlvbk1lc3NhZ2U7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0Zvcm1BbGVydChzdWJtaXRBY3Rpb25NZXNzYWdlLCAnc3VjY2VzcycpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgICAgICB0aGlzLmhpZGVTdWNjZXNzKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnN1Ym1pdEFjdGlvbkZvcm1IaWRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZm9ybS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTbW9vdGgtc2Nyb2xsIHRvIHRoZSB0b3Agb2YgdGhlIGZvcm0uXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zY3JvbGxUb1RvcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9Gb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXNldCB2YWx1ZXMgcmVnYXJkbGVzcywgZm9yIHRoZSBtb21lbnRcbiAgICAgICAgdGhpcy4kZm9ybS5yZXNldCgpO1xuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc3VibWlzc2lvbiBJRCBpbnB1dCBpbiBjYXNlIHdlIHdhbnQgdG8gZ28gYWdhaW5cbiAgICAgICAgdGhpcy5yZW1vdmVIaWRkZW5JbnB1dCgnc3VibWlzc2lvbklkJyk7XG5cbiAgICAgICAgLy8gUmVzZXQgdGhlIGZvcm0gaGFzaCwgYXMgYWxsIGhhcyBiZWVuIHNhdmVkXG4gICAgICAgIHRoaXMudXBkYXRlRm9ybUhhc2goKTtcbiAgICB9XG5cbiAgICB1cGRhdGVTdWJtaXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgIC8vIEFsbCBidXR0b25zIHNob3VsZCBoYXZlIGEgYFtkYXRhLXN1Ym1pdC1hY3Rpb25dYCBidXQganVzdCBmb3IgYmFja3dhcmQtY29tcGF0aWJpbGl0eVxuICAgICAgICAvLyBhc3N1bWUgd2hlbiBub3QgcHJlc2VudCwgd2UncmUgc3VibWl0dGluZ1xuICAgICAgICBpZiAoIWFjdGlvbikge1xuICAgICAgICAgICAgYWN0aW9uID0gJ3N1Ym1pdCc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgdGhlIHN1Ym1pdCBhY3Rpb24gb24gdGhlIGZvcm0gd2hpbGUgd2UncmUgYXQgaXQuIFN0b3JlIG9uIHRoZSBgJGZvcm1gXG4gICAgICAgIC8vIGZvciBlYWNoIG9mIGxvb2t1cCBvbiBldmVudCBob29rcyBsaWtlIGNhcHRjaGFzLlxuICAgICAgICB0aGlzLmZvcm0uc3VibWl0QWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgIHRoaXMudXBkYXRlT3JDcmVhdGVIaWRkZW5JbnB1dCgnc3VibWl0QWN0aW9uJywgYWN0aW9uKTtcbiAgICB9XG5cbiAgICB1cGRhdGVTdWJtaXNzaW9uSW5wdXQoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEuc3VibWlzc2lvbklkIHx8ICFkYXRhLm5leHRQYWdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCB0aGUgaGlkZGVuIHN1Ym1pc3Npb24gaW5wdXQsIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgdGhpcy51cGRhdGVPckNyZWF0ZUhpZGRlbklucHV0KCdzdWJtaXNzaW9uSWQnLCBkYXRhLnN1Ym1pc3Npb25JZCk7XG4gICAgfVxuXG4gICAgdXBkYXRlT3JDcmVhdGVIaWRkZW5JbnB1dChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBsZXQgJGlucHV0ID0gdGhpcy4kZm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7bmFtZX1cIl1bdHlwZT1cImhpZGRlblwiXWApO1xuXG4gICAgICAgIGlmICghJGlucHV0KSB7XG4gICAgICAgICAgICAkaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgJGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdoaWRkZW4nKTtcbiAgICAgICAgICAgICRpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBuYW1lKTtcbiAgICAgICAgICAgIHRoaXMuJGZvcm0uYXBwZW5kQ2hpbGQoJGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgICRpbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdmFsdWUpO1xuICAgIH1cblxuICAgIHJlbW92ZUhpZGRlbklucHV0KG5hbWUpIHtcbiAgICAgICAgY29uc3QgJGlucHV0ID0gdGhpcy4kZm9ybS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7bmFtZX1cIl1bdHlwZT1cImhpZGRlblwiXWApO1xuXG4gICAgICAgIGlmICgkaW5wdXQpIHtcbiAgICAgICAgICAgICRpbnB1dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCRpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b2dnbGVQYWdlKGRhdGEsIHNjcm9sbFRvVG9wID0gdHJ1ZSkge1xuICAgICAgICAvLyBUcmlnZ2VyIGFuIGV2ZW50IHdoZW4gYSBwYWdlIGlzIHRvZ2dsZWRcbiAgICAgICAgdGhpcy4kZm9ybS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnb25Gb3JtaWVQYWdlVG9nZ2xlJywge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgLy8gSGlkZSBhbGwgcGFnZXNcbiAgICAgICAgY29uc3QgJGFsbFBhZ2VzID0gdGhpcy4kZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mdWktcGFnZV0nKTtcblxuICAgICAgICBpZiAoZGF0YS5uZXh0UGFnZUlkKSB7XG4gICAgICAgICAgICAkYWxsUGFnZXMuZm9yRWFjaCgoJHBhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBTaG93IHRoZSBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgICAgICBpZiAoJHBhZ2UuaWQgPT09IGAke3RoaXMuZ2V0UGFnZUlkKGRhdGEubmV4dFBhZ2VJZCl9YCkge1xuICAgICAgICAgICAgICAgICAgICAkcGFnZS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZnVpLXBhZ2UtaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJHBhZ2Uuc2V0QXR0cmlidXRlKCdkYXRhLWZ1aS1wYWdlLWhpZGRlbicsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHRhYnMgYW5kIHByb2dyZXNzIGJhciBpZiB3ZSdyZSB1c2luZyB0aGVtXG4gICAgICAgIGNvbnN0ICRwcm9ncmVzcyA9IHRoaXMuJGZvcm0ucXVlcnlTZWxlY3RvcignW2RhdGEtZnVpLXByb2dyZXNzLWJhcl0nKTtcblxuICAgICAgICBpZiAoJHByb2dyZXNzICYmIGRhdGEubmV4dFBhZ2VJbmRleCkge1xuICAgICAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gcGFyc2VJbnQoZGF0YS5uZXh0UGFnZUluZGV4LCAxMCkgKyAxO1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLnJvdW5kKChwYWdlSW5kZXggLyBkYXRhLnRvdGFsUGFnZXMpICogMTAwKTtcblxuICAgICAgICAgICAgJHByb2dyZXNzLnN0eWxlLndpZHRoID0gYCR7cHJvZ3Jlc3N9JWA7XG4gICAgICAgICAgICAkcHJvZ3Jlc3Muc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgJHByb2dyZXNzLnRleHRDb250ZW50ID0gYCR7cHJvZ3Jlc3N9JWA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCAkdGFicyA9IHRoaXMuJGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZnVpLXBhZ2UtdGFiXScpO1xuXG4gICAgICAgIGlmIChkYXRhLm5leHRQYWdlSWQpIHtcbiAgICAgICAgICAgICR0YWJzLmZvckVhY2goKCR0YWIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBTaG93IHRoZSBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgICAgICBpZiAoJHRhYi5pZCA9PT0gYCR7dGhpcy50YWJDbGFzc30tJHtkYXRhLm5leHRQYWdlSWR9YCkge1xuICAgICAgICAgICAgICAgICAgICAkdGFiLmNsYXNzTGlzdC5hZGQodGhpcy50YWJBY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJHRhYi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMudGFiQWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50UGFnZShkYXRhLm5leHRQYWdlSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU21vb3RoLXNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSBmb3JtLlxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zY3JvbGxUb1RvcCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb0Zvcm0oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEN1cnJlbnRQYWdlKHBhZ2VJZCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmN1cnJlbnRQYWdlSWQgPSBwYWdlSWQ7XG4gICAgICAgIHRoaXMuJGN1cnJlbnRQYWdlID0gdGhpcy4kZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmdldFBhZ2VJZChwYWdlSWQpfWApO1xuICAgIH1cblxuICAgIGdldEN1cnJlbnRQYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wYWdlcy5maW5kKChwYWdlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGFnZS5pZCA9PSB0aGlzLnNldHRpbmdzLmN1cnJlbnRQYWdlSWQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEN1cnJlbnRQYWdlSW5kZXgoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5nZXRDdXJyZW50UGFnZSgpO1xuXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucGFnZXMuaW5kZXhPZihjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBnZXRQYWdlSWQocGFnZUlkKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmNvbmZpZy5mb3JtSGFzaElkfS1wLSR7cGFnZUlkfWA7XG4gICAgfVxuXG4gICAgc2Nyb2xsVG9Gb3JtKCkge1xuICAgICAgICAvLyBDaGVjayBmb3Igc2Nyb2xsLXBhZGRpbmctdG9wIG9yIGBzY3JvbGwtbWFyZ2luLXRvcGBcbiAgICAgICAgY29uc3QgZXh0cmFQYWRkaW5nID0gKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZVsnc2Nyb2xsLXBhZGRpbmctdG9wJ10gfHwgJzBweCcpLnJlcGxhY2UoJ3B4JywgJycpO1xuICAgICAgICBjb25zdCBleHRyYU1hcmdpbiA9IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGVbJ3Njcm9sbC1tYXJnaW4tdG9wJ10gfHwgJzBweCcpLnJlcGxhY2UoJ3B4JywgJycpO1xuXG4gICAgICAgIC8vIEJlY2F1c2UgdGhlIGZvcm0gY2FuIGJlIGhpZGRlbiwgdXNlIHRoZSBwYXJlbnQgd3JhcHBlclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgICAgICAgdG9wOiB0aGlzLiRmb3JtLnBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gMTAwIC0gZXh0cmFQYWRkaW5nIC0gZXh0cmFNYXJnaW4sXG4gICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyaWdnZXJKc0V2ZW50cygpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSB0aGlzLmdldEN1cnJlbnRQYWdlKCk7XG5cbiAgICAgICAgLy8gRmluZCBhbnkgSlMgZXZlbnRzIGZvciB0aGUgY3VycmVudCBwYWdlIGFuZCBmaXJlXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSAmJiBjdXJyZW50UGFnZS5zZXR0aW5ncy5lbmFibGVKc0V2ZW50cykge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHt9O1xuXG4gICAgICAgICAgICBjdXJyZW50UGFnZS5zZXR0aW5ncy5qc0d0bUV2ZW50T3B0aW9ucy5mb3JFYWNoKChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkW29wdGlvbi5sYWJlbF0gPSBvcHRpb24udmFsdWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUHVzaCB0byB0aGUgZGF0YWxheWVyXG4gICAgICAgICAgICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcbiAgICAgICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaChwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHF1ZXJ5U2VsZWN0b3JBbGxSZWdleChyZWdleCwgYXR0cmlidXRlVG9TZWFyY2gpIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMuJGZvcm0ucXVlcnlTZWxlY3RvckFsbChgWyR7YXR0cmlidXRlVG9TZWFyY2h9XWApKSB7XG4gICAgICAgICAgICBpZiAocmVnZXgudGVzdChlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVUb1NlYXJjaCkpKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJ0IiwiQm91bmNlciIsIkZvcm1pZUZvcm1UaGVtZSIsIiRmb3JtIiwiY29uZmlnIiwic2V0dGluZ3MiLCJ2YWxpZGF0aW9uT25TdWJtaXQiLCJ2YWxpZGF0aW9uT25Gb2N1cyIsInNldEN1cnJlbnRQYWdlIiwiY3VycmVudFBhZ2VJZCIsImZvcm1UaGVtZSIsImZvcm0iLCJsb2FkaW5nQ2xhc3MiLCJnZXRDbGFzc2VzIiwidGFiRXJyb3JDbGFzcyIsInRhYkFjdGl2ZUNsYXNzIiwiZXJyb3JNZXNzYWdlQ2xhc3MiLCJzdWNjZXNzTWVzc2FnZUNsYXNzIiwiYWxlcnRDbGFzcyIsImFsZXJ0RXJyb3JDbGFzcyIsImFsZXJ0U3VjY2Vzc0NsYXNzIiwidGFiQ2xhc3MiLCJpbml0VmFsaWRhdG9yIiwiaGlkZVN1Y2Nlc3MiLCJhZGRTdWJtaXRFdmVudExpc3RlbmVyIiwidXBkYXRlRm9ybUhhc2giLCJlbmFibGVVbmxvYWRXYXJuaW5nIiwiYWRkRm9ybVVubG9hZEV2ZW50TGlzdGVuZXIiLCJzdWJtaXRNZXRob2QiLCJmb3JtVGFiRXZlbnRMaXN0ZW5lciIsInZhbGlkYXRvclNldHRpbmdzIiwiZmllbGRDbGFzcyIsImVycm9yQ2xhc3MiLCJmaWVsZFByZWZpeCIsImVycm9yUHJlZml4IiwibWVzc2FnZUFmdGVyRmllbGQiLCJtZXNzYWdlQ3VzdG9tIiwibWVzc2FnZVRhcmdldCIsInZhbGlkYXRlT25CbHVyIiwidmFsaWRhdGVPblN1Ym1pdCIsImRpc2FibGVTdWJtaXQiLCJjdXN0b21WYWxpZGF0aW9ucyIsIm1lc3NhZ2VzIiwibWlzc2luZ1ZhbHVlIiwiY2hlY2tib3giLCJyYWRpbyIsInNlbGVjdCIsInBhdHRlcm5NaXNtYXRjaCIsImVtYWlsIiwidXJsIiwibnVtYmVyIiwiY29sb3IiLCJkYXRlIiwidGltZSIsIm1vbnRoIiwib3V0T2ZSYW5nZSIsIm92ZXIiLCJ1bmRlciIsIndyb25nTGVuZ3RoIiwiZmFsbGJhY2siLCJyZWdpc3RlckZvcm1pZVZhbGlkYXRpb24iLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJkZXRhaWwiLCJzZXRUaW1lb3V0IiwiZGlzcGF0Y2hFdmVudCIsInZhbGlkYXRvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic3VibWl0RGVib3VuY2UiLCJ2YWxpZGF0ZSIsIm1lc3NhZ2UiLCIkZmllbGQiLCJ0YXJnZXQiLCIkZmllbGRDb250YWluZXIiLCJjbG9zZXN0IiwiJG1lc3NhZ2UiLCJwYXJlbnROb2RlIiwicXVlcnlTZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsImVycm9ycyIsInNlcnZlck1lc3NhZ2UiLCIkZXJyb3JUb01vdmUiLCJhcHBlbmRDaGlsZCIsIiRlcnJvciIsInRleHRDb250ZW50IiwiJHN1Ym1pdEJ0bnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIiRzdWJtaXRCdG4iLCJvcmlnaW5hbEJ1dHRvblRleHQiLCJ0cmltIiwic3VibWl0QWN0aW9uIiwidXBkYXRlU3VibWl0QWN0aW9uIiwib25CZWZvcmVTdWJtaXQiLCJiaW5kIiwib25WYWxpZGF0ZSIsIm9uU3VibWl0Iiwib25TdWJtaXRFcnJvciIsImJlZm9yZVN1Ym1pdCIsInN1Ym1pdEhhbmRsZXIiLCJvbkZvcm1FcnJvciIsImludmFsaWQiLCJwcmV2ZW50RGVmYXVsdCIsImFqYXhTdWJtaXQiLCJlbmFibGVCYWNrU3VibWlzc2lvbiIsInRyaWdnZXJKc0V2ZW50cyIsInN1Ym1pdCIsIndpbmRvdyIsInNhdmVkRm9ybUhhc2giLCJoYXNoRm9ybSIsInJldHVyblZhbHVlIiwiJHRhYnMiLCIkdGFiIiwicGFnZUluZGV4IiwicGFnZUlkIiwidG9nZ2xlUGFnZSIsIm5leHRQYWdlSW5kZXgiLCJuZXh0UGFnZUlkIiwidG90YWxQYWdlcyIsInBhZ2VzIiwibGVuZ3RoIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJoYXNoIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImV4Y2x1ZGVkSXRlbXMiLCJlbnRyaWVzIiwicGFpciIsImlzRXhjbHVkZWQiLCJmaWx0ZXIiLCJpdGVtIiwic3RhcnRzV2l0aCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmb2N1cyIsIiRmaWVsZHNldCIsIiRjdXJyZW50UGFnZSIsImludmFsaWRGaWVsZHMiLCJ2YWxpZGF0ZUFsbCIsInJlbW92ZUZvcm1BbGVydCIsIiRzdWNjZXNzTWVzc2FnZSIsInN1Ym1pdEFjdGlvbk1lc3NhZ2VUaW1lb3V0IiwidGltZW91dCIsInBhcnNlSW50IiwicmVtb3ZlIiwic2V0QXR0cmlidXRlIiwibG9hZGluZ0luZGljYXRvciIsImNsYXNzTGlzdCIsImFkZCIsImxvYWRpbmdJbmRpY2F0b3JUZXh0IiwicmVtb3ZlQXR0cmlidXRlIiwiZXJyb3JNZXNzYWdlIiwic2hvd0Zvcm1BbGVydCIsInJlbW92ZUxvYWRpbmciLCJ0ZXh0IiwidHlwZSIsIiRhbGVydCIsInJlcGxhY2UiLCJpbm5lckhUTUwiLCJkZWNvZGVIdG1sIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiZXJyb3JNZXNzYWdlUG9zaXRpb24iLCJpbnNlcnRCZWZvcmUiLCJzdWJtaXRBY3Rpb25NZXNzYWdlUG9zaXRpb24iLCJzdWJtaXRBY3Rpb25Gb3JtSGlkZSIsIm5leHRTaWJsaW5nIiwiT2JqZWN0Iiwia2V5cyIsImluZGV4IiwiaHRtbCIsInR4dCIsInZhbHVlIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJjYWxsIiwicmVtb3ZlRXJyb3IiLCJyZW1vdmVUYWJFcnJvcnMiLCJhZGRMb2FkaW5nIiwibWV0aG9kIiwiYWN0aW9uIiwibG9jYXRpb24iLCJocmVmIiwiYWpheFRpbWVvdXQiLCJvbnRpbWVvdXQiLCJvbkFqYXhFcnJvciIsIm9uZXJyb3IiLCJvbmxvYWQiLCJzdGF0dXMiLCJyZXNwb25zZSIsInBhcnNlIiwicmVzcG9uc2VUZXh0Iiwib25BamF4U3VjY2VzcyIsInN0YXR1c1RleHQiLCJkYXRhIiwidXBkYXRlU3VibWlzc2lvbklucHV0IiwiZXZlbnRzIiwiaXNBcnJheSIsImV2ZW50RGF0YSIsImV2ZW50IiwicGFnZUZpZWxkRXJyb3JzIiwic2hvd1RhYkVycm9ycyIsImZvcm1TdWJtaXRFcnJvciIsImFmdGVyQWpheFN1Ym1pdCIsImhhbmRsZSIsImVycm9yIiwic2VsZWN0b3IiLCJzcGxpdCIsImpvaW4iLCJpbmNsdWRlcyIsImJsb2NrSW5kZXgiLCJtYXRjaCIsInJlZ2V4U3RyaW5nIiwiJHRhcmdldHMiLCJxdWVyeVNlbGVjdG9yQWxsUmVnZXgiLCJSZWdFeHAiLCJzaG93RXJyb3IiLCJmb3JtQWZ0ZXJTdWJtaXQiLCJyZWRpcmVjdFVybCIsInN1Ym1pdEFjdGlvblRhYiIsInJlc2V0IiwiaWQiLCIkYmFja0J1dHRvbklucHV0cyIsIiRiYWNrQnV0dG9uSW5wdXQiLCJzdWJtaXRBY3Rpb25NZXNzYWdlIiwic3R5bGUiLCJkaXNwbGF5Iiwic2Nyb2xsVG9Ub3AiLCJzY3JvbGxUb0Zvcm0iLCJyZW1vdmVIaWRkZW5JbnB1dCIsInVwZGF0ZU9yQ3JlYXRlSGlkZGVuSW5wdXQiLCJzdWJtaXNzaW9uSWQiLCJuYW1lIiwiJGlucHV0IiwicmVtb3ZlQ2hpbGQiLCIkYWxsUGFnZXMiLCIkcGFnZSIsImdldFBhZ2VJZCIsIiRwcm9ncmVzcyIsInByb2dyZXNzIiwiTWF0aCIsInJvdW5kIiwid2lkdGgiLCJmaW5kIiwicGFnZSIsImN1cnJlbnRQYWdlIiwiZ2V0Q3VycmVudFBhZ2UiLCJpbmRleE9mIiwiZm9ybUhhc2hJZCIsImV4dHJhUGFkZGluZyIsImRvY3VtZW50RWxlbWVudCIsImV4dHJhTWFyZ2luIiwic2Nyb2xsVG8iLCJ0b3AiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwYWdlWU9mZnNldCIsImJlaGF2aW9yIiwiZW5hYmxlSnNFdmVudHMiLCJwYXlsb2FkIiwianNHdG1FdmVudE9wdGlvbnMiLCJvcHRpb24iLCJsYWJlbCIsImRhdGFMYXllciIsInB1c2giLCJyZWdleCIsImF0dHJpYnV0ZVRvU2VhcmNoIiwib3V0cHV0IiwiZWxlbWVudCIsInRlc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/formie-form-theme.js\n");

/***/ }),

/***/ "./src/js/formie-lib.js":
/*!******************************!*\
  !*** ./src/js/formie-lib.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Formie\": () => (/* binding */ Formie)\n/* harmony export */ });\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/utils */ \"./src/js/utils/utils.js\");\n/* harmony import */ var _formie_form_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formie-form-base */ \"./src/js/formie-form-base.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\nvar Formie = /*#__PURE__*/function () {\n  function Formie() {\n    _classCallCheck(this, Formie);\n\n    this.forms = [];\n  }\n\n  _createClass(Formie, [{\n    key: \"initForms\",\n    value: function initForms() {\n      var _this = this;\n\n      this.$forms = document.querySelectorAll('form[data-fui-form]') || []; // We use this in the CP, where it's a bit tricky to add a form ID. So check just in case.\n      // Might also be handy for front-end too!\n\n      if (!this.$forms.length) {\n        this.$forms = document.querySelectorAll('div[data-fui-form]') || [];\n      }\n\n      this.$forms.forEach(function ($form) {\n        _this.initForm($form);\n      }); // Emit a custom event to let scripts know the Formie class is ready\n\n      document.dispatchEvent(new CustomEvent('onFormieInit', {\n        bubbles: true,\n        detail: {\n          formie: this\n        }\n      }));\n    }\n  }, {\n    key: \"initForm\",\n    value: function initForm($form) {\n      var _this2 = this;\n\n      var formConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if ((0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.isEmpty)(formConfig)) {\n        // Initialize the form class with the `data-fui-form` param on the form\n        formConfig = JSON.parse($form.getAttribute('data-fui-form'));\n      }\n\n      if ((0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.isEmpty)(formConfig)) {\n        console.error('Unable to parse `data-fui-form` form attribute for config. Ensure this attribute exists on your form and contains valid JSON.');\n        return;\n      } // See if we need to init additional, conditional JS (field, captchas, etc)\n\n\n      var registeredJs = formConfig.registeredJs || []; // Add an instance to this factory to the form config\n\n      formConfig.Formie = this; // Create the form class, save it to our collection\n\n      var form = new _formie_form_base__WEBPACK_IMPORTED_MODULE_1__.FormieFormBase($form, formConfig);\n      this.forms.push(form); // Find all `data-field-config` attributes for the current page and form\n      // and build an object of them to initialize when loaded.\n\n      form.fieldConfigs = this.parseFieldConfig($form, $form); // Is there any additional JS config registered for this form?\n\n      if (registeredJs.length) {\n        // Create a container to add these items to, so we can destroy them later\n        form.$registeredJs = document.createElement('div');\n        form.$registeredJs.setAttribute('data-fui-scripts', formConfig.formId);\n        document.body.appendChild(form.$registeredJs); // Create a `<script>` for each registered JS\n\n        registeredJs.forEach(function (config) {\n          var $script = document.createElement('script'); // Check if we've provided an external script to load. Ensure they're deferred so they don't block\n          // and use the onload call to trigger any actual scripts once its been loaded.\n\n          if (config.src) {\n            $script.src = config.src;\n            $script.defer = true; // Initialize all matching fields - their config is already rendered in templates\n\n            $script.onload = function () {\n              if (config.module) {\n                var fieldConfigs = form.fieldConfigs[config.module]; // Handle multiple fields on a page, creating a new JS class instance for each\n\n                if (fieldConfigs && Array.isArray(fieldConfigs) && fieldConfigs.length) {\n                  fieldConfigs.forEach(function (fieldConfig) {\n                    _this2.initJsClass(config.module, fieldConfig);\n                  });\n                } // Handle integrations that have global settings, instead of per-field\n\n\n                if (config.settings) {\n                  _this2.initJsClass(config.module, _objectSpread({\n                    $form: $form\n                  }, config.settings));\n                } // Special handling for some JS modules\n\n\n                if (config.module === 'FormieConditions') {\n                  _this2.initJsClass(config.module, {\n                    $form: $form\n                  });\n                }\n              }\n            };\n          }\n\n          form.$registeredJs.appendChild($script);\n        });\n      }\n    }\n  }, {\n    key: \"initJsClass\",\n    value: function initJsClass(className, params) {\n      var moduleClass = window[className];\n\n      if (moduleClass) {\n        new moduleClass(params);\n      }\n    } // Note the use of $form and $element to handle Repeater\n\n  }, {\n    key: \"parseFieldConfig\",\n    value: function parseFieldConfig($element, $form) {\n      var config = {};\n      $element.querySelectorAll('[data-field-config]').forEach(function ($field) {\n        var fieldConfig = JSON.parse($field.getAttribute('data-field-config')); // Some fields supply multiple modules, so normalise for ease-of-processing\n\n        if (!Array.isArray(fieldConfig)) {\n          fieldConfig = [fieldConfig];\n        }\n\n        fieldConfig.forEach(function (nestedFieldConfig) {\n          if (!config[nestedFieldConfig.module]) {\n            config[nestedFieldConfig.module] = [];\n          } // Provide field classes with the data they need\n\n\n          config[nestedFieldConfig.module].push(_objectSpread({\n            $form: $form,\n            $field: $field\n          }, nestedFieldConfig));\n        });\n      });\n      return config;\n    }\n  }, {\n    key: \"getForm\",\n    value: function getForm($form) {\n      return this.forms.find(function (form) {\n        return form.$form == $form;\n      });\n    }\n  }, {\n    key: \"getFormById\",\n    value: function getFormById(id) {\n      // eslint-disable-next-line array-callback-return\n      return this.forms.find(function (form) {\n        if (form.config) {\n          return form.config.formId == id;\n        }\n      });\n    }\n  }, {\n    key: \"getFormByHandle\",\n    value: function getFormByHandle(handle) {\n      // eslint-disable-next-line array-callback-return\n      return this.forms.find(function (form) {\n        if (form.config) {\n          return form.config.formHandle == handle;\n        }\n      });\n    }\n  }, {\n    key: \"destroyForm\",\n    value: function destroyForm($form) {\n      var form = this.getForm($form);\n\n      if (!form) {\n        return;\n      }\n\n      var index = this.forms.indexOf(form);\n\n      if (index === -1) {\n        return;\n      } // Delete any additional scripts for the form - if any\n\n\n      if (form.$registeredJs && form.$registeredJs.parentNode) {\n        form.$registeredJs.parentNode.removeChild(form.$registeredJs);\n      } // Remove all event listeners attached to this form\n\n\n      if (!(0,_utils_utils__WEBPACK_IMPORTED_MODULE_0__.isEmpty)(form.listeners)) {\n        Object.keys(form.listeners).forEach(function (eventKey) {\n          form.removeEventListener(eventKey);\n        });\n      } // Destroy Bouncer events\n\n\n      if (form.formTheme && form.formTheme.validator) {\n        form.formTheme.validator.destroy();\n      } // Delete it from the factory\n\n\n      delete this.forms[index];\n    }\n  }]);\n\n  return Formie;\n}();\nwindow.Formie = Formie;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFBQ3VELFFBQUQsRUFBYztVQUM5Q3hDLElBQUksQ0FBQ3lDLG1CQUFMLENBQXlCRCxRQUF6QjtRQUNILENBRkQ7TUFHSCxDQXZCYyxDQXlCZjs7O01BQ0EsSUFBSXhDLElBQUksQ0FBQzBDLFNBQUwsSUFBa0IxQyxJQUFJLENBQUMwQyxTQUFMLENBQWVDLFNBQXJDLEVBQWdEO1FBQzVDM0MsSUFBSSxDQUFDMEMsU0FBTCxDQUFlQyxTQUFmLENBQXlCQyxPQUF6QjtNQUNILENBNUJjLENBOEJmOzs7TUFDQSxPQUFPLEtBQUtoRSxLQUFMLENBQVdxRCxLQUFYLENBQVA7SUFDSDtFQXRNTDs7RUFBQTtBQUFBO0FBeU1BVCxNQUFNLENBQUM3QyxNQUFQLEdBQWdCQSxNQUFoQiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9mb3JtaWUtbGliLmpzPzIyYTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdCwgaXNFbXB0eSB9IGZyb20gJy4vdXRpbHMvdXRpbHMnO1xuXG5pbXBvcnQgeyBGb3JtaWVGb3JtQmFzZSB9IGZyb20gJy4vZm9ybWllLWZvcm0tYmFzZSc7XG5cbmV4cG9ydCBjbGFzcyBGb3JtaWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmZvcm1zID0gW107XG4gICAgfVxuXG4gICAgaW5pdEZvcm1zKCkge1xuICAgICAgICB0aGlzLiRmb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm1bZGF0YS1mdWktZm9ybV0nKSB8fCBbXTtcblxuICAgICAgICAvLyBXZSB1c2UgdGhpcyBpbiB0aGUgQ1AsIHdoZXJlIGl0J3MgYSBiaXQgdHJpY2t5IHRvIGFkZCBhIGZvcm0gSUQuIFNvIGNoZWNrIGp1c3QgaW4gY2FzZS5cbiAgICAgICAgLy8gTWlnaHQgYWxzbyBiZSBoYW5keSBmb3IgZnJvbnQtZW5kIHRvbyFcbiAgICAgICAgaWYgKCF0aGlzLiRmb3Jtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuJGZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2W2RhdGEtZnVpLWZvcm1dJykgfHwgW107XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRmb3Jtcy5mb3JFYWNoKCgkZm9ybSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbml0Rm9ybSgkZm9ybSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEVtaXQgYSBjdXN0b20gZXZlbnQgdG8gbGV0IHNjcmlwdHMga25vdyB0aGUgRm9ybWllIGNsYXNzIGlzIHJlYWR5XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdvbkZvcm1pZUluaXQnLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgZm9ybWllOiB0aGlzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGluaXRGb3JtKCRmb3JtLCBmb3JtQ29uZmlnID0ge30pIHtcbiAgICAgICAgaWYgKGlzRW1wdHkoZm9ybUNvbmZpZykpIHtcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGZvcm0gY2xhc3Mgd2l0aCB0aGUgYGRhdGEtZnVpLWZvcm1gIHBhcmFtIG9uIHRoZSBmb3JtXG4gICAgICAgICAgICBmb3JtQ29uZmlnID0gSlNPTi5wYXJzZSgkZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZnVpLWZvcm0nKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNFbXB0eShmb3JtQ29uZmlnKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHBhcnNlIGBkYXRhLWZ1aS1mb3JtYCBmb3JtIGF0dHJpYnV0ZSBmb3IgY29uZmlnLiBFbnN1cmUgdGhpcyBhdHRyaWJ1dGUgZXhpc3RzIG9uIHlvdXIgZm9ybSBhbmQgY29udGFpbnMgdmFsaWQgSlNPTi4nKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VlIGlmIHdlIG5lZWQgdG8gaW5pdCBhZGRpdGlvbmFsLCBjb25kaXRpb25hbCBKUyAoZmllbGQsIGNhcHRjaGFzLCBldGMpXG4gICAgICAgIGNvbnN0IHJlZ2lzdGVyZWRKcyA9IGZvcm1Db25maWcucmVnaXN0ZXJlZEpzIHx8IFtdO1xuXG4gICAgICAgIC8vIEFkZCBhbiBpbnN0YW5jZSB0byB0aGlzIGZhY3RvcnkgdG8gdGhlIGZvcm0gY29uZmlnXG4gICAgICAgIGZvcm1Db25maWcuRm9ybWllID0gdGhpcztcblxuICAgICAgICAvLyBDcmVhdGUgdGhlIGZvcm0gY2xhc3MsIHNhdmUgaXQgdG8gb3VyIGNvbGxlY3Rpb25cbiAgICAgICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtaWVGb3JtQmFzZSgkZm9ybSwgZm9ybUNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5mb3Jtcy5wdXNoKGZvcm0pO1xuXG4gICAgICAgIC8vIEZpbmQgYWxsIGBkYXRhLWZpZWxkLWNvbmZpZ2AgYXR0cmlidXRlcyBmb3IgdGhlIGN1cnJlbnQgcGFnZSBhbmQgZm9ybVxuICAgICAgICAvLyBhbmQgYnVpbGQgYW4gb2JqZWN0IG9mIHRoZW0gdG8gaW5pdGlhbGl6ZSB3aGVuIGxvYWRlZC5cbiAgICAgICAgZm9ybS5maWVsZENvbmZpZ3MgPSB0aGlzLnBhcnNlRmllbGRDb25maWcoJGZvcm0sICRmb3JtKTtcblxuICAgICAgICAvLyBJcyB0aGVyZSBhbnkgYWRkaXRpb25hbCBKUyBjb25maWcgcmVnaXN0ZXJlZCBmb3IgdGhpcyBmb3JtP1xuICAgICAgICBpZiAocmVnaXN0ZXJlZEpzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgY29udGFpbmVyIHRvIGFkZCB0aGVzZSBpdGVtcyB0bywgc28gd2UgY2FuIGRlc3Ryb3kgdGhlbSBsYXRlclxuICAgICAgICAgICAgZm9ybS4kcmVnaXN0ZXJlZEpzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBmb3JtLiRyZWdpc3RlcmVkSnMuc2V0QXR0cmlidXRlKCdkYXRhLWZ1aS1zY3JpcHRzJywgZm9ybUNvbmZpZy5mb3JtSWQpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtLiRyZWdpc3RlcmVkSnMpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBgPHNjcmlwdD5gIGZvciBlYWNoIHJlZ2lzdGVyZWQgSlNcbiAgICAgICAgICAgIHJlZ2lzdGVyZWRKcy5mb3JFYWNoKChjb25maWcpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCAkc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSd2ZSBwcm92aWRlZCBhbiBleHRlcm5hbCBzY3JpcHQgdG8gbG9hZC4gRW5zdXJlIHRoZXkncmUgZGVmZXJyZWQgc28gdGhleSBkb24ndCBibG9ja1xuICAgICAgICAgICAgICAgIC8vIGFuZCB1c2UgdGhlIG9ubG9hZCBjYWxsIHRvIHRyaWdnZXIgYW55IGFjdHVhbCBzY3JpcHRzIG9uY2UgaXRzIGJlZW4gbG9hZGVkLlxuICAgICAgICAgICAgICAgIGlmIChjb25maWcuc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY3JpcHQuc3JjID0gY29uZmlnLnNyYztcbiAgICAgICAgICAgICAgICAgICAgJHNjcmlwdC5kZWZlciA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBhbGwgbWF0Y2hpbmcgZmllbGRzIC0gdGhlaXIgY29uZmlnIGlzIGFscmVhZHkgcmVuZGVyZWQgaW4gdGVtcGxhdGVzXG4gICAgICAgICAgICAgICAgICAgICRzY3JpcHQub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5tb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWVsZENvbmZpZ3MgPSBmb3JtLmZpZWxkQ29uZmlnc1tjb25maWcubW9kdWxlXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBtdWx0aXBsZSBmaWVsZHMgb24gYSBwYWdlLCBjcmVhdGluZyBhIG5ldyBKUyBjbGFzcyBpbnN0YW5jZSBmb3IgZWFjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZENvbmZpZ3MgJiYgQXJyYXkuaXNBcnJheShmaWVsZENvbmZpZ3MpICYmIGZpZWxkQ29uZmlncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRDb25maWdzLmZvckVhY2goKGZpZWxkQ29uZmlnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRKc0NsYXNzKGNvbmZpZy5tb2R1bGUsIGZpZWxkQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGludGVncmF0aW9ucyB0aGF0IGhhdmUgZ2xvYmFsIHNldHRpbmdzLCBpbnN0ZWFkIG9mIHBlci1maWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcuc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0SnNDbGFzcyhjb25maWcubW9kdWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbmZpZy5zZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3Igc29tZSBKUyBtb2R1bGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5tb2R1bGUgPT09ICdGb3JtaWVDb25kaXRpb25zJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRKc0NsYXNzKGNvbmZpZy5tb2R1bGUsIHsgJGZvcm0gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvcm0uJHJlZ2lzdGVyZWRKcy5hcHBlbmRDaGlsZCgkc2NyaXB0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5pdEpzQ2xhc3MoY2xhc3NOYW1lLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlQ2xhc3MgPSB3aW5kb3dbY2xhc3NOYW1lXTtcblxuICAgICAgICBpZiAobW9kdWxlQ2xhc3MpIHtcbiAgICAgICAgICAgIG5ldyBtb2R1bGVDbGFzcyhwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm90ZSB0aGUgdXNlIG9mICRmb3JtIGFuZCAkZWxlbWVudCB0byBoYW5kbGUgUmVwZWF0ZXJcbiAgICBwYXJzZUZpZWxkQ29uZmlnKCRlbGVtZW50LCAkZm9ybSkge1xuICAgICAgICBjb25zdCBjb25maWcgPSB7fTtcblxuICAgICAgICAkZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1maWVsZC1jb25maWddJykuZm9yRWFjaCgoJGZpZWxkKSA9PiB7XG4gICAgICAgICAgICBsZXQgZmllbGRDb25maWcgPSBKU09OLnBhcnNlKCRmaWVsZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmllbGQtY29uZmlnJykpO1xuXG4gICAgICAgICAgICAvLyBTb21lIGZpZWxkcyBzdXBwbHkgbXVsdGlwbGUgbW9kdWxlcywgc28gbm9ybWFsaXNlIGZvciBlYXNlLW9mLXByb2Nlc3NpbmdcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShmaWVsZENvbmZpZykpIHtcbiAgICAgICAgICAgICAgICBmaWVsZENvbmZpZyA9IFtmaWVsZENvbmZpZ107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpZWxkQ29uZmlnLmZvckVhY2goKG5lc3RlZEZpZWxkQ29uZmlnKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWdbbmVzdGVkRmllbGRDb25maWcubW9kdWxlXSkge1xuICAgICAgICAgICAgICAgICAgICBjb25maWdbbmVzdGVkRmllbGRDb25maWcubW9kdWxlXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFByb3ZpZGUgZmllbGQgY2xhc3NlcyB3aXRoIHRoZSBkYXRhIHRoZXkgbmVlZFxuICAgICAgICAgICAgICAgIGNvbmZpZ1tuZXN0ZWRGaWVsZENvbmZpZy5tb2R1bGVdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAkZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgJGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAuLi5uZXN0ZWRGaWVsZENvbmZpZyxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxuXG4gICAgZ2V0Rm9ybSgkZm9ybSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3Jtcy5maW5kKChmb3JtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybS4kZm9ybSA9PSAkZm9ybTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0Rm9ybUJ5SWQoaWQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGFycmF5LWNhbGxiYWNrLXJldHVyblxuICAgICAgICByZXR1cm4gdGhpcy5mb3Jtcy5maW5kKChmb3JtKSA9PiB7XG4gICAgICAgICAgICBpZiAoZm9ybS5jb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybS5jb25maWcuZm9ybUlkID09IGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRGb3JtQnlIYW5kbGUoaGFuZGxlKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBhcnJheS1jYWxsYmFjay1yZXR1cm5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybXMuZmluZCgoZm9ybSkgPT4ge1xuICAgICAgICAgICAgaWYgKGZvcm0uY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm0uY29uZmlnLmZvcm1IYW5kbGUgPT0gaGFuZGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkZXN0cm95Rm9ybSgkZm9ybSkge1xuICAgICAgICBjb25zdCBmb3JtID0gdGhpcy5nZXRGb3JtKCRmb3JtKTtcblxuICAgICAgICBpZiAoIWZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mb3Jtcy5pbmRleE9mKGZvcm0pO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlbGV0ZSBhbnkgYWRkaXRpb25hbCBzY3JpcHRzIGZvciB0aGUgZm9ybSAtIGlmIGFueVxuICAgICAgICBpZiAoZm9ybS4kcmVnaXN0ZXJlZEpzICYmIGZvcm0uJHJlZ2lzdGVyZWRKcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBmb3JtLiRyZWdpc3RlcmVkSnMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmb3JtLiRyZWdpc3RlcmVkSnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMgYXR0YWNoZWQgdG8gdGhpcyBmb3JtXG4gICAgICAgIGlmICghaXNFbXB0eShmb3JtLmxpc3RlbmVycykpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGZvcm0ubGlzdGVuZXJzKS5mb3JFYWNoKChldmVudEtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudEtleSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlc3Ryb3kgQm91bmNlciBldmVudHNcbiAgICAgICAgaWYgKGZvcm0uZm9ybVRoZW1lICYmIGZvcm0uZm9ybVRoZW1lLnZhbGlkYXRvcikge1xuICAgICAgICAgICAgZm9ybS5mb3JtVGhlbWUudmFsaWRhdG9yLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlbGV0ZSBpdCBmcm9tIHRoZSBmYWN0b3J5XG4gICAgICAgIGRlbGV0ZSB0aGlzLmZvcm1zW2luZGV4XTtcbiAgICB9XG59XG5cbndpbmRvdy5Gb3JtaWUgPSBGb3JtaWU7XG4iXSwibmFtZXMiOlsidCIsImlzRW1wdHkiLCJGb3JtaWVGb3JtQmFzZSIsIkZvcm1pZSIsImZvcm1zIiwiJGZvcm1zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiZm9yRWFjaCIsIiRmb3JtIiwiaW5pdEZvcm0iLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJidWJibGVzIiwiZGV0YWlsIiwiZm9ybWllIiwiZm9ybUNvbmZpZyIsIkpTT04iLCJwYXJzZSIsImdldEF0dHJpYnV0ZSIsImNvbnNvbGUiLCJlcnJvciIsInJlZ2lzdGVyZWRKcyIsImZvcm0iLCJwdXNoIiwiZmllbGRDb25maWdzIiwicGFyc2VGaWVsZENvbmZpZyIsIiRyZWdpc3RlcmVkSnMiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiZm9ybUlkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY29uZmlnIiwiJHNjcmlwdCIsInNyYyIsImRlZmVyIiwib25sb2FkIiwibW9kdWxlIiwiQXJyYXkiLCJpc0FycmF5IiwiZmllbGRDb25maWciLCJpbml0SnNDbGFzcyIsInNldHRpbmdzIiwiY2xhc3NOYW1lIiwicGFyYW1zIiwibW9kdWxlQ2xhc3MiLCJ3aW5kb3ciLCIkZWxlbWVudCIsIiRmaWVsZCIsIm5lc3RlZEZpZWxkQ29uZmlnIiwiZmluZCIsImlkIiwiaGFuZGxlIiwiZm9ybUhhbmRsZSIsImdldEZvcm0iLCJpbmRleCIsImluZGV4T2YiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJsaXN0ZW5lcnMiLCJPYmplY3QiLCJrZXlzIiwiZXZlbnRLZXkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZm9ybVRoZW1lIiwidmFsaWRhdG9yIiwiZGVzdHJveSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/formie-lib.js\n");

/***/ }),

/***/ "./src/js/formie.js":
/*!**************************!*\
  !*** ./src/js/formie.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/polyfills */ \"./src/js/utils/polyfills.js\");\n/* harmony import */ var _formie_lib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formie-lib */ \"./src/js/formie-lib.js\");\n\n // This should only be used when initializing Formie from the browser. When initializing with JS directly\n// import `formie-lib.js` directly into your JS modules.\n\nwindow.Formie = new _formie_lib__WEBPACK_IMPORTED_MODULE_1__.Formie(); // Don't init forms until the document is ready, or the document already loaded\n// https://developer.mozilla.org/en-US/docs/Web/API/Document/DOMContentLoaded_event#checking_whether_loading_is_already_complete\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', function (event) {\n    window.Formie.initForms();\n  });\n} else {\n  window.Formie.initForms();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvZm9ybWllLmpzLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0NBR0E7QUFDQTs7QUFDQUMsTUFBTSxDQUFDRCxNQUFQLEdBQWdCLElBQUlBLCtDQUFKLEVBQWhCLEVBRUE7QUFDQTs7QUFDQSxJQUFJRSxRQUFRLENBQUNDLFVBQVQsS0FBd0IsU0FBNUIsRUFBdUM7RUFDbkNELFFBQVEsQ0FBQ0UsZ0JBQVQsQ0FBMEIsa0JBQTFCLEVBQThDLFVBQUNDLEtBQUQsRUFBVztJQUNyREosTUFBTSxDQUFDRCxNQUFQLENBQWNNLFNBQWQ7RUFDSCxDQUZEO0FBR0gsQ0FKRCxNQUlPO0VBQ0hMLE1BQU0sQ0FBQ0QsTUFBUCxDQUFjTSxTQUFkO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvZm9ybWllLmpzP2ZjNmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL3V0aWxzL3BvbHlmaWxscyc7XG5pbXBvcnQgeyBGb3JtaWUgfSBmcm9tICcuL2Zvcm1pZS1saWInO1xuXG4vLyBUaGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgd2hlbiBpbml0aWFsaXppbmcgRm9ybWllIGZyb20gdGhlIGJyb3dzZXIuIFdoZW4gaW5pdGlhbGl6aW5nIHdpdGggSlMgZGlyZWN0bHlcbi8vIGltcG9ydCBgZm9ybWllLWxpYi5qc2AgZGlyZWN0bHkgaW50byB5b3VyIEpTIG1vZHVsZXMuXG53aW5kb3cuRm9ybWllID0gbmV3IEZvcm1pZSgpO1xuXG4vLyBEb24ndCBpbml0IGZvcm1zIHVudGlsIHRoZSBkb2N1bWVudCBpcyByZWFkeSwgb3IgdGhlIGRvY3VtZW50IGFscmVhZHkgbG9hZGVkXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRG9jdW1lbnQvRE9NQ29udGVudExvYWRlZF9ldmVudCNjaGVja2luZ193aGV0aGVyX2xvYWRpbmdfaXNfYWxyZWFkeV9jb21wbGV0ZVxuaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgd2luZG93LkZvcm1pZS5pbml0Rm9ybXMoKTtcbiAgICB9KTtcbn0gZWxzZSB7XG4gICAgd2luZG93LkZvcm1pZS5pbml0Rm9ybXMoKTtcbn1cbiJdLCJuYW1lcyI6WyJGb3JtaWUiLCJ3aW5kb3ciLCJkb2N1bWVudCIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJpbml0Rm9ybXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/formie.js\n");

/***/ }),

/***/ "./src/js/utils/bouncer.js":
/*!*********************************!*\
  !*** ./src/js/utils/bouncer.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Bouncer\": () => (/* binding */ Bouncer)\n/* harmony export */ });\n/* eslint-disable */\n\n/*!\n * formbouncerjs v1.4.6\n * A lightweight form validation script that augments native HTML5 form validation elements and attributes.\n * (c) 2020 Chris Ferdinandi\n * MIT License\n * http://github.com/cferdinandi/bouncer\n */\n\n/**\n * The plugin constructor\n * @param {DOMElement} formElement The DOM Element to use for forms to be validated\n * @param {Object} options  User settings [optional]\n */\nvar Bouncer = function Bouncer(formElement, options) {\n  //\n  // Variables\n  //\n  var defaults = {\n    // Classes & IDs\n    fieldClass: 'error',\n    errorClass: 'error-message',\n    fieldPrefix: 'bouncer-field_',\n    errorPrefix: 'bouncer-error_',\n    // Patterns\n    patterns: {\n      email: /^([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22))*\\x40([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d))*(\\.\\w{2,})+$/,\n      url: /^(?:(?:https?|HTTPS?|ftp|FTP):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/,\n      number: /^(?:[-+]?[0-9]*[.,]?[0-9]+)$/,\n      color: /^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,\n      date: /(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/,\n      time: /^(?:(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]))$/,\n      month: /^(?:(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])))$/\n    },\n    // Custom Validations\n    customValidations: {},\n    // Messages\n    messageAfterField: true,\n    messageCustom: 'data-bouncer-message',\n    messageTarget: 'data-bouncer-target',\n    // messages: {\n    //     missingValue: {\n    //         checkbox: 'This field is required.',\n    //         radio: 'Please select a value.',\n    //         select: 'Please select a value.',\n    //         'select-multiple': 'Please select at least one value.',\n    //         default: 'Please fill out this field.',\n    //     },\n    //     patternMismatch: {\n    //         email: 'Please enter a valid email address.',\n    //         url: 'Please enter a URL.',\n    //         number: 'Please enter a number',\n    //         color: 'Please match the following format: #rrggbb',\n    //         date: 'Please use the YYYY-MM-DD format',\n    //         time: 'Please use the 24-hour time format. Ex. 23:00',\n    //         month: 'Please use the YYYY-MM format',\n    //         default: 'Please match the requested format.',\n    //     },\n    //     outOfRange: {\n    //         over: 'Please select a value that is no more than {max}.',\n    //         under: 'Please select a value that is no less than {min}.',\n    //     },\n    //     wrongLength: {\n    //         over: 'Please shorten this text to no more than {maxLength} characters. You are currently using {length} characters.',\n    //         under: 'Please lengthen this text to {minLength} characters or more. You are currently using {length} characters.',\n    //     },\n    //     fallback: 'There was an error with this field.',\n    // },\n    // Form Submission\n    disableSubmit: false,\n    // Allow blur/click/input events to be opt-out\n    validateOnBlur: true,\n    // Allow validation to be turned off altogether. Useful for server-side validation use.\n    validateOnSubmit: true,\n    // Custom Events\n    emitEvents: true\n  }; //\n  // Methods\n  //\n\n  /**\n   * A wrapper for Array.prototype.forEach() for non-arrays\n   * @param  {Array-like} arr      The array-like object\n   * @param  {Function}   callback The callback to run\n   */\n\n  var forEach = function forEach(arr, callback) {\n    Array.prototype.forEach.call(arr, callback);\n  };\n  /**\n   * Merge two or more objects together.\n   * @param   {Object}   objects  The objects to merge together\n   * @returns {Object}            Merged values of defaults and options\n   */\n\n\n  var extend = function extend() {\n    var merged = {};\n    forEach(arguments, function (obj) {\n      for (var key in obj) {\n        if (!obj.hasOwnProperty(key)) return;\n\n        if (Object.prototype.toString.call(obj[key]) === '[object Object]') {\n          merged[key] = extend(merged[key], obj[key]);\n        } else {\n          merged[key] = obj[key];\n        } // merged[key] = obj[key];\n\n      }\n    });\n    return merged;\n  };\n  /**\n   * Emit a custom event\n   * @param  {String} type    The event type\n   * @param  {Object} options The settings object\n   * @param  {Node}   anchor  The anchor element\n   * @param  {Node}   toggle  The toggle element\n   */\n\n\n  var emitEvent = function emitEvent(elem, type, details) {\n    if (typeof window.CustomEvent !== 'function') return;\n    var event = new CustomEvent(type, {\n      bubbles: true,\n      detail: details || {}\n    });\n    elem.dispatchEvent(event);\n  };\n  /**\n   * Add the `novalidate` attribute to all forms\n   * @param {Boolean} remove  If true, remove the `novalidate` attribute\n   */\n\n\n  var addNoValidate = function addNoValidate(form) {\n    form.setAttribute('novalidate', true);\n  };\n  /**\n   * Remove the `novalidate` attribute to all forms\n   */\n\n\n  var removeNoValidate = function removeNoValidate(form) {\n    form.removeAttribute('novalidate');\n  };\n  /**\n   * Check if a required field is missing its value\n   * @param  {Node} field The field to check\n   * @return {Boolean}       It true, field is missing it's value\n   */\n\n\n  var missingValue = function missingValue(field) {\n    // If not required, bail\n    if (!field.hasAttribute('required')) return false; // Handle checkboxes\n\n    if (field.type === 'checkbox') {\n      // Watch out for grouped checkboxes. Only validate the group as a whole\n      var checkboxInputs = field.form.querySelectorAll('[name=\"' + escapeCharacters(field.name) + '\"]:not([type=\"hidden\"])');\n\n      if (checkboxInputs.length) {\n        var checkedInputs = Array.prototype.filter.call(checkboxInputs, function (btn) {\n          return btn.checked;\n        }).length;\n        return !checkedInputs;\n      }\n\n      return !field.checked;\n    } // Don't validate any hidden fields\n\n\n    if (field.type === 'hidden') {\n      return false;\n    } // Get the field value length\n\n\n    var length = field.value.length; // Handle radio buttons\n\n    if (field.type === 'radio') {\n      length = Array.prototype.filter.call(field.form.querySelectorAll('[name=\"' + escapeCharacters(field.name) + '\"]'), function (btn) {\n        return btn.checked;\n      }).length;\n    } // Check for value\n\n\n    return length < 1;\n  };\n  /**\n   * Check if field value doesn't match a patter.\n   * @param  {Node}   field    The field to check\n   * @param  {Object} settings The plugin settings\n   * @see https://www.w3.org/TR/html51/sec-forms.html#the-pattern-attribute\n   * @return {Boolean}         If true, there's a pattern mismatch\n   */\n\n\n  var patternMismatch = function patternMismatch(field, settings) {\n    // Check if there's a pattern to match\n    var pattern = field.getAttribute('pattern');\n    pattern = pattern ? new RegExp('^(?:' + pattern + ')$') : settings.patterns[field.type];\n    if (!pattern || !field.value || field.value.length < 1) return false; // Validate the pattern\n\n    return field.value.match(pattern) ? false : true;\n  };\n  /**\n   * Check if field value is out-of-range\n   * @param  {Node}    field    The field to check\n   * @return {String}           Returns 'over', 'under', or false\n   */\n\n\n  var outOfRange = function outOfRange(field) {\n    // Make sure field has value\n    if (!field.value || field.value.length < 1) return false; // Check for range\n\n    var max = field.getAttribute('max');\n    var min = field.getAttribute('min'); // Check validity\n\n    var num = parseFloat(field.value);\n    if (max && num > max) return 'over';\n    if (min && num < min) return 'under';\n    return false;\n  };\n  /**\n   * Check if the field value is too long or too short\n   * @param  {Node}   field    The field to check\n   * @return {String}           Returns 'over', 'under', or false\n   */\n\n\n  var wrongLength = function wrongLength(field) {\n    // Make sure field has value\n    if (!field.value || field.value.length < 1) return false; // Check for min/max length\n\n    var max = field.getAttribute('maxlength');\n    var min = field.getAttribute('minlength'); // Check validity\n\n    var length = field.value.length;\n    if (max && length > max) return 'over';\n    if (min && length < min) return 'under';\n    return false;\n  };\n  /**\n   * Test for standard field validations\n   * @param  {Node}   field    The field to test\n   * @param  {Object} settings The plugin settings\n   * @return {Object}          The tests and their results\n   */\n\n\n  var runValidations = function runValidations(field, settings) {\n    return {\n      missingValue: missingValue(field),\n      patternMismatch: patternMismatch(field, settings),\n      outOfRange: outOfRange(field),\n      wrongLength: wrongLength(field)\n    };\n  };\n  /**\n   * Run any provided custom validations\n   * @param  {Node}   field       The field to test\n   * @param  {Object} errors      The existing errors\n   * @param  {Object} validations The custom validations to run\n   * @param  {Object} settings    The plugin settings\n   * @return {Object}             The tests and their results\n   */\n\n\n  var customValidations = function customValidations(field, errors, validations, settings) {\n    for (var test in validations) {\n      if (validations.hasOwnProperty(test)) {\n        errors[test] = validations[test](field, settings);\n      }\n    }\n\n    return errors;\n  };\n  /**\n   * Check if a field has any errors\n   * @param  {Object}  errors The validation test results\n   * @return {Boolean}        Returns true if there are errors\n   */\n\n\n  var hasErrors = function hasErrors(errors) {\n    for (var type in errors) {\n      if (errors[type]) return true;\n    }\n\n    return false;\n  };\n  /**\n   * Check a field for errors\n   * @param  {Node} field      The field to test\n   * @param  {Object} settings The plugin settings\n   * @return {Object}          The field validity and errors\n   */\n\n\n  var getErrors = function getErrors(field, settings) {\n    // Get standard validation errors\n    var errors = runValidations(field, settings); // Check for custom validations\n\n    errors = customValidations(field, errors, settings.customValidations, settings);\n    return {\n      valid: !hasErrors(errors),\n      errors: errors\n    };\n  };\n  /**\n   * Escape special characters for use with querySelector\n   * @author Mathias Bynens\n   * @link https://github.com/mathiasbynens/CSS.escape\n   * @param {String} id The anchor ID to escape\n   */\n\n\n  var escapeCharacters = function escapeCharacters(id) {\n    var string = String(id);\n    var length = string.length;\n    var index = -1;\n    var codeUnit;\n    var result = '';\n    var firstCodeUnit = string.charCodeAt(0);\n\n    while (++index < length) {\n      codeUnit = string.charCodeAt(index); // Note: there’s no need to special-case astral symbols, surrogate\n      // pairs, or lone surrogates.\n      // If the character is NULL (U+0000), then throw an\n      // `InvalidCharacterError` exception and terminate these steps.\n\n      if (codeUnit === 0x0000) {\n        throw new InvalidCharacterError('Invalid character: the input contains U+0000.');\n      }\n\n      if ( // If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n      // U+007F, […]\n      codeUnit >= 0x0001 && codeUnit <= 0x001F || codeUnit == 0x007F || // If the character is the first character and is in the range [0-9]\n      // (U+0030 to U+0039), […]\n      index === 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039 || // If the character is the second character and is in the range [0-9]\n      // (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\n      index === 1 && codeUnit >= 0x0030 && codeUnit <= 0x0039 && firstCodeUnit === 0x002D) {\n        // http://dev.w3.org/csswg/cssom/#escape-a-character-as-code-point\n        result += '\\\\' + codeUnit.toString(16) + ' ';\n        continue;\n      } // If the character is not handled by one of the above rules and is\n      // greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n      // is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n      // U+005A), or [a-z] (U+0061 to U+007A), […]\n\n\n      if (codeUnit >= 0x0080 || codeUnit === 0x002D || codeUnit === 0x005F || codeUnit >= 0x0030 && codeUnit <= 0x0039 || codeUnit >= 0x0041 && codeUnit <= 0x005A || codeUnit >= 0x0061 && codeUnit <= 0x007A) {\n        // the character itself\n        result += string.charAt(index);\n        continue;\n      } // Otherwise, the escaped character.\n      // http://dev.w3.org/csswg/cssom/#escape-a-character\n\n\n      result += '\\\\' + string.charAt(index);\n    } // Return sanitized hash\n\n\n    return result;\n  };\n  /**\n   * Get or create an ID for a field\n   * @param  {Node}    field    The field\n   * @param  {Object}  settings The plugin settings\n   * @param  {Boolean} create   If true, create an ID if there isn't one\n   * @return {String}           The field ID\n   */\n\n\n  var getFieldID = function getFieldID(field, settings, create) {\n    var id = field.name ? field.name : field.id;\n\n    if (!id && create) {\n      id = settings.fieldPrefix + Math.floor(Math.random() * 999);\n      field.id = id;\n    } // if (field.type === 'checkbox') {\n    //     id += '_' + (field.value || field.id);\n    // }\n\n\n    return id;\n  };\n  /**\n   * Special handling for radio buttons and checkboxes wrapped in labels.\n   * @param  {Node} field The field with the error\n   * @return {Node}       The field to show the error on\n   */\n\n\n  var getErrorField = function getErrorField(field) {\n    // If the field is a radio button, get the last item in the radio group\n    // @todo if location is before, get first item\n    if (field.type === 'radio' && field.name) {\n      var group = field.form.querySelectorAll('[name=\"' + escapeCharacters(field.name) + '\"]');\n      field = group[group.length - 1];\n    } // Get the associated label for radio button or checkbox\n    // if (field.type === 'radio') {\n    //     var label = field.closest('label') || field.form.querySelector('[for=\"' + field.id + '\"]');\n    //     field = label || field;\n    // }\n\n\n    if (field.type === 'checkbox' || field.type === 'radio') {\n      field = field.closest('[data-field-handle]').firstChild;\n    }\n\n    return field;\n  };\n  /**\n   * Get the location for a field's error message\n   * @param  {Node}   field    The field\n   * @param  {Node}   target   The target for error message\n   * @param  {Object} settings The plugin settings\n   * @return {Node}            The error location\n   */\n\n\n  var getErrorLocation = function getErrorLocation(field, target, settings) {\n    // Check for a custom error message\n    var selector = field.getAttribute(settings.messageTarget);\n\n    if (selector) {\n      var location = field.form.querySelector(selector);\n\n      if (location) {\n        // @bugfix by @HaroldPutman\n        // https://github.com/cferdinandi/bouncer/pull/28\n        return location.firstChild || location.appendChild(document.createTextNode(''));\n      }\n    } // If the message should come after the field\n\n\n    if (settings.messageAfterField) {\n      if (!target) {\n        target = field;\n      } // If there's no next sibling, create one\n\n\n      if (!target.nextSibling) {\n        target.parentNode.appendChild(document.createTextNode(''));\n      }\n\n      return target.nextSibling;\n    } // If it should come before\n\n\n    return target;\n  };\n  /**\n   * Create a validation error message node\n   * @param  {Node} field      The field\n   * @param  {Object} settings The plugin settings\n   * @return {Node}            The error message node\n   */\n\n\n  var createError = function createError(field, settings) {\n    // Create the error message\n    var error = document.createElement('div');\n    error.className = settings.errorClass;\n    error.setAttribute('data-error-message', '');\n    error.id = settings.errorPrefix + getFieldID(field, settings, true); // If the field is a radio button or checkbox, grab the last field label\n\n    var fieldTarget = getErrorField(field); // Inject the error message into the DOM\n\n    var location = getErrorLocation(field, fieldTarget, settings);\n    location.parentNode.insertBefore(error, location);\n    return error;\n  };\n  /**\n   * Get the error message test\n   * @param  {Node}            field    The field to get an error message for\n   * @param  {Object}          errors   The errors on the field\n   * @param  {Object}          settings The plugin settings\n   * @return {String|Function}          The error message\n   */\n\n\n  var getErrorMessage = function getErrorMessage(field, errors, settings) {\n    // Variables\n    var messages = settings.messages; // Missing value error\n\n    if (errors.missingValue) {\n      return messages.missingValue[field.type] || messages.missingValue[\"default\"];\n    } // Numbers that are out of range\n\n\n    if (errors.outOfRange) {\n      return messages.outOfRange[errors.outOfRange].replace('{max}', field.getAttribute('max')).replace('{min}', field.getAttribute('min')).replace('{length}', field.value.length);\n    } // Values that are too long or short\n\n\n    if (errors.wrongLength) {\n      return messages.wrongLength[errors.wrongLength].replace('{maxLength}', field.getAttribute('maxlength')).replace('{minLength}', field.getAttribute('minlength')).replace('{length}', field.value.length);\n    } // Pattern mismatch error\n\n\n    if (errors.patternMismatch) {\n      var custom = field.getAttribute(settings.messageCustom);\n      if (custom) return custom;\n      return messages.patternMismatch[field.type] || messages.patternMismatch[\"default\"];\n    } // Custom validations\n\n\n    for (var test in settings.customValidations) {\n      if (settings.customValidations.hasOwnProperty(test)) {\n        if (errors[test] && messages[test]) return messages[test];\n      }\n    } // Custom message, passed directly in\n\n\n    if (errors.customMessage) {\n      return errors.customMessage;\n    } // Fallback error message\n\n\n    return messages.fallback;\n  };\n  /**\n   * Add error attributes to a field\n   * @param  {Node}   field    The field with the error message\n   * @param  {Node}   error    The error message\n   * @param  {Object} settings The plugin settings\n   */\n\n\n  var addErrorAttributes = function addErrorAttributes(field, error, settings) {\n    field.classList.add(settings.fieldClass);\n    field.setAttribute('aria-describedby', error.id);\n    field.setAttribute('aria-invalid', true);\n    var $fieldNode = field.closest('[data-field-handle]');\n\n    if ($fieldNode) {\n      $fieldNode.classList.add(settings.fieldClass);\n    }\n  };\n  /**\n   * Show error attributes on a field or radio/checkbox group\n   * @param  {Node}   field    The field with the error message\n   * @param  {Node}   error    The error message\n   * @param  {Object} settings The plugin settings\n   */\n\n\n  var showErrorAttributes = function showErrorAttributes(field, error, settings) {\n    // If field is a radio button, add attributes to every button in the group\n    if (field.type === 'radio' && field.name) {\n      Array.prototype.forEach.call(document.querySelectorAll('[name=\"' + field.name + '\"]'), function (button) {\n        addErrorAttributes(button, error, settings);\n      });\n    } // Otherwise, add an error class and aria attribute to the field\n\n\n    addErrorAttributes(field, error, settings);\n  };\n  /**\n   * Show an error message in the DOM\n   * @param  {Node} field      The field to show an error message for\n   * @param  {Object}          errors   The errors on the field\n   * @param  {Object}          settings The plugin settings\n   */\n\n\n  var showError = function showError(field, errors, settings) {\n    // Get/create an error message\n    var error = field.form.querySelector('#' + escapeCharacters(settings.errorPrefix + getFieldID(field, settings))) || createError(field, settings);\n    var msg = getErrorMessage(field, errors, settings);\n    error.textContent = typeof msg === 'function' ? msg(field, settings) : msg; // Add error attributes\n\n    showErrorAttributes(field, error, settings); // Emit custom event\n\n    if (settings.emitEvents) {\n      emitEvent(field, 'bouncerShowError', {\n        errors: errors\n      });\n    }\n  };\n  /**\n   * Remove error attributes from a field\n   * @param  {Node}   field    The field with the error message\n   * @param  {Node}   error    The error message\n   * @param  {Object} settings The plugin settings\n   */\n\n\n  var removeAttributes = function removeAttributes(field, settings) {\n    field.classList.remove(settings.fieldClass);\n    field.removeAttribute('aria-describedby');\n    field.removeAttribute('aria-invalid');\n    var $fieldNode = field.closest('[data-field-handle]');\n\n    if ($fieldNode) {\n      $fieldNode.classList.remove(settings.fieldClass);\n    }\n  };\n  /**\n   * Remove error attributes from the field or radio group\n   * @param  {Node}   field    The field with the error message\n   * @param  {Node}   error    The error message\n   * @param  {Object} settings The plugin settings\n   */\n\n\n  var removeErrorAttributes = function removeErrorAttributes(field, settings) {\n    // If field is a radio button, remove attributes from every button in the group\n    if (field.type === 'radio' && field.name) {\n      Array.prototype.forEach.call(document.querySelectorAll('[name=\"' + field.name + '\"]'), function (button) {\n        removeAttributes(button, settings);\n      });\n      return;\n    } // Otherwise, add an error class and aria attribute to the field\n\n\n    removeAttributes(field, settings);\n  };\n  /**\n   * Remove an error message from the DOM\n   * @param  {Node} field      The field with the error message\n   * @param  {Object} settings The plugin settings\n   */\n\n\n  var removeError = function removeError(field, settings) {\n    // Get the error message for this field\n    var error = field.form.querySelector('#' + escapeCharacters(settings.errorPrefix + getFieldID(field, settings)));\n    if (!error) return; // Remove the error\n\n    error.parentNode.removeChild(error); // Remove error and a11y from the field\n\n    removeErrorAttributes(field, settings); // Emit custom event\n\n    if (settings.emitEvents) {\n      emitEvent(field, 'bouncerRemoveError');\n    }\n  };\n  /**\n   * Remove errors from all fields\n   * @param  {String} selector The selector for the form\n   * @param  {Object} settings The plugin settings\n   */\n\n\n  var removeAllErrors = function removeAllErrors(form, settings) {\n    forEach(form.querySelectorAll('input, select, textarea'), function (field) {\n      removeError(field, settings);\n    });\n  }; //\n  // Variables\n  //\n\n\n  var publicAPIs = {};\n  var settings; //\n  // Methods\n  //\n\n  /**\n   * Show an error message in the DOM\n   * @param  {Node} field      The field to show an error message for\n   * @param  {Object}          errors   The errors on the field\n   * @param  {Object}          options Additional plugin settings\n   */\n\n  publicAPIs.showError = function (field, errors, options) {\n    var _settings = extend(settings, options || {});\n\n    return showError(field, errors, _settings);\n  };\n  /**\n   * Remove an error message from the DOM\n   * @param  {Node} field      The field with the error message\n   * @param  {Object} settings The plugin settings\n   */\n\n\n  publicAPIs.removeError = function (field, options) {\n    var _settings = extend(settings, options || {});\n\n    return removeError(field, _settings);\n  };\n  /**\n   * Validate a field\n   * @param  {Node} field     The field to validate\n   * @param  {Object} options Validation options\n   * @return {Object}         The validity state and errors\n   */\n\n\n  publicAPIs.validate = function (field, options) {\n    // Don't validate submits, buttons, file and reset inputs, and disabled and readonly fields\n    if (field.disabled || field.readOnly || field.type === 'reset' || field.type === 'submit' || field.type === 'button') return; // Local settings\n\n    var _settings = extend(settings, options || {}); // Check for errors\n\n\n    var isValid = getErrors(field, _settings); // If valid, remove any error messages\n\n    if (isValid.valid) {\n      removeError(field, _settings);\n      return;\n    } // Otherwise, show an error message\n\n\n    showError(field, isValid.errors, _settings);\n    return isValid;\n  };\n  /**\n   * Validate all fields in a form or section\n   * @param  {Node} target The form or section to validate fields in\n   * @return {Array}       An array of fields with errors\n   */\n\n\n  publicAPIs.validateAll = function (target) {\n    return Array.prototype.filter.call(target.querySelectorAll('input, select, textarea'), function (field) {\n      var validate = publicAPIs.validate(field);\n      return validate && !validate.valid;\n    });\n  };\n  /**\n   * Run a validation on field blur\n   */\n\n\n  var blurHandler = function blurHandler(event) {\n    // Only run if the field is in a form to be validated\n    if (!event.target.form || !event.target.form.isSameNode(formElement)) return; // Special-case for file field, blurs as soon as the selector kicks in\n\n    if (event.target.type === 'file') return; // Don't trigger click event handling for checkbox/radio. We should use the change.\n\n    if (event.target.type === 'checkbox' || event.target.type === 'radio') return; // Validate the field\n\n    publicAPIs.validate(event.target);\n  }; // Leave this as opt-in for the moment, for better file-support\n\n\n  var changeHandler = function changeHandler(event) {\n    // Only run if the field is in a form to be validated\n    if (!event.target.form || !event.target.form.isSameNode(formElement)) return; // Only handle change events for some fields\n\n    if (event.target.type !== 'file' && event.target.type !== 'checkbox' && event.target.type !== 'radio') return; // Validate the field\n\n    publicAPIs.validate(event.target);\n  };\n  /**\n   * Run a validation on a fields with errors when the value changes\n   */\n\n\n  var inputHandler = function inputHandler(event) {\n    // Only run if the field is in a form to be validated\n    if (!event.target.form || !event.target.form.isSameNode(formElement)) return; // Only run on fields with errors\n\n    if (!event.target.classList.contains(settings.fieldClass)) return; // Don't trigger click event handling for checkbox/radio. We should use the change.\n\n    if (event.target.type === 'checkbox' || event.target.type === 'radio') return; // Validate the field\n\n    publicAPIs.validate(event.target);\n  };\n  /**\n   * Run a validation on a fields with errors when the value changes\n   */\n\n\n  var clickHandler = function clickHandler(event) {\n    // Only run if the field is in a form to be validated\n    if (!event.target.form || !event.target.form.isSameNode(formElement)) return; // Only run on fields with errors\n\n    if (!event.target.classList.contains(settings.fieldClass)) return; // Don't trigger click event handling for checkbox/radio. We should use the change.\n\n    if (event.target.type === 'checkbox' || event.target.type === 'radio') return; // Validate the field\n\n    publicAPIs.validate(event.target);\n  };\n  /**\n   * Validate an entire form when it's submitted\n   */\n\n\n  var submitHandler = function submitHandler(event) {\n    // Only run on matching elements\n    if (!event.target.isSameNode(formElement)) return; // Prevent form submission\n\n    event.preventDefault(); // Validate each field\n\n    var errors = publicAPIs.validateAll(event.target); // If there are errors, focus on the first one\n\n    if (errors.length > 0) {\n      errors[0].focus();\n      emitEvent(event.target, 'bouncerFormInvalid', {\n        errors: errors\n      });\n      return;\n    } // Otherwise, submit if not disabled\n\n\n    if (!settings.disableSubmit) {\n      event.target.submit();\n    } // Emit custom event\n\n\n    if (settings.emitEvents) {\n      emitEvent(event.target, 'bouncerFormValid');\n    }\n  };\n  /**\n   * Destroy the current plugin instantiation\n   */\n\n\n  publicAPIs.destroy = function () {\n    // Remove event listeners\n    if (settings.validateOnBlur) {\n      document.removeEventListener('blur', blurHandler, true);\n      document.removeEventListener('input', inputHandler, false);\n      document.removeEventListener('change', changeHandler, false);\n      document.removeEventListener('click', clickHandler, false);\n    }\n\n    if (settings.validateOnSubmit) {\n      document.removeEventListener('submit', submitHandler, false);\n    } // Remove all errors\n\n\n    removeAllErrors(formElement, settings); // Remove novalidate attribute\n\n    removeNoValidate(formElement); // Emit custom event\n\n    if (settings.emitEvents) {\n      emitEvent(document, 'bouncerDestroyed', {\n        settings: settings\n      });\n    } // Reset settings\n\n\n    settings = null;\n  };\n  /**\n   * Instantiate a new instance of the plugin\n   */\n\n\n  var init = function init() {\n    // Create settings\n    settings = extend(defaults, options || {}); // Add novalidate attribute\n\n    addNoValidate(formElement); // Event Listeners\n\n    if (settings.validateOnBlur) {\n      document.addEventListener('blur', blurHandler, true);\n      document.addEventListener('input', inputHandler, false);\n      document.addEventListener('change', changeHandler, false);\n      document.addEventListener('click', clickHandler, false);\n    }\n\n    if (settings.validateOnSubmit) {\n      document.addEventListener('submit', submitHandler, false);\n    } // Emit custom event\n\n\n    if (settings.emitEvents) {\n      emitEvent(document, 'bouncerInitialized', {\n        settings: settings\n      });\n    }\n  }; //\n  // Inits & Event Listeners\n  //\n\n\n  init();\n  return publicAPIs;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUF5QjtNQUNyQmUsU0FBUyxDQUFDd0UsUUFBRCxFQUFXLG9CQUFYLEVBQWlDO1FBQ3RDM0MsUUFBUSxFQUFSQTtNQURzQyxDQUFqQyxDQUFUO0lBR0g7RUFFSixDQTNCRCxDQTc0QmtELENBMDZCbEQ7RUFDQTtFQUNBOzs7RUFFQTZGLElBQUk7RUFFSixPQUFPbkIsVUFBUDtBQUNILENBajdCTSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy91dGlscy9ib3VuY2VyLmpzPzkzNmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cblxuLyohXG4gKiBmb3JtYm91bmNlcmpzIHYxLjQuNlxuICogQSBsaWdodHdlaWdodCBmb3JtIHZhbGlkYXRpb24gc2NyaXB0IHRoYXQgYXVnbWVudHMgbmF0aXZlIEhUTUw1IGZvcm0gdmFsaWRhdGlvbiBlbGVtZW50cyBhbmQgYXR0cmlidXRlcy5cbiAqIChjKSAyMDIwIENocmlzIEZlcmRpbmFuZGlcbiAqIE1JVCBMaWNlbnNlXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9jZmVyZGluYW5kaS9ib3VuY2VyXG4gKi9cblxuLyoqXG4gKiBUaGUgcGx1Z2luIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGZvcm1FbGVtZW50IFRoZSBET00gRWxlbWVudCB0byB1c2UgZm9yIGZvcm1zIHRvIGJlIHZhbGlkYXRlZFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgIFVzZXIgc2V0dGluZ3MgW29wdGlvbmFsXVxuICovXG5leHBvcnQgY29uc3QgQm91bmNlciA9IGZ1bmN0aW9uKGZvcm1FbGVtZW50LCBvcHRpb25zKSB7XG4gICAgLy9cbiAgICAvLyBWYXJpYWJsZXNcbiAgICAvL1xuXG4gICAgdmFyIGRlZmF1bHRzID0ge1xuXG4gICAgICAgIC8vIENsYXNzZXMgJiBJRHNcblxuICAgICAgICBmaWVsZENsYXNzOiAnZXJyb3InLFxuICAgICAgICBlcnJvckNsYXNzOiAnZXJyb3ItbWVzc2FnZScsXG4gICAgICAgIGZpZWxkUHJlZml4OiAnYm91bmNlci1maWVsZF8nLFxuICAgICAgICBlcnJvclByZWZpeDogJ2JvdW5jZXItZXJyb3JfJyxcblxuICAgICAgICAvLyBQYXR0ZXJuc1xuICAgICAgICBwYXR0ZXJuczoge1xuICAgICAgICAgICAgZW1haWw6IC9eKFteXFx4MDAtXFx4MjBcXHgyMlxceDI4XFx4MjlcXHgyY1xceDJlXFx4M2EtXFx4M2NcXHgzZVxceDQwXFx4NWItXFx4NWRcXHg3Zi1cXHhmZl0rfFxceDIyKFteXFx4MGRcXHgyMlxceDVjXFx4ODAtXFx4ZmZdfFxceDVjW1xceDAwLVxceDdmXSkqXFx4MjIpKFxceDJlKFteXFx4MDAtXFx4MjBcXHgyMlxceDI4XFx4MjlcXHgyY1xceDJlXFx4M2EtXFx4M2NcXHgzZVxceDQwXFx4NWItXFx4NWRcXHg3Zi1cXHhmZl0rfFxceDIyKFteXFx4MGRcXHgyMlxceDVjXFx4ODAtXFx4ZmZdfFxceDVjW1xceDAwLVxceDdmXSkqXFx4MjIpKSpcXHg0MChbXlxceDAwLVxceDIwXFx4MjJcXHgyOFxceDI5XFx4MmNcXHgyZVxceDNhLVxceDNjXFx4M2VcXHg0MFxceDViLVxceDVkXFx4N2YtXFx4ZmZdK3xcXHg1YihbXlxceDBkXFx4NWItXFx4NWRcXHg4MC1cXHhmZl18XFx4NWNbXFx4MDAtXFx4N2ZdKSpcXHg1ZCkoXFx4MmUoW15cXHgwMC1cXHgyMFxceDIyXFx4MjhcXHgyOVxceDJjXFx4MmVcXHgzYS1cXHgzY1xceDNlXFx4NDBcXHg1Yi1cXHg1ZFxceDdmLVxceGZmXSt8XFx4NWIoW15cXHgwZFxceDViLVxceDVkXFx4ODAtXFx4ZmZdfFxceDVjW1xceDAwLVxceDdmXSkqXFx4NWQpKSooXFwuXFx3ezIsfSkrJC8sXG4gICAgICAgICAgICB1cmw6IC9eKD86KD86aHR0cHM/fEhUVFBTP3xmdHB8RlRQKTpcXC9cXC8pKD86XFxTKyg/OjpcXFMqKT9AKT8oPzooPyEoPzoxMHwxMjcpKD86XFwuXFxkezEsM30pezN9KSg/ISg/OjE2OVxcLjI1NHwxOTJcXC4xNjgpKD86XFwuXFxkezEsM30pezJ9KSg/ITE3MlxcLig/OjFbNi05XXwyXFxkfDNbMC0xXSkoPzpcXC5cXGR7MSwzfSl7Mn0pKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSl7Mn0oPzpcXC4oPzpbMS05XVxcZD98MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC00XSkpfCg/Oig/OlthLXpBLVpcXHUwMGExLVxcdWZmZmYwLTldLSopKlthLXpBLVpcXHUwMGExLVxcdWZmZmYwLTldKykoPzpcXC4oPzpbYS16QS1aXFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16QS1aXFx1MDBhMS1cXHVmZmZmMC05XSspKig/OlxcLig/OlthLXpBLVpcXHUwMGExLVxcdWZmZmZdezIsfSkpXFwuPykoPzo6XFxkezIsNX0pPyg/OlsvPyNdXFxTKik/JC8sXG4gICAgICAgICAgICBudW1iZXI6IC9eKD86Wy0rXT9bMC05XSpbLixdP1swLTldKykkLyxcbiAgICAgICAgICAgIGNvbG9yOiAvXiM/KFthLWZBLUYwLTldezZ9fFthLWZBLUYwLTldezN9KSQvLFxuICAgICAgICAgICAgZGF0ZTogLyg/OjE5fDIwKVswLTldezJ9LSg/Oig/OjBbMS05XXwxWzAtMl0pLSg/OjBbMS05XXwxWzAtOV18MlswLTldKXwoPzooPyEwMikoPzowWzEtOV18MVswLTJdKS0oPzozMCkpfCg/Oig/OjBbMTM1NzhdfDFbMDJdKS0zMSkpLyxcbiAgICAgICAgICAgIHRpbWU6IC9eKD86KDBbMC05XXwxWzAtOV18MlswLTNdKSg6WzAtNV1bMC05XSkpJC8sXG4gICAgICAgICAgICBtb250aDogL14oPzooPzoxOXwyMClbMC05XXsyfS0oPzooPzowWzEtOV18MVswLTJdKSkpJC8sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gQ3VzdG9tIFZhbGlkYXRpb25zXG4gICAgICAgIGN1c3RvbVZhbGlkYXRpb25zOiB7fSxcblxuICAgICAgICAvLyBNZXNzYWdlc1xuICAgICAgICBtZXNzYWdlQWZ0ZXJGaWVsZDogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZUN1c3RvbTogJ2RhdGEtYm91bmNlci1tZXNzYWdlJyxcbiAgICAgICAgbWVzc2FnZVRhcmdldDogJ2RhdGEtYm91bmNlci10YXJnZXQnLFxuICAgICAgICAvLyBtZXNzYWdlczoge1xuICAgICAgICAvLyAgICAgbWlzc2luZ1ZhbHVlOiB7XG4gICAgICAgIC8vICAgICAgICAgY2hlY2tib3g6ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLicsXG4gICAgICAgIC8vICAgICAgICAgcmFkaW86ICdQbGVhc2Ugc2VsZWN0IGEgdmFsdWUuJyxcbiAgICAgICAgLy8gICAgICAgICBzZWxlY3Q6ICdQbGVhc2Ugc2VsZWN0IGEgdmFsdWUuJyxcbiAgICAgICAgLy8gICAgICAgICAnc2VsZWN0LW11bHRpcGxlJzogJ1BsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIHZhbHVlLicsXG4gICAgICAgIC8vICAgICAgICAgZGVmYXVsdDogJ1BsZWFzZSBmaWxsIG91dCB0aGlzIGZpZWxkLicsXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAgcGF0dGVybk1pc21hdGNoOiB7XG4gICAgICAgIC8vICAgICAgICAgZW1haWw6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLicsXG4gICAgICAgIC8vICAgICAgICAgdXJsOiAnUGxlYXNlIGVudGVyIGEgVVJMLicsXG4gICAgICAgIC8vICAgICAgICAgbnVtYmVyOiAnUGxlYXNlIGVudGVyIGEgbnVtYmVyJyxcbiAgICAgICAgLy8gICAgICAgICBjb2xvcjogJ1BsZWFzZSBtYXRjaCB0aGUgZm9sbG93aW5nIGZvcm1hdDogI3JyZ2diYicsXG4gICAgICAgIC8vICAgICAgICAgZGF0ZTogJ1BsZWFzZSB1c2UgdGhlIFlZWVktTU0tREQgZm9ybWF0JyxcbiAgICAgICAgLy8gICAgICAgICB0aW1lOiAnUGxlYXNlIHVzZSB0aGUgMjQtaG91ciB0aW1lIGZvcm1hdC4gRXguIDIzOjAwJyxcbiAgICAgICAgLy8gICAgICAgICBtb250aDogJ1BsZWFzZSB1c2UgdGhlIFlZWVktTU0gZm9ybWF0JyxcbiAgICAgICAgLy8gICAgICAgICBkZWZhdWx0OiAnUGxlYXNlIG1hdGNoIHRoZSByZXF1ZXN0ZWQgZm9ybWF0LicsXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAgb3V0T2ZSYW5nZToge1xuICAgICAgICAvLyAgICAgICAgIG92ZXI6ICdQbGVhc2Ugc2VsZWN0IGEgdmFsdWUgdGhhdCBpcyBubyBtb3JlIHRoYW4ge21heH0uJyxcbiAgICAgICAgLy8gICAgICAgICB1bmRlcjogJ1BsZWFzZSBzZWxlY3QgYSB2YWx1ZSB0aGF0IGlzIG5vIGxlc3MgdGhhbiB7bWlufS4nLFxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIHdyb25nTGVuZ3RoOiB7XG4gICAgICAgIC8vICAgICAgICAgb3ZlcjogJ1BsZWFzZSBzaG9ydGVuIHRoaXMgdGV4dCB0byBubyBtb3JlIHRoYW4ge21heExlbmd0aH0gY2hhcmFjdGVycy4gWW91IGFyZSBjdXJyZW50bHkgdXNpbmcge2xlbmd0aH0gY2hhcmFjdGVycy4nLFxuICAgICAgICAvLyAgICAgICAgIHVuZGVyOiAnUGxlYXNlIGxlbmd0aGVuIHRoaXMgdGV4dCB0byB7bWluTGVuZ3RofSBjaGFyYWN0ZXJzIG9yIG1vcmUuIFlvdSBhcmUgY3VycmVudGx5IHVzaW5nIHtsZW5ndGh9IGNoYXJhY3RlcnMuJyxcbiAgICAgICAgLy8gICAgIH0sXG4gICAgICAgIC8vICAgICBmYWxsYmFjazogJ1RoZXJlIHdhcyBhbiBlcnJvciB3aXRoIHRoaXMgZmllbGQuJyxcbiAgICAgICAgLy8gfSxcblxuICAgICAgICAvLyBGb3JtIFN1Ym1pc3Npb25cbiAgICAgICAgZGlzYWJsZVN1Ym1pdDogZmFsc2UsXG4gICAgICAgIFxuICAgICAgICAvLyBBbGxvdyBibHVyL2NsaWNrL2lucHV0IGV2ZW50cyB0byBiZSBvcHQtb3V0XG4gICAgICAgIHZhbGlkYXRlT25CbHVyOiB0cnVlLFxuXG4gICAgICAgIC8vIEFsbG93IHZhbGlkYXRpb24gdG8gYmUgdHVybmVkIG9mZiBhbHRvZ2V0aGVyLiBVc2VmdWwgZm9yIHNlcnZlci1zaWRlIHZhbGlkYXRpb24gdXNlLlxuICAgICAgICB2YWxpZGF0ZU9uU3VibWl0OiB0cnVlLFxuXG4gICAgICAgIC8vIEN1c3RvbSBFdmVudHNcbiAgICAgICAgZW1pdEV2ZW50czogdHJ1ZSxcblxuICAgIH07XG5cblxuICAgIC8vXG4gICAgLy8gTWV0aG9kc1xuICAgIC8vXG5cbiAgICAvKipcbiAgICAgKiBBIHdyYXBwZXIgZm9yIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKCkgZm9yIG5vbi1hcnJheXNcbiAgICAgKiBAcGFyYW0gIHtBcnJheS1saWtlfSBhcnIgICAgICBUaGUgYXJyYXktbGlrZSBvYmplY3RcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gICBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gcnVuXG4gICAgICovXG4gICAgdmFyIGZvckVhY2ggPSBmdW5jdGlvbihhcnIsIGNhbGxiYWNrKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYXJyLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1lcmdlIHR3byBvciBtb3JlIG9iamVjdHMgdG9nZXRoZXIuXG4gICAgICogQHBhcmFtICAge09iamVjdH0gICBvYmplY3RzICBUaGUgb2JqZWN0cyB0byBtZXJnZSB0b2dldGhlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICAgICAgICAgICAgTWVyZ2VkIHZhbHVlcyBvZiBkZWZhdWx0cyBhbmQgb3B0aW9uc1xuICAgICAqL1xuICAgIHZhciBleHRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuICAgICAgICBmb3JFYWNoKGFyZ3VtZW50cywgKChvYmopID0+IHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmpba2V5XSkgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZFtrZXldID0gZXh0ZW5kKG1lcmdlZFtrZXldLCBvYmpba2V5XSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbWVyZ2VkW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbWl0IGEgY3VzdG9tIGV2ZW50XG4gICAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlICAgIFRoZSBldmVudCB0eXBlXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIFRoZSBzZXR0aW5ncyBvYmplY3RcbiAgICAgKiBAcGFyYW0gIHtOb2RlfSAgIGFuY2hvciAgVGhlIGFuY2hvciBlbGVtZW50XG4gICAgICogQHBhcmFtICB7Tm9kZX0gICB0b2dnbGUgIFRoZSB0b2dnbGUgZWxlbWVudFxuICAgICAqL1xuICAgIHZhciBlbWl0RXZlbnQgPSBmdW5jdGlvbihlbGVtLCB0eXBlLCBkZXRhaWxzKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ICE9PSAnZnVuY3Rpb24nKSByZXR1cm47XG4gICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCh0eXBlLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiBkZXRhaWxzIHx8IHt9LFxuICAgICAgICB9KTtcbiAgICAgICAgZWxlbS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkIHRoZSBgbm92YWxpZGF0ZWAgYXR0cmlidXRlIHRvIGFsbCBmb3Jtc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVtb3ZlICBJZiB0cnVlLCByZW1vdmUgdGhlIGBub3ZhbGlkYXRlYCBhdHRyaWJ1dGVcbiAgICAgKi9cbiAgICB2YXIgYWRkTm9WYWxpZGF0ZSA9IGZ1bmN0aW9uKGZvcm0pIHtcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ25vdmFsaWRhdGUnLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBgbm92YWxpZGF0ZWAgYXR0cmlidXRlIHRvIGFsbCBmb3Jtc1xuICAgICAqL1xuICAgIHZhciByZW1vdmVOb1ZhbGlkYXRlID0gZnVuY3Rpb24oZm9ybSkge1xuICAgICAgICBmb3JtLnJlbW92ZUF0dHJpYnV0ZSgnbm92YWxpZGF0ZScpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHJlcXVpcmVkIGZpZWxkIGlzIG1pc3NpbmcgaXRzIHZhbHVlXG4gICAgICogQHBhcmFtICB7Tm9kZX0gZmllbGQgVGhlIGZpZWxkIHRvIGNoZWNrXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgSXQgdHJ1ZSwgZmllbGQgaXMgbWlzc2luZyBpdCdzIHZhbHVlXG4gICAgICovXG4gICAgdmFyIG1pc3NpbmdWYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkKSB7XG5cbiAgICAgICAgLy8gSWYgbm90IHJlcXVpcmVkLCBiYWlsXG4gICAgICAgIGlmICghZmllbGQuaGFzQXR0cmlidXRlKCdyZXF1aXJlZCcpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgLy8gSGFuZGxlIGNoZWNrYm94ZXNcbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgIC8vIFdhdGNoIG91dCBmb3IgZ3JvdXBlZCBjaGVja2JveGVzLiBPbmx5IHZhbGlkYXRlIHRoZSBncm91cCBhcyBhIHdob2xlXG4gICAgICAgICAgICB2YXIgY2hlY2tib3hJbnB1dHMgPSBmaWVsZC5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tuYW1lPVwiJyArIGVzY2FwZUNoYXJhY3RlcnMoZmllbGQubmFtZSkgKyAnXCJdOm5vdChbdHlwZT1cImhpZGRlblwiXSknKTtcblxuICAgICAgICAgICAgaWYgKGNoZWNrYm94SW5wdXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBjaGVja2VkSW5wdXRzID0gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGNoZWNrYm94SW5wdXRzLCAoKGJ0bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnRuLmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgfSkpLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIHJldHVybiAhY2hlY2tlZElucHV0cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICFmaWVsZC5jaGVja2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG9uJ3QgdmFsaWRhdGUgYW55IGhpZGRlbiBmaWVsZHNcbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIGZpZWxkIHZhbHVlIGxlbmd0aFxuICAgICAgICB2YXIgeyBsZW5ndGggfSA9IGZpZWxkLnZhbHVlO1xuXG4gICAgICAgIC8vIEhhbmRsZSByYWRpbyBidXR0b25zXG4gICAgICAgIGlmIChmaWVsZC50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgICAgICBsZW5ndGggPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZmllbGQuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbbmFtZT1cIicgKyBlc2NhcGVDaGFyYWN0ZXJzKGZpZWxkLm5hbWUpICsgJ1wiXScpLCAoKGJ0bikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBidG4uY2hlY2tlZDtcbiAgICAgICAgICAgIH0pKS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgdmFsdWVcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA8IDE7XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZmllbGQgdmFsdWUgZG9lc24ndCBtYXRjaCBhIHBhdHRlci5cbiAgICAgKiBAcGFyYW0gIHtOb2RlfSAgIGZpZWxkICAgIFRoZSBmaWVsZCB0byBjaGVja1xuICAgICAqIEBwYXJhbSAge09iamVjdH0gc2V0dGluZ3MgVGhlIHBsdWdpbiBzZXR0aW5nc1xuICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1MS9zZWMtZm9ybXMuaHRtbCN0aGUtcGF0dGVybi1hdHRyaWJ1dGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICAgIElmIHRydWUsIHRoZXJlJ3MgYSBwYXR0ZXJuIG1pc21hdGNoXG4gICAgICovXG4gICAgdmFyIHBhdHRlcm5NaXNtYXRjaCA9IGZ1bmN0aW9uKGZpZWxkLCBzZXR0aW5ncykge1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYSBwYXR0ZXJuIHRvIG1hdGNoXG4gICAgICAgIHZhciBwYXR0ZXJuID0gZmllbGQuZ2V0QXR0cmlidXRlKCdwYXR0ZXJuJyk7XG4gICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuID8gbmV3IFJlZ0V4cCgnXig/OicgKyBwYXR0ZXJuICsgJykkJykgOiBzZXR0aW5ncy5wYXR0ZXJuc1tmaWVsZC50eXBlXTtcbiAgICAgICAgaWYgKCFwYXR0ZXJuIHx8ICFmaWVsZC52YWx1ZSB8fCBmaWVsZC52YWx1ZS5sZW5ndGggPCAxKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgdGhlIHBhdHRlcm5cbiAgICAgICAgcmV0dXJuIGZpZWxkLnZhbHVlLm1hdGNoKHBhdHRlcm4pID8gZmFsc2UgOiB0cnVlO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGZpZWxkIHZhbHVlIGlzIG91dC1vZi1yYW5nZVxuICAgICAqIEBwYXJhbSAge05vZGV9ICAgIGZpZWxkICAgIFRoZSBmaWVsZCB0byBjaGVja1xuICAgICAqIEByZXR1cm4ge1N0cmluZ30gICAgICAgICAgIFJldHVybnMgJ292ZXInLCAndW5kZXInLCBvciBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdXRPZlJhbmdlID0gZnVuY3Rpb24oZmllbGQpIHtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgZmllbGQgaGFzIHZhbHVlXG4gICAgICAgIGlmICghZmllbGQudmFsdWUgfHwgZmllbGQudmFsdWUubGVuZ3RoIDwgMSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciByYW5nZVxuICAgICAgICB2YXIgbWF4ID0gZmllbGQuZ2V0QXR0cmlidXRlKCdtYXgnKTtcbiAgICAgICAgdmFyIG1pbiA9IGZpZWxkLmdldEF0dHJpYnV0ZSgnbWluJyk7XG5cbiAgICAgICAgLy8gQ2hlY2sgdmFsaWRpdHlcbiAgICAgICAgdmFyIG51bSA9IHBhcnNlRmxvYXQoZmllbGQudmFsdWUpO1xuICAgICAgICBpZiAobWF4ICYmIG51bSA+IG1heCkgcmV0dXJuICdvdmVyJztcbiAgICAgICAgaWYgKG1pbiAmJiBudW0gPCBtaW4pIHJldHVybiAndW5kZXInO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGZpZWxkIHZhbHVlIGlzIHRvbyBsb25nIG9yIHRvbyBzaG9ydFxuICAgICAqIEBwYXJhbSAge05vZGV9ICAgZmllbGQgICAgVGhlIGZpZWxkIHRvIGNoZWNrXG4gICAgICogQHJldHVybiB7U3RyaW5nfSAgICAgICAgICAgUmV0dXJucyAnb3ZlcicsICd1bmRlcicsIG9yIGZhbHNlXG4gICAgICovXG4gICAgdmFyIHdyb25nTGVuZ3RoID0gZnVuY3Rpb24oZmllbGQpIHtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgZmllbGQgaGFzIHZhbHVlXG4gICAgICAgIGlmICghZmllbGQudmFsdWUgfHwgZmllbGQudmFsdWUubGVuZ3RoIDwgMSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBtaW4vbWF4IGxlbmd0aFxuICAgICAgICB2YXIgbWF4ID0gZmllbGQuZ2V0QXR0cmlidXRlKCdtYXhsZW5ndGgnKTtcbiAgICAgICAgdmFyIG1pbiA9IGZpZWxkLmdldEF0dHJpYnV0ZSgnbWlubGVuZ3RoJyk7XG5cbiAgICAgICAgLy8gQ2hlY2sgdmFsaWRpdHlcbiAgICAgICAgdmFyIHsgbGVuZ3RoIH0gPSBmaWVsZC52YWx1ZTtcbiAgICAgICAgaWYgKG1heCAmJiBsZW5ndGggPiBtYXgpIHJldHVybiAnb3Zlcic7XG4gICAgICAgIGlmIChtaW4gJiYgbGVuZ3RoIDwgbWluKSByZXR1cm4gJ3VuZGVyJztcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3QgZm9yIHN0YW5kYXJkIGZpZWxkIHZhbGlkYXRpb25zXG4gICAgICogQHBhcmFtICB7Tm9kZX0gICBmaWVsZCAgICBUaGUgZmllbGQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc2V0dGluZ3MgVGhlIHBsdWdpbiBzZXR0aW5nc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgVGhlIHRlc3RzIGFuZCB0aGVpciByZXN1bHRzXG4gICAgICovXG4gICAgdmFyIHJ1blZhbGlkYXRpb25zID0gZnVuY3Rpb24oZmllbGQsIHNldHRpbmdzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaXNzaW5nVmFsdWU6IG1pc3NpbmdWYWx1ZShmaWVsZCksXG4gICAgICAgICAgICBwYXR0ZXJuTWlzbWF0Y2g6IHBhdHRlcm5NaXNtYXRjaChmaWVsZCwgc2V0dGluZ3MpLFxuICAgICAgICAgICAgb3V0T2ZSYW5nZTogb3V0T2ZSYW5nZShmaWVsZCksXG4gICAgICAgICAgICB3cm9uZ0xlbmd0aDogd3JvbmdMZW5ndGgoZmllbGQpLFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSdW4gYW55IHByb3ZpZGVkIGN1c3RvbSB2YWxpZGF0aW9uc1xuICAgICAqIEBwYXJhbSAge05vZGV9ICAgZmllbGQgICAgICAgVGhlIGZpZWxkIHRvIHRlc3RcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGVycm9ycyAgICAgIFRoZSBleGlzdGluZyBlcnJvcnNcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHZhbGlkYXRpb25zIFRoZSBjdXN0b20gdmFsaWRhdGlvbnMgdG8gcnVuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBzZXR0aW5ncyAgICBUaGUgcGx1Z2luIHNldHRpbmdzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgICAgICBUaGUgdGVzdHMgYW5kIHRoZWlyIHJlc3VsdHNcbiAgICAgKi9cbiAgICB2YXIgY3VzdG9tVmFsaWRhdGlvbnMgPSBmdW5jdGlvbihmaWVsZCwgZXJyb3JzLCB2YWxpZGF0aW9ucywgc2V0dGluZ3MpIHtcbiAgICAgICAgZm9yICh2YXIgdGVzdCBpbiB2YWxpZGF0aW9ucykge1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25zLmhhc093blByb3BlcnR5KHRlc3QpKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzW3Rlc3RdID0gdmFsaWRhdGlvbnNbdGVzdF0oZmllbGQsIHNldHRpbmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3JzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIGZpZWxkIGhhcyBhbnkgZXJyb3JzXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgZXJyb3JzIFRoZSB2YWxpZGF0aW9uIHRlc3QgcmVzdWx0c1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgICBSZXR1cm5zIHRydWUgaWYgdGhlcmUgYXJlIGVycm9yc1xuICAgICAqL1xuICAgIHZhciBoYXNFcnJvcnMgPSBmdW5jdGlvbihlcnJvcnMpIHtcbiAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBlcnJvcnMpIHtcbiAgICAgICAgICAgIGlmIChlcnJvcnNbdHlwZV0pIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgYSBmaWVsZCBmb3IgZXJyb3JzXG4gICAgICogQHBhcmFtICB7Tm9kZX0gZmllbGQgICAgICBUaGUgZmllbGQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc2V0dGluZ3MgVGhlIHBsdWdpbiBzZXR0aW5nc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgVGhlIGZpZWxkIHZhbGlkaXR5IGFuZCBlcnJvcnNcbiAgICAgKi9cbiAgICB2YXIgZ2V0RXJyb3JzID0gZnVuY3Rpb24oZmllbGQsIHNldHRpbmdzKSB7XG5cbiAgICAgICAgLy8gR2V0IHN0YW5kYXJkIHZhbGlkYXRpb24gZXJyb3JzXG4gICAgICAgIHZhciBlcnJvcnMgPSBydW5WYWxpZGF0aW9ucyhmaWVsZCxzZXR0aW5ncyk7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGN1c3RvbSB2YWxpZGF0aW9uc1xuICAgICAgICBlcnJvcnMgPSBjdXN0b21WYWxpZGF0aW9ucyhmaWVsZCwgZXJyb3JzLCBzZXR0aW5ncy5jdXN0b21WYWxpZGF0aW9ucywgc2V0dGluZ3MpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWxpZDogIWhhc0Vycm9ycyhlcnJvcnMpLFxuICAgICAgICAgICAgZXJyb3JzLFxuICAgICAgICB9O1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgZm9yIHVzZSB3aXRoIHF1ZXJ5U2VsZWN0b3JcbiAgICAgKiBAYXV0aG9yIE1hdGhpYXMgQnluZW5zXG4gICAgICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL21hdGhpYXNieW5lbnMvQ1NTLmVzY2FwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgYW5jaG9yIElEIHRvIGVzY2FwZVxuICAgICAqL1xuICAgIHZhciBlc2NhcGVDaGFyYWN0ZXJzID0gZnVuY3Rpb24oaWQpIHtcblxuICAgICAgICB2YXIgc3RyaW5nID0gU3RyaW5nKGlkKTtcbiAgICAgICAgdmFyIHsgbGVuZ3RoIH0gPSBzdHJpbmc7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgY29kZVVuaXQ7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgdmFyIGZpcnN0Q29kZVVuaXQgPSBzdHJpbmcuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGNvZGVVbml0ID0gc3RyaW5nLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgICAgICAgLy8gTm90ZTogdGhlcmXigJlzIG5vIG5lZWQgdG8gc3BlY2lhbC1jYXNlIGFzdHJhbCBzeW1ib2xzLCBzdXJyb2dhdGVcbiAgICAgICAgICAgIC8vIHBhaXJzLCBvciBsb25lIHN1cnJvZ2F0ZXMuXG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgTlVMTCAoVSswMDAwKSwgdGhlbiB0aHJvdyBhblxuICAgICAgICAgICAgLy8gYEludmFsaWRDaGFyYWN0ZXJFcnJvcmAgZXhjZXB0aW9uIGFuZCB0ZXJtaW5hdGUgdGhlc2Ugc3RlcHMuXG4gICAgICAgICAgICBpZiAoY29kZVVuaXQgPT09IDB4MDAwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2hhcmFjdGVyRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdJbnZhbGlkIGNoYXJhY3RlcjogdGhlIGlucHV0IGNvbnRhaW5zIFUrMDAwMC4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgaW4gdGhlIHJhbmdlIFtcXDEtXFwxRl0gKFUrMDAwMSB0byBVKzAwMUYpIG9yIGlzXG4gICAgICAgICAgICAgICAgLy8gVSswMDdGLCBb4oCmXVxuICAgICAgICAgICAgICAgIChjb2RlVW5pdCA+PSAweDAwMDEgJiYgY29kZVVuaXQgPD0gMHgwMDFGKSB8fCBjb2RlVW5pdCA9PSAweDAwN0YgfHxcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgYW5kIGlzIGluIHRoZSByYW5nZSBbMC05XVxuICAgICAgICAgICAgICAgIC8vIChVKzAwMzAgdG8gVSswMDM5KSwgW+KApl1cbiAgICAgICAgICAgICAgICAoaW5kZXggPT09IDAgJiYgY29kZVVuaXQgPj0gMHgwMDMwICYmIGNvZGVVbml0IDw9IDB4MDAzOSkgfHxcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIHRoZSBzZWNvbmQgY2hhcmFjdGVyIGFuZCBpcyBpbiB0aGUgcmFuZ2UgWzAtOV1cbiAgICAgICAgICAgICAgICAvLyAoVSswMDMwIHRvIFUrMDAzOSkgYW5kIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaXMgYSBgLWAgKFUrMDAyRCksIFvigKZdXG4gICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICBjb2RlVW5pdCA+PSAweDAwMzAgJiYgY29kZVVuaXQgPD0gMHgwMDM5ICYmXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0Q29kZVVuaXQgPT09IDB4MDAyRFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzc29tLyNlc2NhcGUtYS1jaGFyYWN0ZXItYXMtY29kZS1wb2ludFxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxcXCcgKyBjb2RlVW5pdC50b1N0cmluZygxNikgKyAnICc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgbm90IGhhbmRsZWQgYnkgb25lIG9mIHRoZSBhYm92ZSBydWxlcyBhbmQgaXNcbiAgICAgICAgICAgIC8vIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBVKzAwODAsIGlzIGAtYCAoVSswMDJEKSBvciBgX2AgKFUrMDA1RiksIG9yXG4gICAgICAgICAgICAvLyBpcyBpbiBvbmUgb2YgdGhlIHJhbmdlcyBbMC05XSAoVSswMDMwIHRvIFUrMDAzOSksIFtBLVpdIChVKzAwNDEgdG9cbiAgICAgICAgICAgIC8vIFUrMDA1QSksIG9yIFthLXpdIChVKzAwNjEgdG8gVSswMDdBKSwgW+KApl1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBjb2RlVW5pdCA+PSAweDAwODAgfHxcbiAgICAgICAgICAgICAgICBjb2RlVW5pdCA9PT0gMHgwMDJEIHx8XG4gICAgICAgICAgICAgICAgY29kZVVuaXQgPT09IDB4MDA1RiB8fFxuICAgICAgICAgICAgICAgIGNvZGVVbml0ID49IDB4MDAzMCAmJiBjb2RlVW5pdCA8PSAweDAwMzkgfHxcbiAgICAgICAgICAgICAgICBjb2RlVW5pdCA+PSAweDAwNDEgJiYgY29kZVVuaXQgPD0gMHgwMDVBIHx8XG4gICAgICAgICAgICAgICAgY29kZVVuaXQgPj0gMHgwMDYxICYmIGNvZGVVbml0IDw9IDB4MDA3QVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGNoYXJhY3RlciBpdHNlbGZcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nLmNoYXJBdChpbmRleCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgICAgICAgICAgLy8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3Nzb20vI2VzY2FwZS1hLWNoYXJhY3RlclxuICAgICAgICAgICAgcmVzdWx0ICs9ICdcXFxcJyArIHN0cmluZy5jaGFyQXQoaW5kZXgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gc2FuaXRpemVkIGhhc2hcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgb3IgY3JlYXRlIGFuIElEIGZvciBhIGZpZWxkXG4gICAgICogQHBhcmFtICB7Tm9kZX0gICAgZmllbGQgICAgVGhlIGZpZWxkXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgc2V0dGluZ3MgVGhlIHBsdWdpbiBzZXR0aW5nc1xuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGNyZWF0ZSAgIElmIHRydWUsIGNyZWF0ZSBhbiBJRCBpZiB0aGVyZSBpc24ndCBvbmVcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgICAgICBUaGUgZmllbGQgSURcbiAgICAgKi9cbiAgICB2YXIgZ2V0RmllbGRJRCA9IGZ1bmN0aW9uKGZpZWxkLCBzZXR0aW5ncywgY3JlYXRlKSB7XG4gICAgICAgIHZhciBpZCA9IGZpZWxkLm5hbWUgPyBmaWVsZC5uYW1lIDogZmllbGQuaWQ7XG4gICAgICAgIGlmICghaWQgJiYgY3JlYXRlKSB7XG4gICAgICAgICAgICBpZCA9IHNldHRpbmdzLmZpZWxkUHJlZml4ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTk5KTtcbiAgICAgICAgICAgIGZpZWxkLmlkID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgKGZpZWxkLnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgLy8gICAgIGlkICs9ICdfJyArIChmaWVsZC52YWx1ZSB8fCBmaWVsZC5pZCk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWFsIGhhbmRsaW5nIGZvciByYWRpbyBidXR0b25zIGFuZCBjaGVja2JveGVzIHdyYXBwZWQgaW4gbGFiZWxzLlxuICAgICAqIEBwYXJhbSAge05vZGV9IGZpZWxkIFRoZSBmaWVsZCB3aXRoIHRoZSBlcnJvclxuICAgICAqIEByZXR1cm4ge05vZGV9ICAgICAgIFRoZSBmaWVsZCB0byBzaG93IHRoZSBlcnJvciBvblxuICAgICAqL1xuICAgIHZhciBnZXRFcnJvckZpZWxkID0gZnVuY3Rpb24oZmllbGQpIHtcblxuICAgICAgICAvLyBJZiB0aGUgZmllbGQgaXMgYSByYWRpbyBidXR0b24sIGdldCB0aGUgbGFzdCBpdGVtIGluIHRoZSByYWRpbyBncm91cFxuICAgICAgICAvLyBAdG9kbyBpZiBsb2NhdGlvbiBpcyBiZWZvcmUsIGdldCBmaXJzdCBpdGVtXG4gICAgICAgIGlmIChmaWVsZC50eXBlID09PSAncmFkaW8nICYmIGZpZWxkLm5hbWUpIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IGZpZWxkLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW25hbWU9XCInICsgZXNjYXBlQ2hhcmFjdGVycyhmaWVsZC5uYW1lKSArICdcIl0nKTtcbiAgICAgICAgICAgIGZpZWxkID0gZ3JvdXBbZ3JvdXAubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIGFzc29jaWF0ZWQgbGFiZWwgZm9yIHJhZGlvIGJ1dHRvbiBvciBjaGVja2JveFxuICAgICAgICAvLyBpZiAoZmllbGQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAvLyAgICAgdmFyIGxhYmVsID0gZmllbGQuY2xvc2VzdCgnbGFiZWwnKSB8fCBmaWVsZC5mb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tmb3I9XCInICsgZmllbGQuaWQgKyAnXCJdJyk7XG4gICAgICAgIC8vICAgICBmaWVsZCA9IGxhYmVsIHx8IGZpZWxkO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdjaGVja2JveCcgfHwgZmllbGQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgZmllbGQgPSBmaWVsZC5jbG9zZXN0KCdbZGF0YS1maWVsZC1oYW5kbGVdJykuZmlyc3RDaGlsZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaWVsZDtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxvY2F0aW9uIGZvciBhIGZpZWxkJ3MgZXJyb3IgbWVzc2FnZVxuICAgICAqIEBwYXJhbSAge05vZGV9ICAgZmllbGQgICAgVGhlIGZpZWxkXG4gICAgICogQHBhcmFtICB7Tm9kZX0gICB0YXJnZXQgICBUaGUgdGFyZ2V0IGZvciBlcnJvciBtZXNzYWdlXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBzZXR0aW5ncyBUaGUgcGx1Z2luIHNldHRpbmdzXG4gICAgICogQHJldHVybiB7Tm9kZX0gICAgICAgICAgICBUaGUgZXJyb3IgbG9jYXRpb25cbiAgICAgKi9cbiAgICB2YXIgZ2V0RXJyb3JMb2NhdGlvbiA9IGZ1bmN0aW9uKGZpZWxkLCB0YXJnZXQsIHNldHRpbmdzKSB7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGEgY3VzdG9tIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gZmllbGQuZ2V0QXR0cmlidXRlKHNldHRpbmdzLm1lc3NhZ2VUYXJnZXQpO1xuICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGZpZWxkLmZvcm0ucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBAYnVnZml4IGJ5IEBIYXJvbGRQdXRtYW5cbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vY2ZlcmRpbmFuZGkvYm91bmNlci9wdWxsLzI4XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2F0aW9uLmZpcnN0Q2hpbGQgfHwgbG9jYXRpb24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBtZXNzYWdlIHNob3VsZCBjb21lIGFmdGVyIHRoZSBmaWVsZFxuICAgICAgICBpZiAoc2V0dGluZ3MubWVzc2FnZUFmdGVyRmllbGQpIHtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gZmllbGQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gbmV4dCBzaWJsaW5nLCBjcmVhdGUgb25lXG4gICAgICAgICAgICBpZiAoIXRhcmdldC5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICAgIHRhcmdldC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGl0IHNob3VsZCBjb21lIGJlZm9yZVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHZhbGlkYXRpb24gZXJyb3IgbWVzc2FnZSBub2RlXG4gICAgICogQHBhcmFtICB7Tm9kZX0gZmllbGQgICAgICBUaGUgZmllbGRcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHNldHRpbmdzIFRoZSBwbHVnaW4gc2V0dGluZ3NcbiAgICAgKiBAcmV0dXJuIHtOb2RlfSAgICAgICAgICAgIFRoZSBlcnJvciBtZXNzYWdlIG5vZGVcbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlRXJyb3IgPSBmdW5jdGlvbihmaWVsZCwgc2V0dGluZ3MpIHtcblxuICAgICAgICAvLyBDcmVhdGUgdGhlIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgdmFyIGVycm9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVycm9yLmNsYXNzTmFtZSA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG4gICAgICAgIGVycm9yLnNldEF0dHJpYnV0ZSgnZGF0YS1lcnJvci1tZXNzYWdlJywgJycpO1xuICAgICAgICBlcnJvci5pZCA9IHNldHRpbmdzLmVycm9yUHJlZml4ICsgZ2V0RmllbGRJRChmaWVsZCwgc2V0dGluZ3MsIHRydWUpO1xuXG4gICAgICAgIC8vIElmIHRoZSBmaWVsZCBpcyBhIHJhZGlvIGJ1dHRvbiBvciBjaGVja2JveCwgZ3JhYiB0aGUgbGFzdCBmaWVsZCBsYWJlbFxuICAgICAgICB2YXIgZmllbGRUYXJnZXQgPSBnZXRFcnJvckZpZWxkKGZpZWxkKTtcblxuICAgICAgICAvLyBJbmplY3QgdGhlIGVycm9yIG1lc3NhZ2UgaW50byB0aGUgRE9NXG4gICAgICAgIHZhciBsb2NhdGlvbiA9IGdldEVycm9yTG9jYXRpb24oZmllbGQsIGZpZWxkVGFyZ2V0LCBzZXR0aW5ncyk7XG4gICAgICAgIGxvY2F0aW9uLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVycm9yLCBsb2NhdGlvbik7XG5cbiAgICAgICAgcmV0dXJuIGVycm9yO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXJyb3IgbWVzc2FnZSB0ZXN0XG4gICAgICogQHBhcmFtICB7Tm9kZX0gICAgICAgICAgICBmaWVsZCAgICBUaGUgZmllbGQgdG8gZ2V0IGFuIGVycm9yIG1lc3NhZ2UgZm9yXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICAgICBlcnJvcnMgICBUaGUgZXJyb3JzIG9uIHRoZSBmaWVsZFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgc2V0dGluZ3MgVGhlIHBsdWdpbiBzZXR0aW5nc1xuICAgICAqIEByZXR1cm4ge1N0cmluZ3xGdW5jdGlvbn0gICAgICAgICAgVGhlIGVycm9yIG1lc3NhZ2VcbiAgICAgKi9cbiAgICB2YXIgZ2V0RXJyb3JNZXNzYWdlID0gZnVuY3Rpb24oZmllbGQsIGVycm9ycywgc2V0dGluZ3MpIHtcblxuICAgICAgICAvLyBWYXJpYWJsZXNcbiAgICAgICAgdmFyIHsgbWVzc2FnZXMgfSA9IHNldHRpbmdzO1xuXG4gICAgICAgIC8vIE1pc3NpbmcgdmFsdWUgZXJyb3JcbiAgICAgICAgaWYgKGVycm9ycy5taXNzaW5nVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlcy5taXNzaW5nVmFsdWVbZmllbGQudHlwZV0gfHwgbWVzc2FnZXMubWlzc2luZ1ZhbHVlLmRlZmF1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOdW1iZXJzIHRoYXQgYXJlIG91dCBvZiByYW5nZVxuICAgICAgICBpZiAoZXJyb3JzLm91dE9mUmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlcy5vdXRPZlJhbmdlW2Vycm9ycy5vdXRPZlJhbmdlXS5yZXBsYWNlKCd7bWF4fScsIGZpZWxkLmdldEF0dHJpYnV0ZSgnbWF4JykpLnJlcGxhY2UoJ3ttaW59JywgZmllbGQuZ2V0QXR0cmlidXRlKCdtaW4nKSkucmVwbGFjZSgne2xlbmd0aH0nLCBmaWVsZC52YWx1ZS5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsdWVzIHRoYXQgYXJlIHRvbyBsb25nIG9yIHNob3J0XG4gICAgICAgIGlmIChlcnJvcnMud3JvbmdMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlcy53cm9uZ0xlbmd0aFtlcnJvcnMud3JvbmdMZW5ndGhdLnJlcGxhY2UoJ3ttYXhMZW5ndGh9JywgZmllbGQuZ2V0QXR0cmlidXRlKCdtYXhsZW5ndGgnKSkucmVwbGFjZSgne21pbkxlbmd0aH0nLCBmaWVsZC5nZXRBdHRyaWJ1dGUoJ21pbmxlbmd0aCcpKS5yZXBsYWNlKCd7bGVuZ3RofScsIGZpZWxkLnZhbHVlLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYXR0ZXJuIG1pc21hdGNoIGVycm9yXG4gICAgICAgIGlmIChlcnJvcnMucGF0dGVybk1pc21hdGNoKSB7XG4gICAgICAgICAgICB2YXIgY3VzdG9tID0gZmllbGQuZ2V0QXR0cmlidXRlKHNldHRpbmdzLm1lc3NhZ2VDdXN0b20pO1xuICAgICAgICAgICAgaWYgKGN1c3RvbSkgcmV0dXJuIGN1c3RvbTtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlcy5wYXR0ZXJuTWlzbWF0Y2hbZmllbGQudHlwZV0gfHwgbWVzc2FnZXMucGF0dGVybk1pc21hdGNoLmRlZmF1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDdXN0b20gdmFsaWRhdGlvbnNcbiAgICAgICAgZm9yICh2YXIgdGVzdCBpbiBzZXR0aW5ncy5jdXN0b21WYWxpZGF0aW9ucykge1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmN1c3RvbVZhbGlkYXRpb25zLmhhc093blByb3BlcnR5KHRlc3QpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yc1t0ZXN0XSAmJiBtZXNzYWdlc1t0ZXN0XSkgcmV0dXJuIG1lc3NhZ2VzW3Rlc3RdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3VzdG9tIG1lc3NhZ2UsIHBhc3NlZCBkaXJlY3RseSBpblxuICAgICAgICBpZiAoZXJyb3JzLmN1c3RvbU1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcnMuY3VzdG9tTWVzc2FnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhbGxiYWNrIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzLmZhbGxiYWNrO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBlcnJvciBhdHRyaWJ1dGVzIHRvIGEgZmllbGRcbiAgICAgKiBAcGFyYW0gIHtOb2RlfSAgIGZpZWxkICAgIFRoZSBmaWVsZCB3aXRoIHRoZSBlcnJvciBtZXNzYWdlXG4gICAgICogQHBhcmFtICB7Tm9kZX0gICBlcnJvciAgICBUaGUgZXJyb3IgbWVzc2FnZVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc2V0dGluZ3MgVGhlIHBsdWdpbiBzZXR0aW5nc1xuICAgICAqL1xuICAgIHZhciBhZGRFcnJvckF0dHJpYnV0ZXMgPSBmdW5jdGlvbihmaWVsZCwgZXJyb3IsIHNldHRpbmdzKSB7XG4gICAgICAgIGZpZWxkLmNsYXNzTGlzdC5hZGQoc2V0dGluZ3MuZmllbGRDbGFzcyk7XG4gICAgICAgIGZpZWxkLnNldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsIGVycm9yLmlkKTtcbiAgICAgICAgZmllbGQuc2V0QXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCB0cnVlKTtcblxuICAgICAgICB2YXIgJGZpZWxkTm9kZSA9IGZpZWxkLmNsb3Nlc3QoJ1tkYXRhLWZpZWxkLWhhbmRsZV0nKTtcblxuICAgICAgICBpZiAoJGZpZWxkTm9kZSkge1xuICAgICAgICAgICAgJGZpZWxkTm9kZS5jbGFzc0xpc3QuYWRkKHNldHRpbmdzLmZpZWxkQ2xhc3MpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3cgZXJyb3IgYXR0cmlidXRlcyBvbiBhIGZpZWxkIG9yIHJhZGlvL2NoZWNrYm94IGdyb3VwXG4gICAgICogQHBhcmFtICB7Tm9kZX0gICBmaWVsZCAgICBUaGUgZmllbGQgd2l0aCB0aGUgZXJyb3IgbWVzc2FnZVxuICAgICAqIEBwYXJhbSAge05vZGV9ICAgZXJyb3IgICAgVGhlIGVycm9yIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHNldHRpbmdzIFRoZSBwbHVnaW4gc2V0dGluZ3NcbiAgICAgKi9cbiAgICB2YXIgc2hvd0Vycm9yQXR0cmlidXRlcyA9IGZ1bmN0aW9uKGZpZWxkLCBlcnJvciwgc2V0dGluZ3MpIHtcblxuICAgICAgICAvLyBJZiBmaWVsZCBpcyBhIHJhZGlvIGJ1dHRvbiwgYWRkIGF0dHJpYnV0ZXMgdG8gZXZlcnkgYnV0dG9uIGluIHRoZSBncm91cFxuICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3JhZGlvJyAmJiBmaWVsZC5uYW1lKSB7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tuYW1lPVwiJyArIGZpZWxkLm5hbWUgKyAnXCJdJyksICgoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JBdHRyaWJ1dGVzKGJ1dHRvbiwgZXJyb3IsIHNldHRpbmdzKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgYWRkIGFuIGVycm9yIGNsYXNzIGFuZCBhcmlhIGF0dHJpYnV0ZSB0byB0aGUgZmllbGRcbiAgICAgICAgYWRkRXJyb3JBdHRyaWJ1dGVzKGZpZWxkLCBlcnJvciwgc2V0dGluZ3MpO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3cgYW4gZXJyb3IgbWVzc2FnZSBpbiB0aGUgRE9NXG4gICAgICogQHBhcmFtICB7Tm9kZX0gZmllbGQgICAgICBUaGUgZmllbGQgdG8gc2hvdyBhbiBlcnJvciBtZXNzYWdlIGZvclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgZXJyb3JzICAgVGhlIGVycm9ycyBvbiB0aGUgZmllbGRcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICAgIHNldHRpbmdzIFRoZSBwbHVnaW4gc2V0dGluZ3NcbiAgICAgKi9cbiAgICB2YXIgc2hvd0Vycm9yID0gZnVuY3Rpb24oZmllbGQsIGVycm9ycywgc2V0dGluZ3MpIHtcblxuICAgICAgICAvLyBHZXQvY3JlYXRlIGFuIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgdmFyIGVycm9yID0gZmllbGQuZm9ybS5xdWVyeVNlbGVjdG9yKCcjJyArIGVzY2FwZUNoYXJhY3RlcnMoc2V0dGluZ3MuZXJyb3JQcmVmaXggKyBnZXRGaWVsZElEKGZpZWxkLCBzZXR0aW5ncykpKSB8fCBjcmVhdGVFcnJvcihmaWVsZCwgc2V0dGluZ3MpO1xuICAgICAgICB2YXIgbXNnID0gZ2V0RXJyb3JNZXNzYWdlKGZpZWxkLCBlcnJvcnMsIHNldHRpbmdzKTtcbiAgICAgICAgZXJyb3IudGV4dENvbnRlbnQgPSB0eXBlb2YgbXNnID09PSAnZnVuY3Rpb24nID8gbXNnKGZpZWxkLCBzZXR0aW5ncykgOiBtc2c7XG5cbiAgICAgICAgLy8gQWRkIGVycm9yIGF0dHJpYnV0ZXNcbiAgICAgICAgc2hvd0Vycm9yQXR0cmlidXRlcyhmaWVsZCwgZXJyb3IsIHNldHRpbmdzKTtcblxuICAgICAgICAvLyBFbWl0IGN1c3RvbSBldmVudFxuICAgICAgICBpZiAoc2V0dGluZ3MuZW1pdEV2ZW50cykge1xuICAgICAgICAgICAgZW1pdEV2ZW50KGZpZWxkLCAnYm91bmNlclNob3dFcnJvcicsIHtcbiAgICAgICAgICAgICAgICBlcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBlcnJvciBhdHRyaWJ1dGVzIGZyb20gYSBmaWVsZFxuICAgICAqIEBwYXJhbSAge05vZGV9ICAgZmllbGQgICAgVGhlIGZpZWxkIHdpdGggdGhlIGVycm9yIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0gIHtOb2RlfSAgIGVycm9yICAgIFRoZSBlcnJvciBtZXNzYWdlXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBzZXR0aW5ncyBUaGUgcGx1Z2luIHNldHRpbmdzXG4gICAgICovXG4gICAgdmFyIHJlbW92ZUF0dHJpYnV0ZXMgPSBmdW5jdGlvbihmaWVsZCwgc2V0dGluZ3MpIHtcbiAgICAgICAgZmllbGQuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5maWVsZENsYXNzKTtcbiAgICAgICAgZmllbGQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG4gICAgICAgIGZpZWxkLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJyk7XG5cbiAgICAgICAgdmFyICRmaWVsZE5vZGUgPSBmaWVsZC5jbG9zZXN0KCdbZGF0YS1maWVsZC1oYW5kbGVdJyk7XG5cbiAgICAgICAgaWYgKCRmaWVsZE5vZGUpIHtcbiAgICAgICAgICAgICRmaWVsZE5vZGUuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5maWVsZENsYXNzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgZXJyb3IgYXR0cmlidXRlcyBmcm9tIHRoZSBmaWVsZCBvciByYWRpbyBncm91cFxuICAgICAqIEBwYXJhbSAge05vZGV9ICAgZmllbGQgICAgVGhlIGZpZWxkIHdpdGggdGhlIGVycm9yIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0gIHtOb2RlfSAgIGVycm9yICAgIFRoZSBlcnJvciBtZXNzYWdlXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBzZXR0aW5ncyBUaGUgcGx1Z2luIHNldHRpbmdzXG4gICAgICovXG4gICAgdmFyIHJlbW92ZUVycm9yQXR0cmlidXRlcyA9IGZ1bmN0aW9uKGZpZWxkLCBzZXR0aW5ncykge1xuXG4gICAgICAgIC8vIElmIGZpZWxkIGlzIGEgcmFkaW8gYnV0dG9uLCByZW1vdmUgYXR0cmlidXRlcyBmcm9tIGV2ZXJ5IGJ1dHRvbiBpbiB0aGUgZ3JvdXBcbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdyYWRpbycgJiYgZmllbGQubmFtZSkge1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbmFtZT1cIicgKyBmaWVsZC5uYW1lICsgJ1wiXScpLCAoKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIHJlbW92ZUF0dHJpYnV0ZXMoYnV0dG9uLCBzZXR0aW5ncyk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPdGhlcndpc2UsIGFkZCBhbiBlcnJvciBjbGFzcyBhbmQgYXJpYSBhdHRyaWJ1dGUgdG8gdGhlIGZpZWxkXG4gICAgICAgIHJlbW92ZUF0dHJpYnV0ZXMoZmllbGQsIHNldHRpbmdzKTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gZXJyb3IgbWVzc2FnZSBmcm9tIHRoZSBET01cbiAgICAgKiBAcGFyYW0gIHtOb2RlfSBmaWVsZCAgICAgIFRoZSBmaWVsZCB3aXRoIHRoZSBlcnJvciBtZXNzYWdlXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBzZXR0aW5ncyBUaGUgcGx1Z2luIHNldHRpbmdzXG4gICAgICovXG4gICAgdmFyIHJlbW92ZUVycm9yID0gZnVuY3Rpb24oZmllbGQsIHNldHRpbmdzKSB7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBlcnJvciBtZXNzYWdlIGZvciB0aGlzIGZpZWxkXG4gICAgICAgIHZhciBlcnJvciA9IGZpZWxkLmZvcm0ucXVlcnlTZWxlY3RvcignIycgKyBlc2NhcGVDaGFyYWN0ZXJzKHNldHRpbmdzLmVycm9yUHJlZml4ICsgZ2V0RmllbGRJRChmaWVsZCwgc2V0dGluZ3MpKSk7XG4gICAgICAgIGlmICghZXJyb3IpIHJldHVybjtcblxuICAgICAgICAvLyBSZW1vdmUgdGhlIGVycm9yXG4gICAgICAgIGVycm9yLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZXJyb3IpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBlcnJvciBhbmQgYTExeSBmcm9tIHRoZSBmaWVsZFxuICAgICAgICByZW1vdmVFcnJvckF0dHJpYnV0ZXMoZmllbGQsIHNldHRpbmdzKTtcblxuICAgICAgICAvLyBFbWl0IGN1c3RvbSBldmVudFxuICAgICAgICBpZiAoc2V0dGluZ3MuZW1pdEV2ZW50cykge1xuICAgICAgICAgICAgZW1pdEV2ZW50KGZpZWxkLCAnYm91bmNlclJlbW92ZUVycm9yJyk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgZXJyb3JzIGZyb20gYWxsIGZpZWxkc1xuICAgICAqIEBwYXJhbSAge1N0cmluZ30gc2VsZWN0b3IgVGhlIHNlbGVjdG9yIGZvciB0aGUgZm9ybVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc2V0dGluZ3MgVGhlIHBsdWdpbiBzZXR0aW5nc1xuICAgICAqL1xuICAgIHZhciByZW1vdmVBbGxFcnJvcnMgPSBmdW5jdGlvbihmb3JtLCBzZXR0aW5ncykge1xuICAgICAgICBmb3JFYWNoKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEnKSwgKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlRXJyb3IoZmllbGQsIHNldHRpbmdzKTtcbiAgICAgICAgfSkpO1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIFZhcmlhYmxlc1xuICAgIC8vXG5cbiAgICB2YXIgcHVibGljQVBJcyA9IHt9O1xuICAgIHZhciBzZXR0aW5ncztcblxuXG4gICAgLy9cbiAgICAvLyBNZXRob2RzXG4gICAgLy9cbiAgICBcbiAgICAvKipcbiAgICAgKiBTaG93IGFuIGVycm9yIG1lc3NhZ2UgaW4gdGhlIERPTVxuICAgICAqIEBwYXJhbSAge05vZGV9IGZpZWxkICAgICAgVGhlIGZpZWxkIHRvIHNob3cgYW4gZXJyb3IgbWVzc2FnZSBmb3JcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICAgIGVycm9ycyAgIFRoZSBlcnJvcnMgb24gdGhlIGZpZWxkXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICAgICBvcHRpb25zIEFkZGl0aW9uYWwgcGx1Z2luIHNldHRpbmdzXG4gICAgICovXG4gICAgcHVibGljQVBJcy5zaG93RXJyb3IgPSBmdW5jdGlvbihmaWVsZCwgZXJyb3JzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfc2V0dGluZ3MgPSBleHRlbmQoc2V0dGluZ3MsIG9wdGlvbnMgfHwge30pO1xuXG4gICAgICAgIHJldHVybiBzaG93RXJyb3IoZmllbGQsIGVycm9ycywgX3NldHRpbmdzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuIGVycm9yIG1lc3NhZ2UgZnJvbSB0aGUgRE9NXG4gICAgICogQHBhcmFtICB7Tm9kZX0gZmllbGQgICAgICBUaGUgZmllbGQgd2l0aCB0aGUgZXJyb3IgbWVzc2FnZVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc2V0dGluZ3MgVGhlIHBsdWdpbiBzZXR0aW5nc1xuICAgICAqL1xuICAgIHB1YmxpY0FQSXMucmVtb3ZlRXJyb3IgPSBmdW5jdGlvbihmaWVsZCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3NldHRpbmdzID0gZXh0ZW5kKHNldHRpbmdzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgICAgICByZXR1cm4gcmVtb3ZlRXJyb3IoZmllbGQsIF9zZXR0aW5ncyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIGEgZmllbGRcbiAgICAgKiBAcGFyYW0gIHtOb2RlfSBmaWVsZCAgICAgVGhlIGZpZWxkIHRvIHZhbGlkYXRlXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIFZhbGlkYXRpb24gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICBUaGUgdmFsaWRpdHkgc3RhdGUgYW5kIGVycm9yc1xuICAgICAqL1xuICAgIHB1YmxpY0FQSXMudmFsaWRhdGUgPSBmdW5jdGlvbihmaWVsZCwgb3B0aW9ucykge1xuXG4gICAgICAgIC8vIERvbid0IHZhbGlkYXRlIHN1Ym1pdHMsIGJ1dHRvbnMsIGZpbGUgYW5kIHJlc2V0IGlucHV0cywgYW5kIGRpc2FibGVkIGFuZCByZWFkb25seSBmaWVsZHNcbiAgICAgICAgaWYgKGZpZWxkLmRpc2FibGVkIHx8IGZpZWxkLnJlYWRPbmx5IHx8IGZpZWxkLnR5cGUgPT09ICdyZXNldCcgfHwgZmllbGQudHlwZSA9PT0gJ3N1Ym1pdCcgfHwgZmllbGQudHlwZSA9PT0gJ2J1dHRvbicpIHJldHVybjtcblxuICAgICAgICAvLyBMb2NhbCBzZXR0aW5nc1xuICAgICAgICB2YXIgX3NldHRpbmdzID0gZXh0ZW5kKHNldHRpbmdzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgICAgICAvLyBDaGVjayBmb3IgZXJyb3JzXG4gICAgICAgIHZhciBpc1ZhbGlkID0gZ2V0RXJyb3JzKGZpZWxkLCBfc2V0dGluZ3MpO1xuXG4gICAgICAgIC8vIElmIHZhbGlkLCByZW1vdmUgYW55IGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGlmIChpc1ZhbGlkLnZhbGlkKSB7XG4gICAgICAgICAgICByZW1vdmVFcnJvcihmaWVsZCwgX3NldHRpbmdzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2hvdyBhbiBlcnJvciBtZXNzYWdlXG4gICAgICAgIHNob3dFcnJvcihmaWVsZCwgaXNWYWxpZC5lcnJvcnMsIF9zZXR0aW5ncyk7XG5cbiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgYWxsIGZpZWxkcyBpbiBhIGZvcm0gb3Igc2VjdGlvblxuICAgICAqIEBwYXJhbSAge05vZGV9IHRhcmdldCBUaGUgZm9ybSBvciBzZWN0aW9uIHRvIHZhbGlkYXRlIGZpZWxkcyBpblxuICAgICAqIEByZXR1cm4ge0FycmF5fSAgICAgICBBbiBhcnJheSBvZiBmaWVsZHMgd2l0aCBlcnJvcnNcbiAgICAgKi9cbiAgICBwdWJsaWNBUElzLnZhbGlkYXRlQWxsID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwodGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhJyksICgoZmllbGQpID0+IHtcbiAgICAgICAgICAgIHZhciB2YWxpZGF0ZSA9IHB1YmxpY0FQSXMudmFsaWRhdGUoZmllbGQpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlICYmICF2YWxpZGF0ZS52YWxpZDtcbiAgICAgICAgfSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSdW4gYSB2YWxpZGF0aW9uIG9uIGZpZWxkIGJsdXJcbiAgICAgKi9cbiAgICB2YXIgYmx1ckhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIC8vIE9ubHkgcnVuIGlmIHRoZSBmaWVsZCBpcyBpbiBhIGZvcm0gdG8gYmUgdmFsaWRhdGVkXG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmZvcm0gfHwgIWV2ZW50LnRhcmdldC5mb3JtLmlzU2FtZU5vZGUoZm9ybUVsZW1lbnQpKSByZXR1cm47XG5cbiAgICAgICAgLy8gU3BlY2lhbC1jYXNlIGZvciBmaWxlIGZpZWxkLCBibHVycyBhcyBzb29uIGFzIHRoZSBzZWxlY3RvciBraWNrcyBpblxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LnR5cGUgPT09ICdmaWxlJykgcmV0dXJuO1xuXG4gICAgICAgIC8vIERvbid0IHRyaWdnZXIgY2xpY2sgZXZlbnQgaGFuZGxpbmcgZm9yIGNoZWNrYm94L3JhZGlvLiBXZSBzaG91bGQgdXNlIHRoZSBjaGFuZ2UuXG4gICAgICAgIGlmIChldmVudC50YXJnZXQudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBldmVudC50YXJnZXQudHlwZSA9PT0gJ3JhZGlvJykgcmV0dXJuO1xuXG4gICAgICAgIC8vIFZhbGlkYXRlIHRoZSBmaWVsZFxuICAgICAgICBwdWJsaWNBUElzLnZhbGlkYXRlKGV2ZW50LnRhcmdldCk7XG5cbiAgICB9O1xuXG4gICAgLy8gTGVhdmUgdGhpcyBhcyBvcHQtaW4gZm9yIHRoZSBtb21lbnQsIGZvciBiZXR0ZXIgZmlsZS1zdXBwb3J0XG4gICAgdmFyIGNoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIC8vIE9ubHkgcnVuIGlmIHRoZSBmaWVsZCBpcyBpbiBhIGZvcm0gdG8gYmUgdmFsaWRhdGVkXG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmZvcm0gfHwgIWV2ZW50LnRhcmdldC5mb3JtLmlzU2FtZU5vZGUoZm9ybUVsZW1lbnQpKSByZXR1cm47XG5cbiAgICAgICAgLy8gT25seSBoYW5kbGUgY2hhbmdlIGV2ZW50cyBmb3Igc29tZSBmaWVsZHNcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC50eXBlICE9PSAnZmlsZScgJiYgZXZlbnQudGFyZ2V0LnR5cGUgIT09ICdjaGVja2JveCcgJiYgZXZlbnQudGFyZ2V0LnR5cGUgIT09ICdyYWRpbycpIHJldHVybjtcblxuICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgZmllbGRcbiAgICAgICAgcHVibGljQVBJcy52YWxpZGF0ZShldmVudC50YXJnZXQpO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJ1biBhIHZhbGlkYXRpb24gb24gYSBmaWVsZHMgd2l0aCBlcnJvcnMgd2hlbiB0aGUgdmFsdWUgY2hhbmdlc1xuICAgICAqL1xuICAgIHZhciBpbnB1dEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIC8vIE9ubHkgcnVuIGlmIHRoZSBmaWVsZCBpcyBpbiBhIGZvcm0gdG8gYmUgdmFsaWRhdGVkXG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmZvcm0gfHwgIWV2ZW50LnRhcmdldC5mb3JtLmlzU2FtZU5vZGUoZm9ybUVsZW1lbnQpKSByZXR1cm47XG5cbiAgICAgICAgLy8gT25seSBydW4gb24gZmllbGRzIHdpdGggZXJyb3JzXG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhzZXR0aW5ncy5maWVsZENsYXNzKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIERvbid0IHRyaWdnZXIgY2xpY2sgZXZlbnQgaGFuZGxpbmcgZm9yIGNoZWNrYm94L3JhZGlvLiBXZSBzaG91bGQgdXNlIHRoZSBjaGFuZ2UuXG4gICAgICAgIGlmIChldmVudC50YXJnZXQudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBldmVudC50YXJnZXQudHlwZSA9PT0gJ3JhZGlvJykgcmV0dXJuO1xuXG4gICAgICAgIC8vIFZhbGlkYXRlIHRoZSBmaWVsZFxuICAgICAgICBwdWJsaWNBUElzLnZhbGlkYXRlKGV2ZW50LnRhcmdldCk7XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUnVuIGEgdmFsaWRhdGlvbiBvbiBhIGZpZWxkcyB3aXRoIGVycm9ycyB3aGVuIHRoZSB2YWx1ZSBjaGFuZ2VzXG4gICAgICovXG4gICAgdmFyIGNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgLy8gT25seSBydW4gaWYgdGhlIGZpZWxkIGlzIGluIGEgZm9ybSB0byBiZSB2YWxpZGF0ZWRcbiAgICAgICAgaWYgKCFldmVudC50YXJnZXQuZm9ybSB8fCAhZXZlbnQudGFyZ2V0LmZvcm0uaXNTYW1lTm9kZShmb3JtRWxlbWVudCkpIHJldHVybjtcblxuICAgICAgICAvLyBPbmx5IHJ1biBvbiBmaWVsZHMgd2l0aCBlcnJvcnNcbiAgICAgICAgaWYgKCFldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHNldHRpbmdzLmZpZWxkQ2xhc3MpKSByZXR1cm47XG5cbiAgICAgICAgLy8gRG9uJ3QgdHJpZ2dlciBjbGljayBldmVudCBoYW5kbGluZyBmb3IgY2hlY2tib3gvcmFkaW8uIFdlIHNob3VsZCB1c2UgdGhlIGNoYW5nZS5cbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC50eXBlID09PSAnY2hlY2tib3gnIHx8IGV2ZW50LnRhcmdldC50eXBlID09PSAncmFkaW8nKSByZXR1cm47XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgdGhlIGZpZWxkXG4gICAgICAgIHB1YmxpY0FQSXMudmFsaWRhdGUoZXZlbnQudGFyZ2V0KTtcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBhbiBlbnRpcmUgZm9ybSB3aGVuIGl0J3Mgc3VibWl0dGVkXG4gICAgICovXG4gICAgdmFyIHN1Ym1pdEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIC8vIE9ubHkgcnVuIG9uIG1hdGNoaW5nIGVsZW1lbnRzXG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmlzU2FtZU5vZGUoZm9ybUVsZW1lbnQpKSByZXR1cm47XG5cbiAgICAgICAgLy8gUHJldmVudCBmb3JtIHN1Ym1pc3Npb25cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSBlYWNoIGZpZWxkXG4gICAgICAgIHZhciBlcnJvcnMgPSBwdWJsaWNBUElzLnZhbGlkYXRlQWxsKGV2ZW50LnRhcmdldCk7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGVycm9ycywgZm9jdXMgb24gdGhlIGZpcnN0IG9uZVxuICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGVycm9yc1swXS5mb2N1cygpO1xuICAgICAgICAgICAgZW1pdEV2ZW50KGV2ZW50LnRhcmdldCwgJ2JvdW5jZXJGb3JtSW52YWxpZCcsIHsgZXJyb3JzIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzdWJtaXQgaWYgbm90IGRpc2FibGVkXG4gICAgICAgIGlmICghc2V0dGluZ3MuZGlzYWJsZVN1Ym1pdCkge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnN1Ym1pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW1pdCBjdXN0b20gZXZlbnRcbiAgICAgICAgaWYgKHNldHRpbmdzLmVtaXRFdmVudHMpIHtcbiAgICAgICAgICAgIGVtaXRFdmVudChldmVudC50YXJnZXQsICdib3VuY2VyRm9ybVZhbGlkJyk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBjdXJyZW50IHBsdWdpbiBpbnN0YW50aWF0aW9uXG4gICAgICovXG4gICAgcHVibGljQVBJcy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICBpZiAoc2V0dGluZ3MudmFsaWRhdGVPbkJsdXIpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBibHVySGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIGlucHV0SGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2hhbmdlSGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja0hhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHNldHRpbmdzLnZhbGlkYXRlT25TdWJtaXQpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHN1Ym1pdEhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSBhbGwgZXJyb3JzXG4gICAgICAgIHJlbW92ZUFsbEVycm9ycyhmb3JtRWxlbWVudCwgc2V0dGluZ3MpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBub3ZhbGlkYXRlIGF0dHJpYnV0ZVxuICAgICAgICByZW1vdmVOb1ZhbGlkYXRlKGZvcm1FbGVtZW50KTtcblxuICAgICAgICAvLyBFbWl0IGN1c3RvbSBldmVudFxuICAgICAgICBpZiAoc2V0dGluZ3MuZW1pdEV2ZW50cykge1xuICAgICAgICAgICAgZW1pdEV2ZW50KGRvY3VtZW50LCAnYm91bmNlckRlc3Ryb3llZCcsIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVzZXQgc2V0dGluZ3NcbiAgICAgICAgc2V0dGluZ3MgPSBudWxsO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBwbHVnaW5cbiAgICAgKi9cbiAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIC8vIENyZWF0ZSBzZXR0aW5nc1xuICAgICAgICBzZXR0aW5ncyA9IGV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICAgICAgLy8gQWRkIG5vdmFsaWRhdGUgYXR0cmlidXRlXG4gICAgICAgIGFkZE5vVmFsaWRhdGUoZm9ybUVsZW1lbnQpO1xuXG4gICAgICAgIC8vIEV2ZW50IExpc3RlbmVyc1xuICAgICAgICBpZiAoc2V0dGluZ3MudmFsaWRhdGVPbkJsdXIpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBibHVySGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGlucHV0SGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2hhbmdlSGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja0hhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHNldHRpbmdzLnZhbGlkYXRlT25TdWJtaXQpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHN1Ym1pdEhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVtaXQgY3VzdG9tIGV2ZW50XG4gICAgICAgIGlmIChzZXR0aW5ncy5lbWl0RXZlbnRzKSB7XG4gICAgICAgICAgICBlbWl0RXZlbnQoZG9jdW1lbnQsICdib3VuY2VySW5pdGlhbGl6ZWQnLCB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gSW5pdHMgJiBFdmVudCBMaXN0ZW5lcnNcbiAgICAvL1xuXG4gICAgaW5pdCgpO1xuICAgIFxuICAgIHJldHVybiBwdWJsaWNBUElzO1xufTtcbiJdLCJuYW1lcyI6WyJCb3VuY2VyIiwiZm9ybUVsZW1lbnQiLCJvcHRpb25zIiwiZGVmYXVsdHMiLCJmaWVsZENsYXNzIiwiZXJyb3JDbGFzcyIsImZpZWxkUHJlZml4IiwiZXJyb3JQcmVmaXgiLCJwYXR0ZXJucyIsImVtYWlsIiwidXJsIiwibnVtYmVyIiwiY29sb3IiLCJkYXRlIiwidGltZSIsIm1vbnRoIiwiY3VzdG9tVmFsaWRhdGlvbnMiLCJtZXNzYWdlQWZ0ZXJGaWVsZCIsIm1lc3NhZ2VDdXN0b20iLCJtZXNzYWdlVGFyZ2V0IiwiZGlzYWJsZVN1Ym1pdCIsInZhbGlkYXRlT25CbHVyIiwidmFsaWRhdGVPblN1Ym1pdCIsImVtaXRFdmVudHMiLCJmb3JFYWNoIiwiYXJyIiwiY2FsbGJhY2siLCJBcnJheSIsInByb3RvdHlwZSIsImNhbGwiLCJleHRlbmQiLCJtZXJnZWQiLCJhcmd1bWVudHMiLCJvYmoiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIk9iamVjdCIsInRvU3RyaW5nIiwiZW1pdEV2ZW50IiwiZWxlbSIsInR5cGUiLCJkZXRhaWxzIiwid2luZG93IiwiQ3VzdG9tRXZlbnQiLCJldmVudCIsImJ1YmJsZXMiLCJkZXRhaWwiLCJkaXNwYXRjaEV2ZW50IiwiYWRkTm9WYWxpZGF0ZSIsImZvcm0iLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVOb1ZhbGlkYXRlIiwicmVtb3ZlQXR0cmlidXRlIiwibWlzc2luZ1ZhbHVlIiwiZmllbGQiLCJoYXNBdHRyaWJ1dGUiLCJjaGVja2JveElucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlc2NhcGVDaGFyYWN0ZXJzIiwibmFtZSIsImxlbmd0aCIsImNoZWNrZWRJbnB1dHMiLCJmaWx0ZXIiLCJidG4iLCJjaGVja2VkIiwidmFsdWUiLCJwYXR0ZXJuTWlzbWF0Y2giLCJzZXR0aW5ncyIsInBhdHRlcm4iLCJnZXRBdHRyaWJ1dGUiLCJSZWdFeHAiLCJtYXRjaCIsIm91dE9mUmFuZ2UiLCJtYXgiLCJtaW4iLCJudW0iLCJwYXJzZUZsb2F0Iiwid3JvbmdMZW5ndGgiLCJydW5WYWxpZGF0aW9ucyIsImVycm9ycyIsInZhbGlkYXRpb25zIiwidGVzdCIsImhhc0Vycm9ycyIsImdldEVycm9ycyIsInZhbGlkIiwiaWQiLCJzdHJpbmciLCJTdHJpbmciLCJpbmRleCIsImNvZGVVbml0IiwicmVzdWx0IiwiZmlyc3RDb2RlVW5pdCIsImNoYXJDb2RlQXQiLCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3IiLCJjaGFyQXQiLCJnZXRGaWVsZElEIiwiY3JlYXRlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZ2V0RXJyb3JGaWVsZCIsImdyb3VwIiwiY2xvc2VzdCIsImZpcnN0Q2hpbGQiLCJnZXRFcnJvckxvY2F0aW9uIiwidGFyZ2V0Iiwic2VsZWN0b3IiLCJsb2NhdGlvbiIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXh0U2libGluZyIsInBhcmVudE5vZGUiLCJjcmVhdGVFcnJvciIsImVycm9yIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImZpZWxkVGFyZ2V0IiwiaW5zZXJ0QmVmb3JlIiwiZ2V0RXJyb3JNZXNzYWdlIiwibWVzc2FnZXMiLCJyZXBsYWNlIiwiY3VzdG9tIiwiY3VzdG9tTWVzc2FnZSIsImZhbGxiYWNrIiwiYWRkRXJyb3JBdHRyaWJ1dGVzIiwiY2xhc3NMaXN0IiwiYWRkIiwiJGZpZWxkTm9kZSIsInNob3dFcnJvckF0dHJpYnV0ZXMiLCJidXR0b24iLCJzaG93RXJyb3IiLCJtc2ciLCJ0ZXh0Q29udGVudCIsInJlbW92ZUF0dHJpYnV0ZXMiLCJyZW1vdmUiLCJyZW1vdmVFcnJvckF0dHJpYnV0ZXMiLCJyZW1vdmVFcnJvciIsInJlbW92ZUNoaWxkIiwicmVtb3ZlQWxsRXJyb3JzIiwicHVibGljQVBJcyIsIl9zZXR0aW5ncyIsInZhbGlkYXRlIiwiZGlzYWJsZWQiLCJyZWFkT25seSIsImlzVmFsaWQiLCJ2YWxpZGF0ZUFsbCIsImJsdXJIYW5kbGVyIiwiaXNTYW1lTm9kZSIsImNoYW5nZUhhbmRsZXIiLCJpbnB1dEhhbmRsZXIiLCJjb250YWlucyIsImNsaWNrSGFuZGxlciIsInN1Ym1pdEhhbmRsZXIiLCJwcmV2ZW50RGVmYXVsdCIsImZvY3VzIiwic3VibWl0IiwiZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpbml0IiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/utils/bouncer.js\n");

/***/ }),

/***/ "./src/js/utils/polyfills.js":
/*!***********************************!*\
  !*** ./src/js/utils/polyfills.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var formdata_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! formdata-polyfill */ \"../../../../node_modules/formdata-polyfill/formdata.min.js\");\n//\n// Polyfills for IE11\n//\n// CustomEvent()\n(function () {\n  if (typeof window.CustomEvent === 'function') {\n    return false;\n  }\n\n  function CustomEvent(event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: null\n    };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n\n  window.CustomEvent = CustomEvent;\n})(); // FormData\n\n\n // closest\n\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\n\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function (s) {\n    var el = this;\n\n    do {\n      if (el.matches(s)) {\n        return el;\n      }\n\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXRpbHMvcG9seWZpbGxzLmpzLmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQSxDQUFDLFlBQVc7RUFDUixJQUFJLE9BQU9BLE1BQU0sQ0FBQ0MsV0FBZCxLQUE4QixVQUFsQyxFQUE4QztJQUFFLE9BQU8sS0FBUDtFQUFlOztFQUUvRCxTQUFTQSxXQUFULENBQXFCQyxLQUFyQixFQUE0QkMsTUFBNUIsRUFBb0M7SUFDaENBLE1BQU0sR0FBR0EsTUFBTSxJQUFJO01BQUVDLE9BQU8sRUFBRSxLQUFYO01BQWtCQyxVQUFVLEVBQUUsS0FBOUI7TUFBcUNDLE1BQU0sRUFBRTtJQUE3QyxDQUFuQjtJQUNBLElBQU1DLEdBQUcsR0FBR0MsUUFBUSxDQUFDQyxXQUFULENBQXFCLGFBQXJCLENBQVo7SUFDQUYsR0FBRyxDQUFDRyxlQUFKLENBQW9CUixLQUFwQixFQUEyQkMsTUFBTSxDQUFDQyxPQUFsQyxFQUEyQ0QsTUFBTSxDQUFDRSxVQUFsRCxFQUE4REYsTUFBTSxDQUFDRyxNQUFyRTtJQUNBLE9BQU9DLEdBQVA7RUFDSDs7RUFFRFAsTUFBTSxDQUFDQyxXQUFQLEdBQXFCQSxXQUFyQjtBQUNILENBWEQsS0FhQTs7O0NBR0E7O0FBQ0EsSUFBSSxDQUFDVSxPQUFPLENBQUNDLFNBQVIsQ0FBa0JDLE9BQXZCLEVBQWdDO0VBQzVCRixPQUFPLENBQUNDLFNBQVIsQ0FBa0JDLE9BQWxCLEdBQTRCRixPQUFPLENBQUNDLFNBQVIsQ0FBa0JFLGlCQUFsQixJQUF1Q0gsT0FBTyxDQUFDQyxTQUFSLENBQWtCRyxxQkFBckY7QUFDSDs7QUFFRCxJQUFJLENBQUNKLE9BQU8sQ0FBQ0MsU0FBUixDQUFrQkksT0FBdkIsRUFBZ0M7RUFDNUJMLE9BQU8sQ0FBQ0MsU0FBUixDQUFrQkksT0FBbEIsR0FBNEIsVUFBU0MsQ0FBVCxFQUFZO0lBQ3BDLElBQUlDLEVBQUUsR0FBRyxJQUFUOztJQUVBLEdBQUc7TUFDQyxJQUFJQSxFQUFFLENBQUNMLE9BQUgsQ0FBV0ksQ0FBWCxDQUFKLEVBQW1CO1FBQUUsT0FBT0MsRUFBUDtNQUFZOztNQUNqQ0EsRUFBRSxHQUFHQSxFQUFFLENBQUNDLGFBQUgsSUFBb0JELEVBQUUsQ0FBQ0UsVUFBNUI7SUFDSCxDQUhELFFBR1NGLEVBQUUsS0FBSyxJQUFQLElBQWVBLEVBQUUsQ0FBQ0csUUFBSCxLQUFnQixDQUh4Qzs7SUFJQSxPQUFPLElBQVA7RUFDSCxDQVJEO0FBU0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvcG9seWZpbGxzLmpzPzNkOTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy9cbi8vIFBvbHlmaWxscyBmb3IgSUUxMVxuLy9cblxuLy8gQ3VzdG9tRXZlbnQoKVxuKGZ1bmN0aW9uKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ID09PSAnZnVuY3Rpb24nKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcykge1xuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgeyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogbnVsbCB9O1xuICAgICAgICBjb25zdCBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICAgICAgZXZ0LmluaXRDdXN0b21FdmVudChldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsKTtcbiAgICAgICAgcmV0dXJuIGV2dDtcbiAgICB9XG5cbiAgICB3aW5kb3cuQ3VzdG9tRXZlbnQgPSBDdXN0b21FdmVudDtcbn0pKCk7XG5cbi8vIEZvcm1EYXRhXG5pbXBvcnQgJ2Zvcm1kYXRhLXBvbHlmaWxsJztcblxuLy8gY2xvc2VzdFxuaWYgKCFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XG4gICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3Rvcjtcbn1cblxuaWYgKCFFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0KSB7XG4gICAgRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgbGV0IGVsID0gdGhpcztcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoZWwubWF0Y2hlcyhzKSkgeyByZXR1cm4gZWw7IH1cbiAgICAgICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudCB8fCBlbC5wYXJlbnROb2RlO1xuICAgICAgICB9IHdoaWxlIChlbCAhPT0gbnVsbCAmJiBlbC5ub2RlVHlwZSA9PT0gMSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG59XG4iXSwibmFtZXMiOlsid2luZG93IiwiQ3VzdG9tRXZlbnQiLCJldmVudCIsInBhcmFtcyIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGV0YWlsIiwiZXZ0IiwiZG9jdW1lbnQiLCJjcmVhdGVFdmVudCIsImluaXRDdXN0b21FdmVudCIsIkVsZW1lbnQiLCJwcm90b3R5cGUiLCJtYXRjaGVzIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJjbG9zZXN0IiwicyIsImVsIiwicGFyZW50RWxlbWVudCIsInBhcmVudE5vZGUiLCJub2RlVHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/utils/polyfills.js\n");

/***/ }),

/***/ "./src/js/utils/utils.js":
/*!*******************************!*\
  !*** ./src/js/utils/utils.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ensureVariable\": () => (/* binding */ ensureVariable),\n/* harmony export */   \"eventKey\": () => (/* binding */ eventKey),\n/* harmony export */   \"isEmpty\": () => (/* binding */ isEmpty),\n/* harmony export */   \"t\": () => (/* binding */ t),\n/* harmony export */   \"toBoolean\": () => (/* binding */ toBoolean)\n/* harmony export */ });\nvar isEmpty = function isEmpty(obj) {\n  return obj && Object.keys(obj).length === 0 && obj.constructor === Object;\n};\nvar toBoolean = function toBoolean(val) {\n  return !/^(?:f(?:alse)?|no?|0+)$/i.test(val) && !!val;\n};\nvar eventKey = function eventKey(eventName) {\n  var namespace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (!namespace) {\n    namespace = Math.random().toString(36).substr(2, 5);\n  }\n\n  return \"\".concat(eventName, \".\").concat(namespace);\n};\nvar t = function t(string) {\n  var replacements = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (window.FormieTranslations) {\n    string = window.FormieTranslations[string] || string;\n  }\n\n  return string.replace(/{([a-zA-Z0-9]+)}/g, function (match, p1) {\n    if (replacements[p1]) {\n      return replacements[p1];\n    }\n\n    return match;\n  });\n};\nvar ensureVariable = function ensureVariable(variable) {\n  var timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000;\n  var start = Date.now(); // Function to allow us to wait for a global variable to be available. Useful for third-party scripts.\n\n  var waitForVariable = function waitForVariable(resolve, reject) {\n    if (window[variable]) {\n      resolve(window[variable]);\n    } else if (timeout && Date.now() - start >= timeout) {\n      reject(new Error('timeout'));\n    } else {\n      setTimeout(waitForVariable.bind(this, resolve, reject), 30);\n    }\n  };\n\n  return new Promise(waitForVariable);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXRpbHMvdXRpbHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTyxJQUFNQSxPQUFPLEdBQUcsU0FBVkEsT0FBVSxDQUFTQyxHQUFULEVBQWM7RUFDakMsT0FBT0EsR0FBRyxJQUFJQyxNQUFNLENBQUNDLElBQVAsQ0FBWUYsR0FBWixFQUFpQkcsTUFBakIsS0FBNEIsQ0FBbkMsSUFBd0NILEdBQUcsQ0FBQ0ksV0FBSixLQUFvQkgsTUFBbkU7QUFDSCxDQUZNO0FBSUEsSUFBTUksU0FBUyxHQUFHLFNBQVpBLFNBQVksQ0FBU0MsR0FBVCxFQUFjO0VBQ25DLE9BQU8sQ0FBQywyQkFBMkJDLElBQTNCLENBQWdDRCxHQUFoQyxDQUFELElBQXlDLENBQUMsQ0FBQ0EsR0FBbEQ7QUFDSCxDQUZNO0FBSUEsSUFBTUUsUUFBUSxHQUFHLFNBQVhBLFFBQVcsQ0FBU0MsU0FBVCxFQUFzQztFQUFBLElBQWxCQyxTQUFrQix1RUFBTixJQUFNOztFQUMxRCxJQUFJLENBQUNBLFNBQUwsRUFBZ0I7SUFDWkEsU0FBUyxHQUFHQyxJQUFJLENBQUNDLE1BQUwsR0FBY0MsUUFBZCxDQUF1QixFQUF2QixFQUEyQkMsTUFBM0IsQ0FBa0MsQ0FBbEMsRUFBcUMsQ0FBckMsQ0FBWjtFQUNIOztFQUVELGlCQUFVTCxTQUFWLGNBQXVCQyxTQUF2QjtBQUNILENBTk07QUFRQSxJQUFNSyxDQUFDLEdBQUcsU0FBSkEsQ0FBSSxDQUFTQyxNQUFULEVBQW9DO0VBQUEsSUFBbkJDLFlBQW1CLHVFQUFKLEVBQUk7O0VBQ2pELElBQUlDLE1BQU0sQ0FBQ0Msa0JBQVgsRUFBK0I7SUFDM0JILE1BQU0sR0FBR0UsTUFBTSxDQUFDQyxrQkFBUCxDQUEwQkgsTUFBMUIsS0FBcUNBLE1BQTlDO0VBQ0g7O0VBRUQsT0FBT0EsTUFBTSxDQUFDSSxPQUFQLENBQWUsbUJBQWYsRUFBb0MsVUFBQ0MsS0FBRCxFQUFRQyxFQUFSLEVBQWU7SUFDdEQsSUFBSUwsWUFBWSxDQUFDSyxFQUFELENBQWhCLEVBQXNCO01BQ2xCLE9BQU9MLFlBQVksQ0FBQ0ssRUFBRCxDQUFuQjtJQUNIOztJQUVELE9BQU9ELEtBQVA7RUFDSCxDQU5NLENBQVA7QUFPSCxDQVpNO0FBY0EsSUFBTUUsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFTQyxRQUFULEVBQXFDO0VBQUEsSUFBbEJDLE9BQWtCLHVFQUFSLE1BQVE7RUFDL0QsSUFBTUMsS0FBSyxHQUFHQyxJQUFJLENBQUNDLEdBQUwsRUFBZCxDQUQrRCxDQUcvRDs7RUFDQSxJQUFNQyxlQUFlLEdBQUcsU0FBbEJBLGVBQWtCLENBQVNDLE9BQVQsRUFBa0JDLE1BQWxCLEVBQTBCO0lBQzlDLElBQUliLE1BQU0sQ0FBQ00sUUFBRCxDQUFWLEVBQXNCO01BQ2xCTSxPQUFPLENBQUNaLE1BQU0sQ0FBQ00sUUFBRCxDQUFQLENBQVA7SUFDSCxDQUZELE1BRU8sSUFBSUMsT0FBTyxJQUFLRSxJQUFJLENBQUNDLEdBQUwsS0FBYUYsS0FBZCxJQUF3QkQsT0FBdkMsRUFBZ0Q7TUFDbkRNLE1BQU0sQ0FBQyxJQUFJQyxLQUFKLENBQVUsU0FBVixDQUFELENBQU47SUFDSCxDQUZNLE1BRUE7TUFDSEMsVUFBVSxDQUFDSixlQUFlLENBQUNLLElBQWhCLENBQXFCLElBQXJCLEVBQTJCSixPQUEzQixFQUFvQ0MsTUFBcEMsQ0FBRCxFQUE4QyxFQUE5QyxDQUFWO0lBQ0g7RUFDSixDQVJEOztFQVVBLE9BQU8sSUFBSUksT0FBSixDQUFZTixlQUFaLENBQVA7QUFDSCxDQWZNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3V0aWxzL3V0aWxzLmpzP2Q5ZWUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufTtcblxuZXhwb3J0IGNvbnN0IHRvQm9vbGVhbiA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHJldHVybiAhL14oPzpmKD86YWxzZSk/fG5vP3wwKykkL2kudGVzdCh2YWwpICYmICEhdmFsO1xufTtcblxuZXhwb3J0IGNvbnN0IGV2ZW50S2V5ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBuYW1lc3BhY2UgPSBudWxsKSB7XG4gICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgbmFtZXNwYWNlID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDUpO1xuICAgIH1cblxuICAgIHJldHVybiBgJHtldmVudE5hbWV9LiR7bmFtZXNwYWNlfWA7XG59O1xuXG5leHBvcnQgY29uc3QgdCA9IGZ1bmN0aW9uKHN0cmluZywgcmVwbGFjZW1lbnRzID0ge30pIHtcbiAgICBpZiAod2luZG93LkZvcm1pZVRyYW5zbGF0aW9ucykge1xuICAgICAgICBzdHJpbmcgPSB3aW5kb3cuRm9ybWllVHJhbnNsYXRpb25zW3N0cmluZ10gfHwgc3RyaW5nO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgveyhbYS16QS1aMC05XSspfS9nLCAobWF0Y2gsIHAxKSA9PiB7XG4gICAgICAgIGlmIChyZXBsYWNlbWVudHNbcDFdKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnRzW3AxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBlbnN1cmVWYXJpYWJsZSA9IGZ1bmN0aW9uKHZhcmlhYmxlLCB0aW1lb3V0ID0gMTAwMDAwKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuXG4gICAgLy8gRnVuY3Rpb24gdG8gYWxsb3cgdXMgdG8gd2FpdCBmb3IgYSBnbG9iYWwgdmFyaWFibGUgdG8gYmUgYXZhaWxhYmxlLiBVc2VmdWwgZm9yIHRoaXJkLXBhcnR5IHNjcmlwdHMuXG4gICAgY29uc3Qgd2FpdEZvclZhcmlhYmxlID0gZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGlmICh3aW5kb3dbdmFyaWFibGVdKSB7XG4gICAgICAgICAgICByZXNvbHZlKHdpbmRvd1t2YXJpYWJsZV0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbWVvdXQgJiYgKERhdGUubm93KCkgLSBzdGFydCkgPj0gdGltZW91dCkge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcigndGltZW91dCcpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQod2FpdEZvclZhcmlhYmxlLmJpbmQodGhpcywgcmVzb2x2ZSwgcmVqZWN0KSwgMzApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSh3YWl0Rm9yVmFyaWFibGUpO1xufTtcbiJdLCJuYW1lcyI6WyJpc0VtcHR5Iiwib2JqIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImNvbnN0cnVjdG9yIiwidG9Cb29sZWFuIiwidmFsIiwidGVzdCIsImV2ZW50S2V5IiwiZXZlbnROYW1lIiwibmFtZXNwYWNlIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwidCIsInN0cmluZyIsInJlcGxhY2VtZW50cyIsIndpbmRvdyIsIkZvcm1pZVRyYW5zbGF0aW9ucyIsInJlcGxhY2UiLCJtYXRjaCIsInAxIiwiZW5zdXJlVmFyaWFibGUiLCJ2YXJpYWJsZSIsInRpbWVvdXQiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJ3YWl0Rm9yVmFyaWFibGUiLCJyZXNvbHZlIiwicmVqZWN0IiwiRXJyb3IiLCJzZXRUaW1lb3V0IiwiYmluZCIsIlByb21pc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/utils/utils.js\n");

/***/ }),

/***/ "./src/scss/formie-base.scss":
/*!***********************************!*\
  !*** ./src/scss/formie-base.scss ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2Nzcy9mb3JtaWUtYmFzZS5zY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3NzL2Zvcm1pZS1iYXNlLnNjc3M/ZDAzNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scss/formie-base.scss\n");

/***/ }),

/***/ "./src/scss/formie-theme.scss":
/*!************************************!*\
  !*** ./src/scss/formie-theme.scss ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2Nzcy9mb3JtaWUtdGhlbWUuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2Nzcy9mb3JtaWUtdGhlbWUuc2Nzcz82NjZlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scss/formie-theme.scss\n");

/***/ }),

/***/ "./src/scss/fields/phone-country.scss":
/*!********************************************!*\
  !*** ./src/scss/fields/phone-country.scss ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2Nzcy9maWVsZHMvcGhvbmUtY291bnRyeS5zY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3NzL2ZpZWxkcy9waG9uZS1jb3VudHJ5LnNjc3M/NTAyOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scss/fields/phone-country.scss\n");

/***/ }),

/***/ "./src/scss/fields/tags.scss":
/*!***********************************!*\
  !*** ./src/scss/fields/tags.scss ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2Nzcy9maWVsZHMvdGFncy5zY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3NzL2ZpZWxkcy90YWdzLnNjc3M/ZWE3MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scss/fields/tags.scss\n");

/***/ }),

/***/ "../../../../node_modules/formdata-polyfill/formdata.min.js":
/*!******************************************************************!*\
  !*** ../../../../node_modules/formdata-polyfill/formdata.min.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */\n;(function(){var h;function l(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var m=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};\nfunction n(a){a=[\"object\"==typeof globalThis&&globalThis,a,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error(\"Cannot find global object\");}var q=n(this);function r(a,b){if(b)a:{var c=q;a=a.split(\".\");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&m(c,a,{configurable:!0,writable:!0,value:b})}}\nr(\"Symbol\",function(a){function b(f){if(this instanceof b)throw new TypeError(\"Symbol is not a constructor\");return new c(d+(f||\"\")+\"_\"+e++,f)}function c(f,g){this.A=f;m(this,\"description\",{configurable:!0,writable:!0,value:g})}if(a)return a;c.prototype.toString=function(){return this.A};var d=\"jscomp_symbol_\"+(1E9*Math.random()>>>0)+\"_\",e=0;return b});\nr(\"Symbol.iterator\",function(a){if(a)return a;a=Symbol(\"Symbol.iterator\");for(var b=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),c=0;c<b.length;c++){var d=q[b[c]];\"function\"===typeof d&&\"function\"!=typeof d.prototype[a]&&m(d.prototype,a,{configurable:!0,writable:!0,value:function(){return u(l(this))}})}return a});function u(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}\nfunction v(a){var b=\"undefined\"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:l(a)}}var w;if(\"function\"==typeof Object.setPrototypeOf)w=Object.setPrototypeOf;else{var y;a:{var z={a:!0},A={};try{A.__proto__=z;y=A.a;break a}catch(a){}y=!1}w=y?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+\" is not extensible\");return a}:null}var B=w;function C(){this.m=!1;this.j=null;this.v=void 0;this.h=1;this.u=this.C=0;this.l=null}\nfunction D(a){if(a.m)throw new TypeError(\"Generator is already running\");a.m=!0}C.prototype.o=function(a){this.v=a};C.prototype.s=function(a){this.l={D:a,F:!0};this.h=this.C||this.u};C.prototype.return=function(a){this.l={return:a};this.h=this.u};function E(a,b){a.h=3;return{value:b}}function F(a){this.g=new C;this.G=a}F.prototype.o=function(a){D(this.g);if(this.g.j)return G(this,this.g.j.next,a,this.g.o);this.g.o(a);return H(this)};\nfunction I(a,b){D(a.g);var c=a.g.j;if(c)return G(a,\"return\"in c?c[\"return\"]:function(d){return{value:d,done:!0}},b,a.g.return);a.g.return(b);return H(a)}F.prototype.s=function(a){D(this.g);if(this.g.j)return G(this,this.g.j[\"throw\"],a,this.g.o);this.g.s(a);return H(this)};\nfunction G(a,b,c,d){try{var e=b.call(a.g.j,c);if(!(e instanceof Object))throw new TypeError(\"Iterator result \"+e+\" is not an object\");if(!e.done)return a.g.m=!1,e;var f=e.value}catch(g){return a.g.j=null,a.g.s(g),H(a)}a.g.j=null;d.call(a.g,f);return H(a)}function H(a){for(;a.g.h;)try{var b=a.G(a.g);if(b)return a.g.m=!1,{value:b.value,done:!1}}catch(c){a.g.v=void 0,a.g.s(c)}a.g.m=!1;if(a.g.l){b=a.g.l;a.g.l=null;if(b.F)throw b.D;return{value:b.return,done:!0}}return{value:void 0,done:!0}}\nfunction J(a){this.next=function(b){return a.o(b)};this.throw=function(b){return a.s(b)};this.return=function(b){return I(a,b)};this[Symbol.iterator]=function(){return this}}function K(a,b){b=new J(new F(b));B&&a.prototype&&B(b,a.prototype);return b}function L(a,b){a instanceof String&&(a+=\"\");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}\nr(\"Array.prototype.entries\",function(a){return a?a:function(){return L(this,function(b,c){return[b,c]})}});\nif(\"undefined\"!==typeof Blob&&(\"undefined\"===typeof FormData||!FormData.prototype.keys)){var M=function(a,b){for(var c=0;c<a.length;c++)b(a[c])},N=function(a){return a.replace(/\\r?\\n|\\r/g,\"\\r\\n\")},O=function(a,b,c){if(b instanceof Blob){c=void 0!==c?String(c+\"\"):\"string\"===typeof b.name?b.name:\"blob\";if(b.name!==c||\"[object Blob]\"===Object.prototype.toString.call(b))b=new File([b],c);return[String(a),b]}return[String(a),String(b)]},P=function(a,b){if(a.length<b)throw new TypeError(b+\" argument required, but only \"+\na.length+\" present.\");},Q=\"object\"===typeof globalThis?globalThis:\"object\"===typeof window?window:\"object\"===typeof self?self:this,R=Q.FormData,S=Q.XMLHttpRequest&&Q.XMLHttpRequest.prototype.send,T=Q.Request&&Q.fetch,U=Q.navigator&&Q.navigator.sendBeacon,V=Q.Element&&Q.Element.prototype,W=Q.Symbol&&Symbol.toStringTag;W&&(Blob.prototype[W]||(Blob.prototype[W]=\"Blob\"),\"File\"in Q&&!File.prototype[W]&&(File.prototype[W]=\"File\"));try{new File([],\"\")}catch(a){Q.File=function(b,c,d){b=new Blob(b,d||{});\nObject.defineProperties(b,{name:{value:c},lastModified:{value:+(d&&void 0!==d.lastModified?new Date(d.lastModified):new Date)},toString:{value:function(){return\"[object File]\"}}});W&&Object.defineProperty(b,W,{value:\"File\"});return b}}var escape=function(a){return a.replace(/\\n/g,\"%0A\").replace(/\\r/g,\"%0D\").replace(/\"/g,\"%22\")},X=function(a){this.i=[];var b=this;a&&M(a.elements,function(c){if(c.name&&!c.disabled&&\"submit\"!==c.type&&\"button\"!==c.type&&!c.matches(\"form fieldset[disabled] *\"))if(\"file\"===\nc.type){var d=c.files&&c.files.length?c.files:[new File([],\"\",{type:\"application/octet-stream\"})];M(d,function(e){b.append(c.name,e)})}else\"select-multiple\"===c.type||\"select-one\"===c.type?M(c.options,function(e){!e.disabled&&e.selected&&b.append(c.name,e.value)}):\"checkbox\"===c.type||\"radio\"===c.type?c.checked&&b.append(c.name,c.value):(d=\"textarea\"===c.type?N(c.value):c.value,b.append(c.name,d))})};h=X.prototype;h.append=function(a,b,c){P(arguments,2);this.i.push(O(a,b,c))};h.delete=function(a){P(arguments,\n1);var b=[];a=String(a);M(this.i,function(c){c[0]!==a&&b.push(c)});this.i=b};h.entries=function b(){var c,d=this;return K(b,function(e){1==e.h&&(c=0);if(3!=e.h)return c<d.i.length?e=E(e,d.i[c]):(e.h=0,e=void 0),e;c++;e.h=2})};h.forEach=function(b,c){P(arguments,1);for(var d=v(this),e=d.next();!e.done;e=d.next()){var f=v(e.value);e=f.next().value;f=f.next().value;b.call(c,f,e,this)}};h.get=function(b){P(arguments,1);var c=this.i;b=String(b);for(var d=0;d<c.length;d++)if(c[d][0]===b)return c[d][1];\nreturn null};h.getAll=function(b){P(arguments,1);var c=[];b=String(b);M(this.i,function(d){d[0]===b&&c.push(d[1])});return c};h.has=function(b){P(arguments,1);b=String(b);for(var c=0;c<this.i.length;c++)if(this.i[c][0]===b)return!0;return!1};h.keys=function c(){var d=this,e,f,g,k,p;return K(c,function(t){1==t.h&&(e=v(d),f=e.next());if(3!=t.h){if(f.done){t.h=0;return}g=f.value;k=v(g);p=k.next().value;return E(t,p)}f=e.next();t.h=2})};h.set=function(c,d,e){P(arguments,2);c=String(c);var f=[],g=O(c,\nd,e),k=!0;M(this.i,function(p){p[0]===c?k&&(k=!f.push(g)):f.push(p)});k&&f.push(g);this.i=f};h.values=function d(){var e=this,f,g,k,p,t;return K(d,function(x){1==x.h&&(f=v(e),g=f.next());if(3!=x.h){if(g.done){x.h=0;return}k=g.value;p=v(k);p.next();t=p.next().value;return E(x,t)}g=f.next();x.h=2})};X.prototype._asNative=function(){for(var d=new R,e=v(this),f=e.next();!f.done;f=e.next()){var g=v(f.value);f=g.next().value;g=g.next().value;d.append(f,g)}return d};X.prototype._blob=function(){var d=\"----formdata-polyfill-\"+\nMath.random(),e=[],f=\"--\"+d+'\\r\\nContent-Disposition: form-data; name=\"';this.forEach(function(g,k){return\"string\"==typeof g?e.push(f+escape(N(k))+('\"\\r\\n\\r\\n'+N(g)+\"\\r\\n\")):e.push(f+escape(N(k))+('\"; filename=\"'+escape(g.name)+'\"\\r\\nContent-Type: '+(g.type||\"application/octet-stream\")+\"\\r\\n\\r\\n\"),g,\"\\r\\n\")});e.push(\"--\"+d+\"--\");return new Blob(e,{type:\"multipart/form-data; boundary=\"+d})};X.prototype[Symbol.iterator]=function(){return this.entries()};X.prototype.toString=function(){return\"[object FormData]\"};\nV&&!V.matches&&(V.matches=V.matchesSelector||V.mozMatchesSelector||V.msMatchesSelector||V.oMatchesSelector||V.webkitMatchesSelector||function(d){d=(this.document||this.ownerDocument).querySelectorAll(d);for(var e=d.length;0<=--e&&d.item(e)!==this;);return-1<e});W&&(X.prototype[W]=\"FormData\");if(S){var Y=Q.XMLHttpRequest.prototype.setRequestHeader;Q.XMLHttpRequest.prototype.setRequestHeader=function(d,e){Y.call(this,d,e);\"content-type\"===d.toLowerCase()&&(this.B=!0)};Q.XMLHttpRequest.prototype.send=\nfunction(d){d instanceof X?(d=d._blob(),this.B||this.setRequestHeader(\"Content-Type\",d.type),S.call(this,d)):S.call(this,d)}}T&&(Q.fetch=function(d,e){e&&e.body&&e.body instanceof X&&(e.body=e.body._blob());return T.call(this,d,e)});U&&(Q.navigator.sendBeacon=function(d,e){e instanceof X&&(e=e._asNative());return U.call(this,d,e)});Q.FormData=X};})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Zvcm1kYXRhLXBvbHlmaWxsL2Zvcm1kYXRhLm1pbi5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQSxDQUFDLFlBQVksTUFBTSxjQUFjLFFBQVEsa0JBQWtCLG1CQUFtQixxQkFBcUIsRUFBRSxVQUFVLHVGQUF1RixvREFBb0QsYUFBYTtBQUN2USxjQUFjLDBJQUEwSSxZQUFZLFdBQVcsS0FBSyxXQUFXLDRCQUE0QiwwQ0FBMEMsY0FBYyxnQkFBZ0IsUUFBUSxRQUFRLGVBQWUsWUFBWSxhQUFhLEtBQUssV0FBVyxxQkFBcUIsT0FBTyxnQkFBZ0IsT0FBTyxPQUFPLHNCQUFzQixvQ0FBb0M7QUFDL2QsdUJBQXVCLGNBQWMsd0VBQXdFLGtDQUFrQyxnQkFBZ0IsU0FBUyxzQkFBc0Isb0NBQW9DLEVBQUUsY0FBYyxnQ0FBZ0MsZUFBZSx1REFBdUQsU0FBUztBQUNqVyxnQ0FBZ0MsY0FBYyw0QkFBNEIsZ0pBQWdKLFdBQVcsS0FBSyxjQUFjLDJFQUEyRSw2Q0FBNkMsbUJBQW1CLEVBQUUsU0FBUyxFQUFFLGNBQWMsR0FBRyxRQUFRLDhCQUE4QixhQUFhO0FBQ3BkLGNBQWMsc0VBQXNFLG9CQUFvQixXQUFXLE1BQU0sb0VBQW9FLEtBQUssTUFBTSxHQUFHLE9BQU8sS0FBSyxNQUFNLElBQUksY0FBYyxNQUFNLFFBQVEsVUFBVSxLQUFLLGtCQUFrQixjQUFjLCtEQUErRCxTQUFTLE1BQU0sUUFBUSxhQUFhLFVBQVUsWUFBWSxjQUFjLFNBQVMsZ0JBQWdCO0FBQzVjLGNBQWMsMkRBQTJELE9BQU8sMEJBQTBCLFVBQVUsMEJBQTBCLFFBQVEsVUFBVSx1QkFBdUIsK0JBQStCLFFBQVEsVUFBVSxlQUFlLGdCQUFnQixNQUFNLE9BQU8sU0FBUyxjQUFjLGFBQWEsU0FBUywwQkFBMEIsVUFBVSxvREFBb0QsWUFBWTtBQUNyYSxnQkFBZ0IsT0FBTyxZQUFZLHFEQUFxRCxPQUFPLGlCQUFpQixlQUFlLGNBQWMsWUFBWSwwQkFBMEIsVUFBVSx3REFBd0QsWUFBWTtBQUNqUSxvQkFBb0IsSUFBSSxzQkFBc0Isd0ZBQXdGLDZCQUE2QixjQUFjLFNBQVMsZ0NBQWdDLFdBQVcsY0FBYyxZQUFZLGNBQWMsS0FBSyxNQUFNLEtBQUssZUFBZSxzQkFBc0IsdUJBQXVCLFNBQVMsc0JBQXNCLFNBQVMsVUFBVSxRQUFRLFdBQVcsaUJBQWlCLE9BQU8sd0JBQXdCLE9BQU87QUFDcmQsY0FBYyxzQkFBc0IsZUFBZSx1QkFBdUIsZUFBZSx3QkFBd0IsZUFBZSxpQ0FBaUMsYUFBYSxnQkFBZ0Isa0JBQWtCLGlDQUFpQyxTQUFTLGdCQUFnQiw2QkFBNkIsZ0JBQWdCLGdCQUFnQixtQkFBbUIsVUFBVSxPQUFPLHlCQUF5QixLQUFLLE9BQU8sd0JBQXdCLDhCQUE4QixVQUFVO0FBQ2hkLHdDQUF3QyxzQkFBc0IsNEJBQTRCLFlBQVksR0FBRztBQUN6Ryx5RkFBeUYsb0JBQW9CLFlBQVksV0FBVyxZQUFZLGVBQWUscUNBQXFDLG1CQUFtQixzQkFBc0IsaUVBQWlFLHFGQUFxRixvQkFBb0IsNEJBQTRCLGlCQUFpQjtBQUNwYyx1QkFBdUIsd1NBQXdTLDhHQUE4RyxJQUFJLGdCQUFnQixTQUFTLHVCQUF1QixrQkFBa0I7QUFDbmYsMkJBQTJCLE1BQU0sUUFBUSxlQUFlLHNFQUFzRSxXQUFXLGlCQUFpQix3QkFBd0IsRUFBRSw4QkFBOEIsYUFBYSxFQUFFLFVBQVUsdUJBQXVCLHVFQUF1RSxlQUFlLFVBQVUsV0FBVyw0QkFBNEI7QUFDelksUUFBUSx1REFBdUQsZ0NBQWdDLEdBQUcsZ0JBQWdCLG1CQUFtQixFQUFFLDhFQUE4RSxrREFBa0QsMElBQTBJLEdBQUcsY0FBYyx5QkFBeUIsZUFBZSx1QkFBdUIscUJBQXFCO0FBQ3RmLEdBQUcsU0FBUyxZQUFZLHFCQUFxQixvQkFBb0IsRUFBRSxVQUFVLHVCQUF1QixhQUFhLHVCQUF1QixjQUFjLCtEQUErRCxJQUFJLE1BQU0sR0FBRyx3QkFBd0IsZUFBZSw2QkFBNkIsUUFBUSxZQUFZLGlCQUFpQixpQkFBaUIsaUJBQWlCLHFCQUFxQixrQkFBa0IsZUFBZSxhQUFhLFlBQVksWUFBWSxXQUFXO0FBQ25kLGFBQWEscUJBQXFCLGVBQWUsU0FBUyxZQUFZLHFCQUFxQix1QkFBdUIsRUFBRSxVQUFVLGtCQUFrQixlQUFlLFlBQVksWUFBWSxnQkFBZ0IsaUNBQWlDLFVBQVUsb0JBQW9CLHFCQUFxQix1QkFBdUIsNEJBQTRCLFdBQVcsV0FBVyxNQUFNLE9BQU8sVUFBVSxPQUFPLGlCQUFpQixjQUFjLFdBQVcsTUFBTSxHQUFHLHNCQUFzQixlQUFlLFlBQVk7QUFDdGUsVUFBVSxxQkFBcUIscUNBQXFDLEVBQUUsYUFBYSxVQUFVLHNCQUFzQixxQkFBcUIsdUJBQXVCLDRCQUE0QixXQUFXLFdBQVcsTUFBTSxPQUFPLFVBQVUsT0FBTyxTQUFTLGlCQUFpQixjQUFjLFdBQVcsTUFBTSxHQUFHLGlDQUFpQyxxQ0FBcUMsUUFBUSxZQUFZLGlCQUFpQixpQkFBaUIsaUJBQWlCLGNBQWMsVUFBVSw2QkFBNkI7QUFDN2UsaUVBQWlFLFFBQVEsMkJBQTJCLHFHQUFxRyw0R0FBNEcsRUFBRSxvQkFBb0IsbUJBQW1CLDJCQUEyQixhQUFhLEdBQUcsd0NBQXdDLHVCQUF1QixnQ0FBZ0M7QUFDeGUsaUpBQWlKLDBEQUEwRCxtQkFBbUIseUJBQXlCLEVBQUUsV0FBVyxFQUFFLCtCQUErQixNQUFNLGtEQUFrRCwwREFBMEQsaUJBQWlCLCtDQUErQztBQUN2ZCxZQUFZLGlIQUFpSCwwQkFBMEIsd0RBQXdELHdCQUF3QixFQUFFLHlDQUF5QyxrQ0FBa0Msd0JBQXdCLEVBQUUsZUFBZSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZm9ybWRhdGEtcG9seWZpbGwvZm9ybWRhdGEubWluLmpzPzJlNTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIGZvcm1kYXRhLXBvbHlmaWxsLiBNSVQgTGljZW5zZS4gSmltbXkgVz9ydGluZyA8aHR0cHM6Ly9qaW1teS53YXJ0aW5nLnNlL29wZW5zb3VyY2U+ICovXG47KGZ1bmN0aW9uKCl7dmFyIGg7ZnVuY3Rpb24gbChhKXt2YXIgYj0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiPGEubGVuZ3RoP3tkb25lOiExLHZhbHVlOmFbYisrXX06e2RvbmU6ITB9fX12YXIgbT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe2lmKGE9PUFycmF5LnByb3RvdHlwZXx8YT09T2JqZWN0LnByb3RvdHlwZSlyZXR1cm4gYTthW2JdPWMudmFsdWU7cmV0dXJuIGF9O1xuZnVuY3Rpb24gbihhKXthPVtcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxhLFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyxcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZixcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWxdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKXt2YXIgYz1hW2JdO2lmKGMmJmMuTWF0aD09TWF0aClyZXR1cm4gY310aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIGdsb2JhbCBvYmplY3RcIik7fXZhciBxPW4odGhpcyk7ZnVuY3Rpb24gcihhLGIpe2lmKGIpYTp7dmFyIGM9cTthPWEuc3BsaXQoXCIuXCIpO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGgtMTtkKyspe3ZhciBlPWFbZF07aWYoIShlIGluIGMpKWJyZWFrIGE7Yz1jW2VdfWE9YVthLmxlbmd0aC0xXTtkPWNbYV07Yj1iKGQpO2IhPWQmJm51bGwhPWImJm0oYyxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Yn0pfX1cbnIoXCJTeW1ib2xcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGYpe2lmKHRoaXMgaW5zdGFuY2VvZiBiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7cmV0dXJuIG5ldyBjKGQrKGZ8fFwiXCIpK1wiX1wiK2UrKyxmKX1mdW5jdGlvbiBjKGYsZyl7dGhpcy5BPWY7bSh0aGlzLFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmd9KX1pZihhKXJldHVybiBhO2MucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07dmFyIGQ9XCJqc2NvbXBfc3ltYm9sX1wiKygxRTkqTWF0aC5yYW5kb20oKT4+PjApK1wiX1wiLGU9MDtyZXR1cm4gYn0pO1xucihcIlN5bWJvbC5pdGVyYXRvclwiLGZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIGE7YT1TeW1ib2woXCJTeW1ib2wuaXRlcmF0b3JcIik7Zm9yKHZhciBiPVwiQXJyYXkgSW50OEFycmF5IFVpbnQ4QXJyYXkgVWludDhDbGFtcGVkQXJyYXkgSW50MTZBcnJheSBVaW50MTZBcnJheSBJbnQzMkFycmF5IFVpbnQzMkFycmF5IEZsb2F0MzJBcnJheSBGbG9hdDY0QXJyYXlcIi5zcGxpdChcIiBcIiksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1xW2JbY11dO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBkLnByb3RvdHlwZVthXSYmbShkLnByb3RvdHlwZSxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdShsKHRoaXMpKX19KX1yZXR1cm4gYX0pO2Z1bmN0aW9uIHUoYSl7YT17bmV4dDphfTthW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307cmV0dXJuIGF9XG5mdW5jdGlvbiB2KGEpe3ZhciBiPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciYmYVtTeW1ib2wuaXRlcmF0b3JdO3JldHVybiBiP2IuY2FsbChhKTp7bmV4dDpsKGEpfX12YXIgdztpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3Quc2V0UHJvdG90eXBlT2Ypdz1PYmplY3Quc2V0UHJvdG90eXBlT2Y7ZWxzZXt2YXIgeTthOnt2YXIgej17YTohMH0sQT17fTt0cnl7QS5fX3Byb3RvX189ejt5PUEuYTticmVhayBhfWNhdGNoKGEpe315PSExfXc9eT9mdW5jdGlvbihhLGIpe2EuX19wcm90b19fPWI7aWYoYS5fX3Byb3RvX18hPT1iKXRocm93IG5ldyBUeXBlRXJyb3IoYStcIiBpcyBub3QgZXh0ZW5zaWJsZVwiKTtyZXR1cm4gYX06bnVsbH12YXIgQj13O2Z1bmN0aW9uIEMoKXt0aGlzLm09ITE7dGhpcy5qPW51bGw7dGhpcy52PXZvaWQgMDt0aGlzLmg9MTt0aGlzLnU9dGhpcy5DPTA7dGhpcy5sPW51bGx9XG5mdW5jdGlvbiBEKGEpe2lmKGEubSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTthLm09ITB9Qy5wcm90b3R5cGUubz1mdW5jdGlvbihhKXt0aGlzLnY9YX07Qy5wcm90b3R5cGUucz1mdW5jdGlvbihhKXt0aGlzLmw9e0Q6YSxGOiEwfTt0aGlzLmg9dGhpcy5DfHx0aGlzLnV9O0MucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihhKXt0aGlzLmw9e3JldHVybjphfTt0aGlzLmg9dGhpcy51fTtmdW5jdGlvbiBFKGEsYil7YS5oPTM7cmV0dXJue3ZhbHVlOmJ9fWZ1bmN0aW9uIEYoYSl7dGhpcy5nPW5ldyBDO3RoaXMuRz1hfUYucHJvdG90eXBlLm89ZnVuY3Rpb24oYSl7RCh0aGlzLmcpO2lmKHRoaXMuZy5qKXJldHVybiBHKHRoaXMsdGhpcy5nLmoubmV4dCxhLHRoaXMuZy5vKTt0aGlzLmcubyhhKTtyZXR1cm4gSCh0aGlzKX07XG5mdW5jdGlvbiBJKGEsYil7RChhLmcpO3ZhciBjPWEuZy5qO2lmKGMpcmV0dXJuIEcoYSxcInJldHVyblwiaW4gYz9jW1wicmV0dXJuXCJdOmZ1bmN0aW9uKGQpe3JldHVybnt2YWx1ZTpkLGRvbmU6ITB9fSxiLGEuZy5yZXR1cm4pO2EuZy5yZXR1cm4oYik7cmV0dXJuIEgoYSl9Ri5wcm90b3R5cGUucz1mdW5jdGlvbihhKXtEKHRoaXMuZyk7aWYodGhpcy5nLmopcmV0dXJuIEcodGhpcyx0aGlzLmcualtcInRocm93XCJdLGEsdGhpcy5nLm8pO3RoaXMuZy5zKGEpO3JldHVybiBIKHRoaXMpfTtcbmZ1bmN0aW9uIEcoYSxiLGMsZCl7dHJ5e3ZhciBlPWIuY2FsbChhLmcuaixjKTtpZighKGUgaW5zdGFuY2VvZiBPYmplY3QpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJdGVyYXRvciByZXN1bHQgXCIrZStcIiBpcyBub3QgYW4gb2JqZWN0XCIpO2lmKCFlLmRvbmUpcmV0dXJuIGEuZy5tPSExLGU7dmFyIGY9ZS52YWx1ZX1jYXRjaChnKXtyZXR1cm4gYS5nLmo9bnVsbCxhLmcucyhnKSxIKGEpfWEuZy5qPW51bGw7ZC5jYWxsKGEuZyxmKTtyZXR1cm4gSChhKX1mdW5jdGlvbiBIKGEpe2Zvcig7YS5nLmg7KXRyeXt2YXIgYj1hLkcoYS5nKTtpZihiKXJldHVybiBhLmcubT0hMSx7dmFsdWU6Yi52YWx1ZSxkb25lOiExfX1jYXRjaChjKXthLmcudj12b2lkIDAsYS5nLnMoYyl9YS5nLm09ITE7aWYoYS5nLmwpe2I9YS5nLmw7YS5nLmw9bnVsbDtpZihiLkYpdGhyb3cgYi5EO3JldHVybnt2YWx1ZTpiLnJldHVybixkb25lOiEwfX1yZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6ITB9fVxuZnVuY3Rpb24gSihhKXt0aGlzLm5leHQ9ZnVuY3Rpb24oYil7cmV0dXJuIGEubyhiKX07dGhpcy50aHJvdz1mdW5jdGlvbihiKXtyZXR1cm4gYS5zKGIpfTt0aGlzLnJldHVybj1mdW5jdGlvbihiKXtyZXR1cm4gSShhLGIpfTt0aGlzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319ZnVuY3Rpb24gSyhhLGIpe2I9bmV3IEoobmV3IEYoYikpO0ImJmEucHJvdG90eXBlJiZCKGIsYS5wcm90b3R5cGUpO3JldHVybiBifWZ1bmN0aW9uIEwoYSxiKXthIGluc3RhbmNlb2YgU3RyaW5nJiYoYSs9XCJcIik7dmFyIGM9MCxkPSExLGU9e25leHQ6ZnVuY3Rpb24oKXtpZighZCYmYzxhLmxlbmd0aCl7dmFyIGY9YysrO3JldHVybnt2YWx1ZTpiKGYsYVtmXSksZG9uZTohMX19ZD0hMDtyZXR1cm57ZG9uZTohMCx2YWx1ZTp2b2lkIDB9fX07ZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBlfVxucihcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbigpe3JldHVybiBMKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm5bYixjXX0pfX0pO1xuaWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBCbG9iJiYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBGb3JtRGF0YXx8IUZvcm1EYXRhLnByb3RvdHlwZS5rZXlzKSl7dmFyIE09ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliKGFbY10pfSxOPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1xccj9cXG58XFxyL2csXCJcXHJcXG5cIil9LE89ZnVuY3Rpb24oYSxiLGMpe2lmKGIgaW5zdGFuY2VvZiBCbG9iKXtjPXZvaWQgMCE9PWM/U3RyaW5nKGMrXCJcIik6XCJzdHJpbmdcIj09PXR5cGVvZiBiLm5hbWU/Yi5uYW1lOlwiYmxvYlwiO2lmKGIubmFtZSE9PWN8fFwiW29iamVjdCBCbG9iXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGIpKWI9bmV3IEZpbGUoW2JdLGMpO3JldHVybltTdHJpbmcoYSksYl19cmV0dXJuW1N0cmluZyhhKSxTdHJpbmcoYildfSxQPWZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGg8Yil0aHJvdyBuZXcgVHlwZUVycm9yKGIrXCIgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IFwiK1xuYS5sZW5ndGgrXCIgcHJlc2VudC5cIik7fSxRPVwib2JqZWN0XCI9PT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwib2JqZWN0XCI9PT10eXBlb2Ygd2luZG93P3dpbmRvdzpcIm9iamVjdFwiPT09dHlwZW9mIHNlbGY/c2VsZjp0aGlzLFI9US5Gb3JtRGF0YSxTPVEuWE1MSHR0cFJlcXVlc3QmJlEuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQsVD1RLlJlcXVlc3QmJlEuZmV0Y2gsVT1RLm5hdmlnYXRvciYmUS5uYXZpZ2F0b3Iuc2VuZEJlYWNvbixWPVEuRWxlbWVudCYmUS5FbGVtZW50LnByb3RvdHlwZSxXPVEuU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWc7VyYmKEJsb2IucHJvdG90eXBlW1ddfHwoQmxvYi5wcm90b3R5cGVbV109XCJCbG9iXCIpLFwiRmlsZVwiaW4gUSYmIUZpbGUucHJvdG90eXBlW1ddJiYoRmlsZS5wcm90b3R5cGVbV109XCJGaWxlXCIpKTt0cnl7bmV3IEZpbGUoW10sXCJcIil9Y2F0Y2goYSl7US5GaWxlPWZ1bmN0aW9uKGIsYyxkKXtiPW5ldyBCbG9iKGIsZHx8e30pO1xuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYix7bmFtZTp7dmFsdWU6Y30sbGFzdE1vZGlmaWVkOnt2YWx1ZTorKGQmJnZvaWQgMCE9PWQubGFzdE1vZGlmaWVkP25ldyBEYXRlKGQubGFzdE1vZGlmaWVkKTpuZXcgRGF0ZSl9LHRvU3RyaW5nOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBGaWxlXVwifX19KTtXJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYixXLHt2YWx1ZTpcIkZpbGVcIn0pO3JldHVybiBifX12YXIgZXNjYXBlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1xcbi9nLFwiJTBBXCIpLnJlcGxhY2UoL1xcci9nLFwiJTBEXCIpLnJlcGxhY2UoL1wiL2csXCIlMjJcIil9LFg9ZnVuY3Rpb24oYSl7dGhpcy5pPVtdO3ZhciBiPXRoaXM7YSYmTShhLmVsZW1lbnRzLGZ1bmN0aW9uKGMpe2lmKGMubmFtZSYmIWMuZGlzYWJsZWQmJlwic3VibWl0XCIhPT1jLnR5cGUmJlwiYnV0dG9uXCIhPT1jLnR5cGUmJiFjLm1hdGNoZXMoXCJmb3JtIGZpZWxkc2V0W2Rpc2FibGVkXSAqXCIpKWlmKFwiZmlsZVwiPT09XG5jLnR5cGUpe3ZhciBkPWMuZmlsZXMmJmMuZmlsZXMubGVuZ3RoP2MuZmlsZXM6W25ldyBGaWxlKFtdLFwiXCIse3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pXTtNKGQsZnVuY3Rpb24oZSl7Yi5hcHBlbmQoYy5uYW1lLGUpfSl9ZWxzZVwic2VsZWN0LW11bHRpcGxlXCI9PT1jLnR5cGV8fFwic2VsZWN0LW9uZVwiPT09Yy50eXBlP00oYy5vcHRpb25zLGZ1bmN0aW9uKGUpeyFlLmRpc2FibGVkJiZlLnNlbGVjdGVkJiZiLmFwcGVuZChjLm5hbWUsZS52YWx1ZSl9KTpcImNoZWNrYm94XCI9PT1jLnR5cGV8fFwicmFkaW9cIj09PWMudHlwZT9jLmNoZWNrZWQmJmIuYXBwZW5kKGMubmFtZSxjLnZhbHVlKTooZD1cInRleHRhcmVhXCI9PT1jLnR5cGU/TihjLnZhbHVlKTpjLnZhbHVlLGIuYXBwZW5kKGMubmFtZSxkKSl9KX07aD1YLnByb3RvdHlwZTtoLmFwcGVuZD1mdW5jdGlvbihhLGIsYyl7UChhcmd1bWVudHMsMik7dGhpcy5pLnB1c2goTyhhLGIsYykpfTtoLmRlbGV0ZT1mdW5jdGlvbihhKXtQKGFyZ3VtZW50cyxcbjEpO3ZhciBiPVtdO2E9U3RyaW5nKGEpO00odGhpcy5pLGZ1bmN0aW9uKGMpe2NbMF0hPT1hJiZiLnB1c2goYyl9KTt0aGlzLmk9Yn07aC5lbnRyaWVzPWZ1bmN0aW9uIGIoKXt2YXIgYyxkPXRoaXM7cmV0dXJuIEsoYixmdW5jdGlvbihlKXsxPT1lLmgmJihjPTApO2lmKDMhPWUuaClyZXR1cm4gYzxkLmkubGVuZ3RoP2U9RShlLGQuaVtjXSk6KGUuaD0wLGU9dm9pZCAwKSxlO2MrKztlLmg9Mn0pfTtoLmZvckVhY2g9ZnVuY3Rpb24oYixjKXtQKGFyZ3VtZW50cywxKTtmb3IodmFyIGQ9dih0aGlzKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7dmFyIGY9dihlLnZhbHVlKTtlPWYubmV4dCgpLnZhbHVlO2Y9Zi5uZXh0KCkudmFsdWU7Yi5jYWxsKGMsZixlLHRoaXMpfX07aC5nZXQ9ZnVuY3Rpb24oYil7UChhcmd1bWVudHMsMSk7dmFyIGM9dGhpcy5pO2I9U3RyaW5nKGIpO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKGNbZF1bMF09PT1iKXJldHVybiBjW2RdWzFdO1xucmV0dXJuIG51bGx9O2guZ2V0QWxsPWZ1bmN0aW9uKGIpe1AoYXJndW1lbnRzLDEpO3ZhciBjPVtdO2I9U3RyaW5nKGIpO00odGhpcy5pLGZ1bmN0aW9uKGQpe2RbMF09PT1iJiZjLnB1c2goZFsxXSl9KTtyZXR1cm4gY307aC5oYXM9ZnVuY3Rpb24oYil7UChhcmd1bWVudHMsMSk7Yj1TdHJpbmcoYik7Zm9yKHZhciBjPTA7Yzx0aGlzLmkubGVuZ3RoO2MrKylpZih0aGlzLmlbY11bMF09PT1iKXJldHVybiEwO3JldHVybiExfTtoLmtleXM9ZnVuY3Rpb24gYygpe3ZhciBkPXRoaXMsZSxmLGcsayxwO3JldHVybiBLKGMsZnVuY3Rpb24odCl7MT09dC5oJiYoZT12KGQpLGY9ZS5uZXh0KCkpO2lmKDMhPXQuaCl7aWYoZi5kb25lKXt0Lmg9MDtyZXR1cm59Zz1mLnZhbHVlO2s9dihnKTtwPWsubmV4dCgpLnZhbHVlO3JldHVybiBFKHQscCl9Zj1lLm5leHQoKTt0Lmg9Mn0pfTtoLnNldD1mdW5jdGlvbihjLGQsZSl7UChhcmd1bWVudHMsMik7Yz1TdHJpbmcoYyk7dmFyIGY9W10sZz1PKGMsXG5kLGUpLGs9ITA7TSh0aGlzLmksZnVuY3Rpb24ocCl7cFswXT09PWM/ayYmKGs9IWYucHVzaChnKSk6Zi5wdXNoKHApfSk7ayYmZi5wdXNoKGcpO3RoaXMuaT1mfTtoLnZhbHVlcz1mdW5jdGlvbiBkKCl7dmFyIGU9dGhpcyxmLGcsayxwLHQ7cmV0dXJuIEsoZCxmdW5jdGlvbih4KXsxPT14LmgmJihmPXYoZSksZz1mLm5leHQoKSk7aWYoMyE9eC5oKXtpZihnLmRvbmUpe3guaD0wO3JldHVybn1rPWcudmFsdWU7cD12KGspO3AubmV4dCgpO3Q9cC5uZXh0KCkudmFsdWU7cmV0dXJuIEUoeCx0KX1nPWYubmV4dCgpO3guaD0yfSl9O1gucHJvdG90eXBlLl9hc05hdGl2ZT1mdW5jdGlvbigpe2Zvcih2YXIgZD1uZXcgUixlPXYodGhpcyksZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpe3ZhciBnPXYoZi52YWx1ZSk7Zj1nLm5leHQoKS52YWx1ZTtnPWcubmV4dCgpLnZhbHVlO2QuYXBwZW5kKGYsZyl9cmV0dXJuIGR9O1gucHJvdG90eXBlLl9ibG9iPWZ1bmN0aW9uKCl7dmFyIGQ9XCItLS0tZm9ybWRhdGEtcG9seWZpbGwtXCIrXG5NYXRoLnJhbmRvbSgpLGU9W10sZj1cIi0tXCIrZCsnXFxyXFxuQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPVwiJzt0aGlzLmZvckVhY2goZnVuY3Rpb24oZyxrKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZz9lLnB1c2goZitlc2NhcGUoTihrKSkrKCdcIlxcclxcblxcclxcbicrTihnKStcIlxcclxcblwiKSk6ZS5wdXNoKGYrZXNjYXBlKE4oaykpKygnXCI7IGZpbGVuYW1lPVwiJytlc2NhcGUoZy5uYW1lKSsnXCJcXHJcXG5Db250ZW50LVR5cGU6ICcrKGcudHlwZXx8XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIikrXCJcXHJcXG5cXHJcXG5cIiksZyxcIlxcclxcblwiKX0pO2UucHVzaChcIi0tXCIrZCtcIi0tXCIpO3JldHVybiBuZXcgQmxvYihlLHt0eXBlOlwibXVsdGlwYXJ0L2Zvcm0tZGF0YTsgYm91bmRhcnk9XCIrZH0pfTtYLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfTtYLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBGb3JtRGF0YV1cIn07XG5WJiYhVi5tYXRjaGVzJiYoVi5tYXRjaGVzPVYubWF0Y2hlc1NlbGVjdG9yfHxWLm1vek1hdGNoZXNTZWxlY3Rvcnx8Vi5tc01hdGNoZXNTZWxlY3Rvcnx8Vi5vTWF0Y2hlc1NlbGVjdG9yfHxWLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8ZnVuY3Rpb24oZCl7ZD0odGhpcy5kb2N1bWVudHx8dGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKGQpO2Zvcih2YXIgZT1kLmxlbmd0aDswPD0tLWUmJmQuaXRlbShlKSE9PXRoaXM7KTtyZXR1cm4tMTxlfSk7VyYmKFgucHJvdG90eXBlW1ddPVwiRm9ybURhdGFcIik7aWYoUyl7dmFyIFk9US5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2V0UmVxdWVzdEhlYWRlcjtRLlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKGQsZSl7WS5jYWxsKHRoaXMsZCxlKTtcImNvbnRlbnQtdHlwZVwiPT09ZC50b0xvd2VyQ2FzZSgpJiYodGhpcy5CPSEwKX07US5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZD1cbmZ1bmN0aW9uKGQpe2QgaW5zdGFuY2VvZiBYPyhkPWQuX2Jsb2IoKSx0aGlzLkJ8fHRoaXMuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLGQudHlwZSksUy5jYWxsKHRoaXMsZCkpOlMuY2FsbCh0aGlzLGQpfX1UJiYoUS5mZXRjaD1mdW5jdGlvbihkLGUpe2UmJmUuYm9keSYmZS5ib2R5IGluc3RhbmNlb2YgWCYmKGUuYm9keT1lLmJvZHkuX2Jsb2IoKSk7cmV0dXJuIFQuY2FsbCh0aGlzLGQsZSl9KTtVJiYoUS5uYXZpZ2F0b3Iuc2VuZEJlYWNvbj1mdW5jdGlvbihkLGUpe2UgaW5zdGFuY2VvZiBYJiYoZT1lLl9hc05hdGl2ZSgpKTtyZXR1cm4gVS5jYWxsKHRoaXMsZCxlKX0pO1EuRm9ybURhdGE9WH07fSkoKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../node_modules/formdata-polyfill/formdata.min.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"/js/formie": 0,
/******/ 			"css/fields/phone-country": 0,
/******/ 			"css/fields/tags": 0,
/******/ 			"css/formie-theme": 0,
/******/ 			"css/formie-base": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["formieConfigChunkLoadingGlobal"] = self["formieConfigChunkLoadingGlobal"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	__webpack_require__.O(undefined, ["css/fields/phone-country","css/fields/tags","css/formie-theme","css/formie-base"], () => (__webpack_require__("./src/js/formie.js")))
/******/ 	__webpack_require__.O(undefined, ["css/fields/phone-country","css/fields/tags","css/formie-theme","css/formie-base"], () => (__webpack_require__("./src/scss/formie-base.scss")))
/******/ 	__webpack_require__.O(undefined, ["css/fields/phone-country","css/fields/tags","css/formie-theme","css/formie-base"], () => (__webpack_require__("./src/scss/formie-theme.scss")))
/******/ 	__webpack_require__.O(undefined, ["css/fields/phone-country","css/fields/tags","css/formie-theme","css/formie-base"], () => (__webpack_require__("./src/scss/fields/phone-country.scss")))
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["css/fields/phone-country","css/fields/tags","css/formie-theme","css/formie-base"], () => (__webpack_require__("./src/scss/fields/tags.scss")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;